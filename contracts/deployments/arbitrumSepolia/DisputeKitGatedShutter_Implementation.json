{
  "address": "0x3a06272f2FEEC12B0FB5F3FF82688c0F06808bE7",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AlreadyInitialized",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FailedDelegateCall",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "implementation",
          "type": "address"
        }
      ],
      "name": "InvalidImplementation",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotInitializing",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UUPSUnauthorizedCallContext",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "slot",
          "type": "bytes32"
        }
      ],
      "name": "UUPSUnsupportedProxiableUUID",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        }
      ],
      "name": "ChoiceFunded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "_juror",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256[]",
          "name": "_voteIDs",
          "type": "uint256[]"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "_commit",
          "type": "bytes32"
        }
      ],
      "name": "CommitCast",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "_juror",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "_commit",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "_identity",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "_encryptedVote",
          "type": "bytes"
        }
      ],
      "name": "CommitCastShutter",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "_contributor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "Contribution",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_numberOfChoices",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "_extraData",
          "type": "bytes"
        }
      ],
      "name": "DisputeCreation",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "version",
          "type": "uint64"
        }
      ],
      "name": "Initialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newImplementation",
          "type": "address"
        }
      ],
      "name": "Upgraded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "_juror",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256[]",
          "name": "_voteIDs",
          "type": "uint256[]"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "_justification",
          "type": "string"
        }
      ],
      "name": "VoteCast",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "_contributor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "Withdrawal",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "LOSER_APPEAL_PERIOD_MULTIPLIER",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "LOSER_STAKE_MULTIPLIER",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ONE_BASIS_POINT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "WINNER_STAKE_MULTIPLIER",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "localDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "localRoundID",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "drawnAddress",
          "type": "address"
        }
      ],
      "name": "alreadyDrawn",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        }
      ],
      "name": "areCommitsAllCast",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        }
      ],
      "name": "areVotesAllCast",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "_voteIDs",
          "type": "uint256[]"
        },
        {
          "internalType": "bytes32",
          "name": "_commit",
          "type": "bytes32"
        }
      ],
      "name": "castCommit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "_voteIDs",
          "type": "uint256[]"
        },
        {
          "internalType": "bytes32",
          "name": "_commit",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "_identity",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "_encryptedVote",
          "type": "bytes"
        }
      ],
      "name": "castCommitShutter",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "_voteIDs",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_salt",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_justification",
          "type": "string"
        }
      ],
      "name": "castVote",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256[]",
          "name": "_voteIDs",
          "type": "uint256[]"
        },
        {
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_salt",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_justification",
          "type": "string"
        }
      ],
      "name": "castVoteShutter",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_core",
          "type": "address"
        }
      ],
      "name": "changeCore",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address payable",
          "name": "_governor",
          "type": "address"
        }
      ],
      "name": "changeGovernor",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "core",
      "outputs": [
        {
          "internalType": "contract KlerosCore",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "coreDisputeID",
          "type": "uint256"
        }
      ],
      "name": "coreDisputeIDToActive",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "coreDisputeIDToLocal",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_numberOfChoices",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "_extraData",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "_nbVotes",
          "type": "uint256"
        }
      ],
      "name": "createDispute",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        }
      ],
      "name": "currentRuling",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "ruling",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "tied",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "overridden",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "disputes",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "numberOfChoices",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "jumped",
          "type": "bool"
        },
        {
          "internalType": "bytes",
          "name": "extraData",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_nonce",
          "type": "uint256"
        }
      ],
      "name": "draw",
      "outputs": [
        {
          "internalType": "address",
          "name": "drawnAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_destination",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "_data",
          "type": "bytes"
        }
      ],
      "name": "executeGovernorProposal",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        }
      ],
      "name": "fundAppeal",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        }
      ],
      "name": "getCoherentCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_voteID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "getDegreeOfCoherence",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        }
      ],
      "name": "getFundedChoices",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "fundedChoices",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        }
      ],
      "name": "getLocalDisputeRoundID",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "localDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "localRoundID",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_localDisputeID",
          "type": "uint256"
        }
      ],
      "name": "getNumberOfRounds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        }
      ],
      "name": "getRoundInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "winningChoice",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "tied",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "totalVoted",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalCommited",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nbVoters",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "choiceCount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_voteID",
          "type": "uint256"
        }
      ],
      "name": "getVoteInfo",
      "outputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "bytes32",
          "name": "commit",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "choice",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "voted",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "governor",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_salt",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "_justification",
          "type": "string"
        }
      ],
      "name": "hashVote",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "pure",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_governor",
          "type": "address"
        },
        {
          "internalType": "contract KlerosCore",
          "name": "_core",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_wNative",
          "type": "address"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        }
      ],
      "name": "isAppealFunded",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_voteID",
          "type": "uint256"
        }
      ],
      "name": "isVoteActive",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "proxiableUUID",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_wNative",
          "type": "address"
        }
      ],
      "name": "reinitialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "singleDrawPerJuror",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newImplementation",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "upgradeToAndCall",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "version",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "wNative",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_coreDisputeID",
          "type": "uint256"
        },
        {
          "internalType": "address payable",
          "name": "_beneficiary",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_coreRoundID",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_choice",
          "type": "uint256"
        }
      ],
      "name": "withdrawFeesAndRewards",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xf344ebf59e326184b97eb77140166a463c219e3f519bd3b812594f093850bd60",
  "receipt": {
    "to": null,
    "from": "0xf1C7c037891525E360C59f708739Ac09A7670c59",
    "contractAddress": "0x3a06272f2FEEC12B0FB5F3FF82688c0F06808bE7",
    "transactionIndex": 2,
    "gasUsed": "4143949",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000000800000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000800000000000000000000000000000000",
    "blockHash": "0xfda1776987479ec0fd4d94e8b6e5693908238e21301d59073a2dca8f41106c90",
    "transactionHash": "0xf344ebf59e326184b97eb77140166a463c219e3f519bd3b812594f093850bd60",
    "logs": [
      {
        "transactionIndex": 2,
        "blockNumber": 179580680,
        "transactionHash": "0xf344ebf59e326184b97eb77140166a463c219e3f519bd3b812594f093850bd60",
        "address": "0x3a06272f2FEEC12B0FB5F3FF82688c0F06808bE7",
        "topics": [
          "0xc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d2"
        ],
        "data": "0x000000000000000000000000000000000000000000000000ffffffffffffffff",
        "logIndex": 2,
        "blockHash": "0xfda1776987479ec0fd4d94e8b6e5693908238e21301d59073a2dca8f41106c90"
      }
    ],
    "blockNumber": 179580680,
    "cumulativeGasUsed": "4239598",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 2,
  "solcInputHash": "726fe29d8d9c48c46571792cebc6e314",
  "metadata": "{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AlreadyInitialized\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"FailedDelegateCall\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"implementation\",\"type\":\"address\"}],\"name\":\"InvalidImplementation\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotInitializing\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UUPSUnauthorizedCallContext\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"slot\",\"type\":\"bytes32\"}],\"name\":\"UUPSUnsupportedProxiableUUID\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"}],\"name\":\"ChoiceFunded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_juror\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"_voteIDs\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"_commit\",\"type\":\"bytes32\"}],\"name\":\"CommitCast\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_juror\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"_commit\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"_identity\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_encryptedVote\",\"type\":\"bytes\"}],\"name\":\"CommitCastShutter\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_contributor\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"Contribution\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_numberOfChoices\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_extraData\",\"type\":\"bytes\"}],\"name\":\"DisputeCreation\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"version\",\"type\":\"uint64\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newImplementation\",\"type\":\"address\"}],\"name\":\"Upgraded\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_juror\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"_voteIDs\",\"type\":\"uint256[]\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"_justification\",\"type\":\"string\"}],\"name\":\"VoteCast\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"_contributor\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"Withdrawal\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"LOSER_APPEAL_PERIOD_MULTIPLIER\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"LOSER_STAKE_MULTIPLIER\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ONE_BASIS_POINT\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"WINNER_STAKE_MULTIPLIER\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"localDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"localRoundID\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"drawnAddress\",\"type\":\"address\"}],\"name\":\"alreadyDrawn\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"}],\"name\":\"areCommitsAllCast\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"}],\"name\":\"areVotesAllCast\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"_voteIDs\",\"type\":\"uint256[]\"},{\"internalType\":\"bytes32\",\"name\":\"_commit\",\"type\":\"bytes32\"}],\"name\":\"castCommit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"_voteIDs\",\"type\":\"uint256[]\"},{\"internalType\":\"bytes32\",\"name\":\"_commit\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"_identity\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"_encryptedVote\",\"type\":\"bytes\"}],\"name\":\"castCommitShutter\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"_voteIDs\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_salt\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_justification\",\"type\":\"string\"}],\"name\":\"castVote\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256[]\",\"name\":\"_voteIDs\",\"type\":\"uint256[]\"},{\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_salt\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_justification\",\"type\":\"string\"}],\"name\":\"castVoteShutter\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_core\",\"type\":\"address\"}],\"name\":\"changeCore\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_governor\",\"type\":\"address\"}],\"name\":\"changeGovernor\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"core\",\"outputs\":[{\"internalType\":\"contract KlerosCore\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"coreDisputeID\",\"type\":\"uint256\"}],\"name\":\"coreDisputeIDToActive\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"coreDisputeIDToLocal\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_numberOfChoices\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"_extraData\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"_nbVotes\",\"type\":\"uint256\"}],\"name\":\"createDispute\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"}],\"name\":\"currentRuling\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"ruling\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"tied\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"overridden\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"disputes\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"numberOfChoices\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"jumped\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"extraData\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_nonce\",\"type\":\"uint256\"}],\"name\":\"draw\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"drawnAddress\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_destination\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"executeGovernorProposal\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"}],\"name\":\"fundAppeal\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"}],\"name\":\"getCoherentCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_voteID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"getDegreeOfCoherence\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"}],\"name\":\"getFundedChoices\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"fundedChoices\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"}],\"name\":\"getLocalDisputeRoundID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"localDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"localRoundID\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_localDisputeID\",\"type\":\"uint256\"}],\"name\":\"getNumberOfRounds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"}],\"name\":\"getRoundInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"winningChoice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"tied\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"totalVoted\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalCommited\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nbVoters\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"choiceCount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_voteID\",\"type\":\"uint256\"}],\"name\":\"getVoteInfo\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"commit\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"choice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"voted\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"governor\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_salt\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"_justification\",\"type\":\"string\"}],\"name\":\"hashVote\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_governor\",\"type\":\"address\"},{\"internalType\":\"contract KlerosCore\",\"name\":\"_core\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_wNative\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"}],\"name\":\"isAppealFunded\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_voteID\",\"type\":\"uint256\"}],\"name\":\"isVoteActive\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"proxiableUUID\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_wNative\",\"type\":\"address\"}],\"name\":\"reinitialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"singleDrawPerJuror\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newImplementation\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"upgradeToAndCall\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"version\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"wNative\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_coreDisputeID\",\"type\":\"uint256\"},{\"internalType\":\"address payable\",\"name\":\"_beneficiary\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_coreRoundID\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_choice\",\"type\":\"uint256\"}],\"name\":\"withdrawFeesAndRewards\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"AlreadyInitialized()\":[{\"details\":\"The contract is already initialized.\"}],\"InvalidImplementation(address)\":[{\"details\":\"The `implementation` is not UUPS-compliant\"}],\"NotInitializing()\":[{\"details\":\"The contract is not initializing.\"}],\"UUPSUnauthorizedCallContext()\":[{\"details\":\"The call is from an unauthorized context.\"}],\"UUPSUnsupportedProxiableUUID(bytes32)\":[{\"details\":\"The storage `slot` is unsupported as a UUID.\"}]},\"events\":{\"ChoiceFunded(uint256,uint256,uint256)\":{\"details\":\"To be emitted when a choice is fully funded for an appeal.\",\"params\":{\"_choice\":\"The choice that is being funded.\",\"_coreDisputeID\":\"The identifier of the dispute in the Arbitrator contract.\",\"_coreRoundID\":\"The identifier of the round in the Arbitrator contract.\"}},\"CommitCast(uint256,address,uint256[],bytes32)\":{\"details\":\"To be emitted when a vote commitment is cast.\",\"params\":{\"_commit\":\"The commitment of the juror.\",\"_coreDisputeID\":\"The identifier of the dispute in the Arbitrator contract.\",\"_juror\":\"The address of the juror casting the vote commitment.\",\"_voteIDs\":\"The identifiers of the votes in the dispute.\"}},\"CommitCastShutter(uint256,address,bytes32,bytes32,bytes)\":{\"details\":\"Emitted when a vote is cast.\",\"params\":{\"_commit\":\"The commitment hash.\",\"_coreDisputeID\":\"The identifier of the dispute in the Arbitrator contract.\",\"_encryptedVote\":\"The Shutter encrypted vote.\",\"_identity\":\"The Shutter identity used for encryption.\",\"_juror\":\"The address of the juror casting the vote commitment.\"}},\"Contribution(uint256,uint256,uint256,address,uint256)\":{\"details\":\"To be emitted when a funding contribution is made.\",\"params\":{\"_amount\":\"The amount contributed.\",\"_choice\":\"The choice that is being funded.\",\"_contributor\":\"The address of the contributor.\",\"_coreDisputeID\":\"The identifier of the dispute in the Arbitrator contract.\",\"_coreRoundID\":\"The identifier of the round in the Arbitrator contract.\"}},\"DisputeCreation(uint256,uint256,bytes)\":{\"details\":\"To be emitted when a dispute is created.\",\"params\":{\"_coreDisputeID\":\"The identifier of the dispute in the Arbitrator contract.\",\"_extraData\":\"The extra data for the dispute.\",\"_numberOfChoices\":\"The number of choices available in the dispute.\"}},\"Initialized(uint64)\":{\"details\":\"Triggered when the contract has been initialized or reinitialized.\"},\"Upgraded(address)\":{\"details\":\"Emitted when the `implementation` has been successfully upgraded.\",\"params\":{\"newImplementation\":\"Address of the new implementation the proxy is now forwarding calls to.\"}},\"VoteCast(uint256,address,uint256[],uint256,string)\":{\"details\":\"Emitted when casting a vote to provide the justification of juror's choice.\",\"params\":{\"_choice\":\"The choice juror voted for.\",\"_coreDisputeID\":\"The identifier of the dispute in the Arbitrator contract.\",\"_juror\":\"Address of the juror.\",\"_justification\":\"Justification of the choice.\",\"_voteIDs\":\"The identifiers of the votes in the dispute.\"}},\"Withdrawal(uint256,uint256,uint256,address,uint256)\":{\"details\":\"To be emitted when the contributed funds are withdrawn.\",\"params\":{\"_amount\":\"The amount withdrawn.\",\"_choice\":\"The choice that is being funded.\",\"_contributor\":\"The address of the contributor.\",\"_coreDisputeID\":\"The identifier of the dispute in the Arbitrator contract.\",\"_coreRoundID\":\"The identifier of the round in the Arbitrator contract.\"}}},\"kind\":\"dev\",\"methods\":{\"areCommitsAllCast(uint256)\":{\"details\":\"Returns true if all of the jurors have cast their commits for the last round.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\"},\"returns\":{\"_0\":\"Whether all of the jurors have cast their commits for the last round.\"}},\"areVotesAllCast(uint256)\":{\"details\":\"Returns true if all of the jurors have cast their votes for the last round. Note that this function is to be called directly by the core contract and is not for off-chain usage.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\"},\"returns\":{\"_0\":\"Whether all of the jurors have cast their votes for the last round.\"}},\"castCommit(uint256,uint256[],bytes32)\":{\"details\":\"Sets the caller's commit for the specified votes. It can be called multiple times during the commit period, each call overrides the commits of the previous one. `O(n)` where `n` is the number of votes.\",\"params\":{\"_commit\":\"The commitment hash.\",\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\",\"_voteIDs\":\"The IDs of the votes.\"}},\"castCommitShutter(uint256,uint256[],bytes32,bytes32,bytes)\":{\"details\":\"Sets the caller's commit for the specified votes. It can be called multiple times during the commit period, each call overrides the commits of the previous one. `O(n)` where `n` is the number of votes.\",\"params\":{\"_commit\":\"The commitment hash including the justification.\",\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\",\"_encryptedVote\":\"The Shutter encrypted vote.\",\"_identity\":\"The Shutter identity used for encryption.\",\"_voteIDs\":\"The IDs of the votes.\"}},\"castVote(uint256,uint256[],uint256,uint256,string)\":{\"details\":\"Sets the caller's choices for the specified votes. `O(n)` where `n` is the number of votes.\",\"params\":{\"_choice\":\"The choice.\",\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\",\"_justification\":\"Justification of the choice.\",\"_salt\":\"The salt for the commit if the votes were hidden.\",\"_voteIDs\":\"The IDs of the votes.\"}},\"changeCore(address)\":{\"details\":\"Changes the `core` storage variable.\",\"params\":{\"_core\":\"The new value for the `core` storage variable.\"}},\"changeGovernor(address)\":{\"details\":\"Changes the `governor` storage variable.\",\"params\":{\"_governor\":\"The new value for the `governor` storage variable.\"}},\"constructor\":{\"custom:oz-upgrades-unsafe-allow\":\"constructor\"},\"createDispute(uint256,uint256,bytes,uint256)\":{\"details\":\"Creates a local dispute and maps it to the dispute ID in the Core contract. Note: Access restricted to Kleros Core only.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\",\"_extraData\":\"Additional info about the dispute, for possible use in future dispute kits.\",\"_nbVotes\":\"Number of votes for this dispute.\",\"_numberOfChoices\":\"Number of choices of the dispute\"}},\"currentRuling(uint256)\":{\"details\":\"Gets the current ruling of a specified dispute.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\"},\"returns\":{\"overridden\":\"Whether the ruling was overridden by appeal funding or not.\",\"ruling\":\"The current ruling.\",\"tied\":\"Whether it's a tie or not.\"}},\"draw(uint256,uint256)\":{\"details\":\"Draws the juror from the sortition tree. The drawn address is picked up by Kleros Core. Note: Access restricted to Kleros Core only.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\",\"_nonce\":\"Nonce of the drawing iteration.\"},\"returns\":{\"drawnAddress\":\"The drawn address.\"}},\"executeGovernorProposal(address,uint256,bytes)\":{\"details\":\"Allows the governor to call anything on behalf of the contract.\",\"params\":{\"_amount\":\"The value sent with the call.\",\"_data\":\"The data sent with the call.\",\"_destination\":\"The destination of the call.\"}},\"fundAppeal(uint256,uint256)\":{\"details\":\"Manages contributions, and appeals a dispute if at least two choices are fully funded. Note that the surplus deposit will be reimbursed.\",\"params\":{\"_choice\":\"A choice that receives funding.\",\"_coreDisputeID\":\"Index of the dispute in Kleros Core.\"}},\"getCoherentCount(uint256,uint256)\":{\"details\":\"Gets the number of jurors who are eligible to a reward in this round.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core, not in the Dispute Kit.\",\"_coreRoundID\":\"The ID of the round in Kleros Core, not in the Dispute Kit.\"},\"returns\":{\"_0\":\"The number of coherent jurors.\"}},\"getDegreeOfCoherence(uint256,uint256,uint256,uint256,uint256)\":{\"details\":\"Gets the degree of coherence of a particular voter. This function is called by Kleros Core in order to determine the amount of the reward.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core, not in the Dispute Kit.\",\"_coreRoundID\":\"The ID of the round in Kleros Core, not in the Dispute Kit.\",\"_voteID\":\"The ID of the vote.\"},\"returns\":{\"_0\":\"The degree of coherence in basis points.\"}},\"getLocalDisputeRoundID(uint256,uint256)\":{\"details\":\"Returns the local dispute ID and round ID for a given core dispute ID and core round ID.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\",\"_coreRoundID\":\"The ID of the round in Kleros Core.\"},\"returns\":{\"localDisputeID\":\"The ID of the dispute in the Dispute Kit.\",\"localRoundID\":\"The ID of the round in the Dispute Kit.\"}},\"getNumberOfRounds(uint256)\":{\"details\":\"Returns the number of rounds in a dispute.\",\"params\":{\"_localDisputeID\":\"The ID of the dispute in the Dispute Kit.\"},\"returns\":{\"_0\":\"The number of rounds in the dispute.\"}},\"getVoteInfo(uint256,uint256,uint256)\":{\"details\":\"Returns the vote information for a given vote ID.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core.\",\"_coreRoundID\":\"The ID of the round in Kleros Core.\",\"_voteID\":\"The ID of the vote.\"},\"returns\":{\"account\":\"The address of the juror who cast the vote.\",\"commit\":\"The commit of the vote.\"}},\"hashVote(uint256,uint256,string)\":{\"details\":\"Computes the hash of a vote using ABI encoding\",\"params\":{\"_choice\":\"The choice being voted for\",\"_justification\":\"The justification for the vote\",\"_salt\":\"A random salt for commitment\"},\"returns\":{\"_0\":\"bytes32 The hash of the encoded vote parameters\"}},\"initialize(address,address,address)\":{\"details\":\"Initializer.\",\"params\":{\"_core\":\"The KlerosCore arbitrator.\",\"_governor\":\"The governor's address.\",\"_wNative\":\"The wrapped native token address, typically wETH.\"}},\"isAppealFunded(uint256)\":{\"details\":\"Returns true if the appeal funding is finished prematurely (e.g. when losing side didn't fund). Note that this function is to be called directly by the core contract and is not for off-chain usage.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core, not in the Dispute Kit.\"},\"returns\":{\"_0\":\"Whether the appeal funding is finished.\"}},\"isVoteActive(uint256,uint256,uint256)\":{\"details\":\"Returns true if the specified voter was active in this round.\",\"params\":{\"_coreDisputeID\":\"The ID of the dispute in Kleros Core, not in the Dispute Kit.\",\"_coreRoundID\":\"The ID of the round in Kleros Core, not in the Dispute Kit.\",\"_voteID\":\"The ID of the voter.\"},\"returns\":{\"_0\":\"Whether the voter was active or not.\"}},\"proxiableUUID()\":{\"details\":\"Implementation of the ERC1822 `proxiableUUID` function. This returns the storage slot used by the implementation. It is used to validate the implementation's compatibility when performing an upgrade. IMPORTANT: A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this function revert if invoked through a proxy. This is guaranteed by the if statement.\"},\"upgradeToAndCall(address,bytes)\":{\"details\":\"Upgrade mechanism including access control and UUPS-compliance.Reverts if the execution is not performed via delegatecall or the execution context is not of a proxy with an ERC1967-compliant implementation pointing to self.\",\"params\":{\"data\":\"Data used in a delegate call to `newImplementation` if non-empty. This will typically be an encoded function call, and allows initializing the storage of the proxy like a Solidity constructor.\",\"newImplementation\":\"Address of the new implementation contract.\"}},\"withdrawFeesAndRewards(uint256,address,uint256,uint256)\":{\"details\":\"Allows those contributors who attempted to fund an appeal round to withdraw any reimbursable fees or rewards after the dispute gets resolved. Note that withdrawals are not possible if the core contract is paused.\",\"params\":{\"_beneficiary\":\"The address whose rewards to withdraw.\",\"_choice\":\"The ruling option that the caller wants to withdraw from.\",\"_coreDisputeID\":\"Index of the dispute in Kleros Core contract.\",\"_coreRoundID\":\"The round in the Kleros Core contract the caller wants to withdraw from.\"},\"returns\":{\"amount\":\"The withdrawn amount.\"}}},\"stateVariables\":{\"version\":{\"details\":\"Returns the version of the implementation.\",\"return\":\"Version string.\",\"returns\":{\"_0\":\"Version string.\"}}},\"title\":\"DisputeKitGatedShutter Added functionality: shielded voting. Dispute kit implementation adapted from DisputeKitClassic - a drawing system: proportional to staked PNK with a non-zero balance of `tokenGate` where `tokenGate` is an ERC20, ERC721 or ERC1155 - a vote aggregation system: plurality, - an incentive system: equal split between coherent votes, - an appeal system: fund 2 choices only, vote on any choice.\",\"version\":1},\"userdoc\":{\"errors\":{\"FailedDelegateCall()\":[{\"notice\":\"Failed Delegated call\"}]},\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/arbitration/dispute-kits/DisputeKitGatedShutter.sol\":\"DisputeKitGatedShutter\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":100},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v5.4.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity >=0.4.16;\\n\\n/**\\n * @dev Interface of the ERC-20 standard as defined in the ERC.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the value of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the value of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets a `value` amount of tokens as the allowance of `spender` over the\\n     * caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 value) external returns (bool);\\n\\n    /**\\n     * @dev Moves a `value` amount of tokens from `from` to `to` using the\\n     * allowance mechanism. `value` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 value) external returns (bool);\\n}\\n\",\"keccak256\":\"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2\",\"license\":\"MIT\"},\"src/arbitration/KlerosCore.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.24;\\n\\nimport {KlerosCoreBase, IDisputeKit, ISortitionModule, IERC20} from \\\"./KlerosCoreBase.sol\\\";\\n\\n/// @title KlerosCore\\n/// Core arbitrator contract for Kleros v2.\\n/// Note that this contract trusts the PNK token, the dispute kit and the sortition module contracts.\\ncontract KlerosCore is KlerosCoreBase {\\n    string public constant override version = \\\"0.10.0\\\";\\n\\n    // ************************************* //\\n    // *            Constructor            * //\\n    // ************************************* //\\n\\n    /// @custom:oz-upgrades-unsafe-allow constructor\\n    constructor() {\\n        _disableInitializers();\\n    }\\n\\n    /// @dev Initializer (constructor equivalent for upgradable contracts).\\n    /// @param _governor The governor's address.\\n    /// @param _guardian The guardian's address.\\n    /// @param _pinakion The address of the token contract.\\n    /// @param _jurorProsecutionModule The address of the juror prosecution module.\\n    /// @param _disputeKit The address of the default dispute kit.\\n    /// @param _hiddenVotes The `hiddenVotes` property value of the general court.\\n    /// @param _courtParameters Numeric parameters of General court (minStake, alpha, feeForJuror and jurorsForCourtJump respectively).\\n    /// @param _timesPerPeriod The `timesPerPeriod` property value of the general court.\\n    /// @param _sortitionExtraData The extra data for sortition module.\\n    /// @param _sortitionModuleAddress The sortition module responsible for sortition of the jurors.\\n    /// @param _wNative The wrapped native token address, typically wETH.\\n    function initialize(\\n        address _governor,\\n        address _guardian,\\n        IERC20 _pinakion,\\n        address _jurorProsecutionModule,\\n        IDisputeKit _disputeKit,\\n        bool _hiddenVotes,\\n        uint256[4] memory _courtParameters,\\n        uint256[4] memory _timesPerPeriod,\\n        bytes memory _sortitionExtraData,\\n        ISortitionModule _sortitionModuleAddress,\\n        address _wNative\\n    ) external reinitializer(1) {\\n        __KlerosCoreBase_initialize(\\n            _governor,\\n            _guardian,\\n            _pinakion,\\n            _jurorProsecutionModule,\\n            _disputeKit,\\n            _hiddenVotes,\\n            _courtParameters,\\n            _timesPerPeriod,\\n            _sortitionExtraData,\\n            _sortitionModuleAddress,\\n            _wNative\\n        );\\n    }\\n\\n    function reinitialize(address _wNative) external reinitializer(6) {\\n        wNative = _wNative;\\n    }\\n\\n    // ************************************* //\\n    // *             Governance            * //\\n    // ************************************* //\\n\\n    /// @dev Access Control to perform implementation upgrades (UUPS Proxiable)\\n    ///      Only the governor can perform upgrades (`onlyByGovernor`)\\n    function _authorizeUpgrade(address) internal view override onlyByGovernor {\\n        // NOP\\n    }\\n}\\n\",\"keccak256\":\"0x53d3398fecd14dc49f67494e498534551a19625e6fea1958c8fb0566d1aa6476\",\"license\":\"MIT\"},\"src/arbitration/KlerosCoreBase.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.24;\\n\\nimport {IArbitrableV2, IArbitratorV2} from \\\"./interfaces/IArbitratorV2.sol\\\";\\nimport {IDisputeKit} from \\\"./interfaces/IDisputeKit.sol\\\";\\nimport {ISortitionModule} from \\\"./interfaces/ISortitionModule.sol\\\";\\nimport {Initializable} from \\\"../proxy/Initializable.sol\\\";\\nimport {UUPSProxiable} from \\\"../proxy/UUPSProxiable.sol\\\";\\nimport {SafeERC20, IERC20} from \\\"../libraries/SafeERC20.sol\\\";\\nimport {SafeSend} from \\\"../libraries/SafeSend.sol\\\";\\nimport \\\"../libraries/Constants.sol\\\";\\n\\n/// @title KlerosCoreBase\\n/// Core arbitrator contract for Kleros v2.\\n/// Note that this contract trusts the PNK token, the dispute kit and the sortition module contracts.\\nabstract contract KlerosCoreBase is IArbitratorV2, Initializable, UUPSProxiable {\\n    using SafeERC20 for IERC20;\\n    using SafeSend for address payable;\\n\\n    // ************************************* //\\n    // *         Enums / Structs           * //\\n    // ************************************* //\\n\\n    enum Period {\\n        evidence, // Evidence can be submitted. This is also when drawing has to take place.\\n        commit, // Jurors commit a hashed vote. This is skipped for courts without hidden votes.\\n        vote, // Jurors reveal/cast their vote depending on whether the court has hidden votes or not.\\n        appeal, // The dispute can be appealed.\\n        execution // Tokens are redistributed and the ruling is executed.\\n    }\\n\\n    struct Court {\\n        uint96 parent; // The parent court.\\n        bool hiddenVotes; // Whether to use commit and reveal or not.\\n        uint256[] children; // List of child courts.\\n        uint256 minStake; // Minimum PNKs needed to stake in the court.\\n        uint256 alpha; // Basis point of PNKs that are lost when incoherent.\\n        uint256 feeForJuror; // Arbitration fee paid per juror.\\n        uint256 jurorsForCourtJump; // The appeal after the one that reaches this number of jurors will go to the parent court if any.\\n        uint256[4] timesPerPeriod; // The time allotted to each dispute period in the form `timesPerPeriod[period]`.\\n        mapping(uint256 disputeKitId => bool) supportedDisputeKits; // True if DK with this ID is supported by the court. Note that each court must support classic dispute kit.\\n        bool disabled; // True if the court is disabled. Unused for now, will be implemented later.\\n    }\\n\\n    struct Dispute {\\n        uint96 courtID; // The ID of the court the dispute is in.\\n        IArbitrableV2 arbitrated; // The arbitrable contract.\\n        Period period; // The current period of the dispute.\\n        bool ruled; // True if the ruling has been executed, false otherwise.\\n        uint256 lastPeriodChange; // The last time the period was changed.\\n        Round[] rounds;\\n    }\\n\\n    struct Round {\\n        uint256 disputeKitID; // Index of the dispute kit in the array.\\n        uint256 pnkAtStakePerJuror; // The amount of PNKs at stake for each juror in this round.\\n        uint256 totalFeesForJurors; // The total juror fees paid in this round.\\n        uint256 nbVotes; // The total number of votes the dispute can possibly have in the current round. Former votes[_round].length.\\n        uint256 repartitions; // A counter of reward repartitions made in this round.\\n        uint256 pnkPenalties; // The amount of PNKs collected from penalties in this round.\\n        address[] drawnJurors; // Addresses of the jurors that were drawn in this round.\\n        uint256 sumFeeRewardPaid; // Total sum of arbitration fees paid to coherent jurors as a reward in this round.\\n        uint256 sumPnkRewardPaid; // Total sum of PNK paid to coherent jurors as a reward in this round.\\n        IERC20 feeToken; // The token used for paying fees in this round.\\n        uint256 drawIterations; // The number of iterations passed drawing the jurors for this round.\\n    }\\n\\n    // Workaround \\\"stack too deep\\\" errors\\n    struct ExecuteParams {\\n        uint256 disputeID; // The ID of the dispute to execute.\\n        uint256 round; // The round to execute.\\n        uint256 coherentCount; // The number of coherent votes in the round.\\n        uint256 numberOfVotesInRound; // The number of votes in the round.\\n        uint256 feePerJurorInRound; // The fee per juror in the round.\\n        uint256 pnkAtStakePerJurorInRound; // The amount of PNKs at stake for each juror in the round.\\n        uint256 pnkPenaltiesInRound; // The amount of PNKs collected from penalties in the round.\\n        uint256 repartition; // The index of the repartition to execute.\\n    }\\n\\n    struct CurrencyRate {\\n        bool feePaymentAccepted;\\n        uint64 rateInEth;\\n        uint8 rateDecimals;\\n    }\\n\\n    // ************************************* //\\n    // *             Storage               * //\\n    // ************************************* //\\n\\n    uint256 private constant ALPHA_DIVISOR = 1e4; // The number to divide `Court.alpha` by.\\n    uint256 private constant NON_PAYABLE_AMOUNT = (2 ** 256 - 2) / 2; // An amount higher than the supply of ETH.\\n\\n    address public governor; // The governor of the contract.\\n    address public guardian; // The guardian able to pause asset withdrawals.\\n    IERC20 public pinakion; // The Pinakion token contract.\\n    address public jurorProsecutionModule; // The module for juror's prosecution.\\n    ISortitionModule public sortitionModule; // Sortition module for drawing.\\n    Court[] public courts; // The courts.\\n    IDisputeKit[] public disputeKits; // Array of dispute kits.\\n    Dispute[] public disputes; // The disputes.\\n    mapping(IERC20 => CurrencyRate) public currencyRates; // The price of each token in ETH.\\n    bool public paused; // Whether asset withdrawals are paused.\\n    address public wNative; // The wrapped native token for safeSend().\\n\\n    // ************************************* //\\n    // *              Events               * //\\n    // ************************************* //\\n\\n    event NewPeriod(uint256 indexed _disputeID, Period _period);\\n    event AppealPossible(uint256 indexed _disputeID, IArbitrableV2 indexed _arbitrable);\\n    event AppealDecision(uint256 indexed _disputeID, IArbitrableV2 indexed _arbitrable);\\n    event Draw(address indexed _address, uint256 indexed _disputeID, uint256 _roundID, uint256 _voteID);\\n    event CourtCreated(\\n        uint96 indexed _courtID,\\n        uint96 indexed _parent,\\n        bool _hiddenVotes,\\n        uint256 _minStake,\\n        uint256 _alpha,\\n        uint256 _feeForJuror,\\n        uint256 _jurorsForCourtJump,\\n        uint256[4] _timesPerPeriod,\\n        uint256[] _supportedDisputeKits\\n    );\\n    event CourtModified(\\n        uint96 indexed _courtID,\\n        bool _hiddenVotes,\\n        uint256 _minStake,\\n        uint256 _alpha,\\n        uint256 _feeForJuror,\\n        uint256 _jurorsForCourtJump,\\n        uint256[4] _timesPerPeriod\\n    );\\n    event DisputeKitCreated(uint256 indexed _disputeKitID, IDisputeKit indexed _disputeKitAddress);\\n    event DisputeKitEnabled(uint96 indexed _courtID, uint256 indexed _disputeKitID, bool indexed _enable);\\n    event CourtJump(\\n        uint256 indexed _disputeID,\\n        uint256 indexed _roundID,\\n        uint96 indexed _fromCourtID,\\n        uint96 _toCourtID\\n    );\\n    event DisputeKitJump(\\n        uint256 indexed _disputeID,\\n        uint256 indexed _roundID,\\n        uint256 indexed _fromDisputeKitID,\\n        uint256 _toDisputeKitID\\n    );\\n    event TokenAndETHShift(\\n        address indexed _account,\\n        uint256 indexed _disputeID,\\n        uint256 indexed _roundID,\\n        uint256 _degreeOfCoherency,\\n        int256 _pnkAmount,\\n        int256 _feeAmount,\\n        IERC20 _feeToken\\n    );\\n    event LeftoverRewardSent(\\n        uint256 indexed _disputeID,\\n        uint256 indexed _roundID,\\n        uint256 _pnkAmount,\\n        uint256 _feeAmount,\\n        IERC20 _feeToken\\n    );\\n    event Paused();\\n    event Unpaused();\\n\\n    // ************************************* //\\n    // *        Function Modifiers         * //\\n    // ************************************* //\\n\\n    modifier onlyByGovernor() {\\n        if (governor != msg.sender) revert GovernorOnly();\\n        _;\\n    }\\n\\n    modifier onlyByGuardianOrGovernor() {\\n        if (guardian != msg.sender && governor != msg.sender) revert GuardianOrGovernorOnly();\\n        _;\\n    }\\n\\n    modifier whenPaused() {\\n        if (!paused) revert WhenPausedOnly();\\n        _;\\n    }\\n\\n    modifier whenNotPaused() {\\n        if (paused) revert WhenNotPausedOnly();\\n        _;\\n    }\\n\\n    // ************************************* //\\n    // *            Constructor            * //\\n    // ************************************* //\\n\\n    function __KlerosCoreBase_initialize(\\n        address _governor,\\n        address _guardian,\\n        IERC20 _pinakion,\\n        address _jurorProsecutionModule,\\n        IDisputeKit _disputeKit,\\n        bool _hiddenVotes,\\n        uint256[4] memory _courtParameters,\\n        uint256[4] memory _timesPerPeriod,\\n        bytes memory _sortitionExtraData,\\n        ISortitionModule _sortitionModuleAddress,\\n        address _wNative\\n    ) internal onlyInitializing {\\n        governor = _governor;\\n        guardian = _guardian;\\n        pinakion = _pinakion;\\n        jurorProsecutionModule = _jurorProsecutionModule;\\n        sortitionModule = _sortitionModuleAddress;\\n        wNative = _wNative;\\n\\n        // NULL_DISPUTE_KIT: an empty element at index 0 to indicate when a dispute kit is not supported.\\n        disputeKits.push();\\n\\n        // DISPUTE_KIT_CLASSIC\\n        disputeKits.push(_disputeKit);\\n\\n        emit DisputeKitCreated(DISPUTE_KIT_CLASSIC, _disputeKit);\\n\\n        // FORKING_COURT\\n        // TODO: Fill the properties for the Forking court, emit CourtCreated.\\n        courts.push();\\n        sortitionModule.createTree(bytes32(uint256(FORKING_COURT)), _sortitionExtraData);\\n\\n        // GENERAL_COURT\\n        Court storage court = courts.push();\\n        court.parent = FORKING_COURT;\\n        court.children = new uint256[](0);\\n        court.hiddenVotes = _hiddenVotes;\\n        court.minStake = _courtParameters[0];\\n        court.alpha = _courtParameters[1];\\n        court.feeForJuror = _courtParameters[2];\\n        court.jurorsForCourtJump = _courtParameters[3];\\n        court.timesPerPeriod = _timesPerPeriod;\\n\\n        sortitionModule.createTree(bytes32(uint256(GENERAL_COURT)), _sortitionExtraData);\\n\\n        uint256[] memory supportedDisputeKits = new uint256[](1);\\n        supportedDisputeKits[0] = DISPUTE_KIT_CLASSIC;\\n        emit CourtCreated(\\n            GENERAL_COURT,\\n            court.parent,\\n            _hiddenVotes,\\n            _courtParameters[0],\\n            _courtParameters[1],\\n            _courtParameters[2],\\n            _courtParameters[3],\\n            _timesPerPeriod,\\n            supportedDisputeKits\\n        );\\n        _enableDisputeKit(GENERAL_COURT, DISPUTE_KIT_CLASSIC, true);\\n    }\\n\\n    // ************************************* //\\n    // *             Governance            * //\\n    // ************************************* //\\n\\n    /// @dev Pause staking and reward execution. Can only be done by guardian or governor.\\n    function pause() external onlyByGuardianOrGovernor whenNotPaused {\\n        paused = true;\\n        emit Paused();\\n    }\\n\\n    /// @dev Unpause staking and reward execution. Can only be done by governor.\\n    function unpause() external onlyByGovernor whenPaused {\\n        paused = false;\\n        emit Unpaused();\\n    }\\n\\n    /// @dev Allows the governor to call anything on behalf of the contract.\\n    /// @param _destination The destination of the call.\\n    /// @param _amount The value sent with the call.\\n    /// @param _data The data sent with the call.\\n    function executeGovernorProposal(\\n        address _destination,\\n        uint256 _amount,\\n        bytes memory _data\\n    ) external onlyByGovernor {\\n        (bool success, ) = _destination.call{value: _amount}(_data);\\n        if (!success) revert UnsuccessfulCall();\\n    }\\n\\n    /// @dev Changes the `governor` storage variable.\\n    /// @param _governor The new value for the `governor` storage variable.\\n    function changeGovernor(address payable _governor) external onlyByGovernor {\\n        governor = _governor;\\n    }\\n\\n    /// @dev Changes the `guardian` storage variable.\\n    /// @param _guardian The new value for the `guardian` storage variable.\\n    function changeGuardian(address _guardian) external onlyByGovernor {\\n        guardian = _guardian;\\n    }\\n\\n    /// @dev Changes the `pinakion` storage variable.\\n    /// @param _pinakion The new value for the `pinakion` storage variable.\\n    function changePinakion(IERC20 _pinakion) external onlyByGovernor {\\n        pinakion = _pinakion;\\n    }\\n\\n    /// @dev Changes the `jurorProsecutionModule` storage variable.\\n    /// @param _jurorProsecutionModule The new value for the `jurorProsecutionModule` storage variable.\\n    function changeJurorProsecutionModule(address _jurorProsecutionModule) external onlyByGovernor {\\n        jurorProsecutionModule = _jurorProsecutionModule;\\n    }\\n\\n    /// @dev Changes the `_sortitionModule` storage variable.\\n    /// Note that the new module should be initialized for all courts.\\n    /// @param _sortitionModule The new value for the `sortitionModule` storage variable.\\n    function changeSortitionModule(ISortitionModule _sortitionModule) external onlyByGovernor {\\n        sortitionModule = _sortitionModule;\\n    }\\n\\n    /// @dev Add a new supported dispute kit module to the court.\\n    /// @param _disputeKitAddress The address of the dispute kit contract.\\n    function addNewDisputeKit(IDisputeKit _disputeKitAddress) external onlyByGovernor {\\n        uint256 disputeKitID = disputeKits.length;\\n        disputeKits.push(_disputeKitAddress);\\n        emit DisputeKitCreated(disputeKitID, _disputeKitAddress);\\n    }\\n\\n    /// @dev Creates a court under a specified parent court.\\n    /// @param _parent The `parent` property value of the court.\\n    /// @param _hiddenVotes The `hiddenVotes` property value of the court.\\n    /// @param _minStake The `minStake` property value of the court.\\n    /// @param _alpha The `alpha` property value of the court.\\n    /// @param _feeForJuror The `feeForJuror` property value of the court.\\n    /// @param _jurorsForCourtJump The `jurorsForCourtJump` property value of the court.\\n    /// @param _timesPerPeriod The `timesPerPeriod` property value of the court.\\n    /// @param _sortitionExtraData Extra data for sortition module.\\n    /// @param _supportedDisputeKits Indexes of dispute kits that this court will support.\\n    function createCourt(\\n        uint96 _parent,\\n        bool _hiddenVotes,\\n        uint256 _minStake,\\n        uint256 _alpha,\\n        uint256 _feeForJuror,\\n        uint256 _jurorsForCourtJump,\\n        uint256[4] memory _timesPerPeriod,\\n        bytes memory _sortitionExtraData,\\n        uint256[] memory _supportedDisputeKits\\n    ) external onlyByGovernor {\\n        if (courts[_parent].minStake > _minStake) revert MinStakeLowerThanParentCourt();\\n        if (_supportedDisputeKits.length == 0) revert UnsupportedDisputeKit();\\n        if (_parent == FORKING_COURT) revert InvalidForkingCourtAsParent();\\n\\n        uint256 courtID = courts.length;\\n        Court storage court = courts.push();\\n\\n        for (uint256 i = 0; i < _supportedDisputeKits.length; i++) {\\n            if (_supportedDisputeKits[i] == 0 || _supportedDisputeKits[i] >= disputeKits.length) {\\n                revert WrongDisputeKitIndex();\\n            }\\n            _enableDisputeKit(uint96(courtID), _supportedDisputeKits[i], true);\\n        }\\n        // Check that Classic DK support was added.\\n        if (!court.supportedDisputeKits[DISPUTE_KIT_CLASSIC]) revert MustSupportDisputeKitClassic();\\n\\n        court.parent = _parent;\\n        court.children = new uint256[](0);\\n        court.hiddenVotes = _hiddenVotes;\\n        court.minStake = _minStake;\\n        court.alpha = _alpha;\\n        court.feeForJuror = _feeForJuror;\\n        court.jurorsForCourtJump = _jurorsForCourtJump;\\n        court.timesPerPeriod = _timesPerPeriod;\\n\\n        sortitionModule.createTree(bytes32(courtID), _sortitionExtraData);\\n\\n        // Update the parent.\\n        courts[_parent].children.push(courtID);\\n        emit CourtCreated(\\n            uint96(courtID),\\n            _parent,\\n            _hiddenVotes,\\n            _minStake,\\n            _alpha,\\n            _feeForJuror,\\n            _jurorsForCourtJump,\\n            _timesPerPeriod,\\n            _supportedDisputeKits\\n        );\\n    }\\n\\n    function changeCourtParameters(\\n        uint96 _courtID,\\n        bool _hiddenVotes,\\n        uint256 _minStake,\\n        uint256 _alpha,\\n        uint256 _feeForJuror,\\n        uint256 _jurorsForCourtJump,\\n        uint256[4] memory _timesPerPeriod\\n    ) external onlyByGovernor {\\n        Court storage court = courts[_courtID];\\n        if (_courtID != GENERAL_COURT && courts[court.parent].minStake > _minStake) {\\n            revert MinStakeLowerThanParentCourt();\\n        }\\n        for (uint256 i = 0; i < court.children.length; i++) {\\n            if (courts[court.children[i]].minStake < _minStake) {\\n                revert MinStakeLowerThanParentCourt();\\n            }\\n        }\\n        court.minStake = _minStake;\\n        court.hiddenVotes = _hiddenVotes;\\n        court.alpha = _alpha;\\n        court.feeForJuror = _feeForJuror;\\n        court.jurorsForCourtJump = _jurorsForCourtJump;\\n        court.timesPerPeriod = _timesPerPeriod;\\n        emit CourtModified(\\n            _courtID,\\n            _hiddenVotes,\\n            _minStake,\\n            _alpha,\\n            _feeForJuror,\\n            _jurorsForCourtJump,\\n            _timesPerPeriod\\n        );\\n    }\\n\\n    /// @dev Adds/removes court's support for specified dispute kits.\\n    /// @param _courtID The ID of the court.\\n    /// @param _disputeKitIDs The IDs of dispute kits which support should be added/removed.\\n    /// @param _enable Whether add or remove the dispute kits from the court.\\n    function enableDisputeKits(uint96 _courtID, uint256[] memory _disputeKitIDs, bool _enable) external onlyByGovernor {\\n        for (uint256 i = 0; i < _disputeKitIDs.length; i++) {\\n            if (_enable) {\\n                if (_disputeKitIDs[i] == 0 || _disputeKitIDs[i] >= disputeKits.length) {\\n                    revert WrongDisputeKitIndex();\\n                }\\n                _enableDisputeKit(_courtID, _disputeKitIDs[i], true);\\n            } else {\\n                // Classic dispute kit must be supported by all courts.\\n                if (_disputeKitIDs[i] == DISPUTE_KIT_CLASSIC) {\\n                    revert CannotDisableClassicDK();\\n                }\\n                _enableDisputeKit(_courtID, _disputeKitIDs[i], false);\\n            }\\n        }\\n    }\\n\\n    /// @dev Changes the supported fee tokens.\\n    /// @param _feeToken The fee token.\\n    /// @param _accepted Whether the token is supported or not as a method of fee payment.\\n    function changeAcceptedFeeTokens(IERC20 _feeToken, bool _accepted) external onlyByGovernor {\\n        currencyRates[_feeToken].feePaymentAccepted = _accepted;\\n        emit AcceptedFeeToken(_feeToken, _accepted);\\n    }\\n\\n    /// @dev Changes the currency rate of a fee token.\\n    /// @param _feeToken The fee token.\\n    /// @param _rateInEth The new rate of the fee token in ETH.\\n    /// @param _rateDecimals The new decimals of the fee token rate.\\n    function changeCurrencyRates(IERC20 _feeToken, uint64 _rateInEth, uint8 _rateDecimals) external onlyByGovernor {\\n        currencyRates[_feeToken].rateInEth = _rateInEth;\\n        currencyRates[_feeToken].rateDecimals = _rateDecimals;\\n        emit NewCurrencyRate(_feeToken, _rateInEth, _rateDecimals);\\n    }\\n\\n    // ************************************* //\\n    // *         State Modifiers           * //\\n    // ************************************* //\\n\\n    /// @dev Sets the caller's stake in a court.\\n    /// @param _courtID The ID of the court.\\n    /// @param _newStake The new stake.\\n    /// Note that the existing delayed stake will be nullified as non-relevant.\\n    function setStake(uint96 _courtID, uint256 _newStake) external virtual whenNotPaused {\\n        _setStake(msg.sender, _courtID, _newStake, OnError.Revert);\\n    }\\n\\n    /// @dev Sets the stake of a specified account in a court, typically to apply a delayed stake or unstake inactive jurors.\\n    /// @param _account The account whose stake is being set.\\n    /// @param _courtID The ID of the court.\\n    /// @param _newStake The new stake.\\n    function setStakeBySortitionModule(address _account, uint96 _courtID, uint256 _newStake) external {\\n        if (msg.sender != address(sortitionModule)) revert SortitionModuleOnly();\\n        _setStake(_account, _courtID, _newStake, OnError.Return);\\n    }\\n\\n    /// @dev Transfers PNK to the juror by SortitionModule.\\n    /// @param _account The account of the juror whose PNK to transfer.\\n    /// @param _amount The amount to transfer.\\n    function transferBySortitionModule(address _account, uint256 _amount) external {\\n        if (msg.sender != address(sortitionModule)) revert SortitionModuleOnly();\\n        // Note eligibility is checked in SortitionModule.\\n        pinakion.safeTransfer(_account, _amount);\\n    }\\n\\n    /// @inheritdoc IArbitratorV2\\n    function createDispute(\\n        uint256 _numberOfChoices,\\n        bytes memory _extraData\\n    ) external payable override returns (uint256 disputeID) {\\n        if (msg.value < arbitrationCost(_extraData)) revert ArbitrationFeesNotEnough();\\n\\n        return _createDispute(_numberOfChoices, _extraData, NATIVE_CURRENCY, msg.value);\\n    }\\n\\n    /// @inheritdoc IArbitratorV2\\n    function createDispute(\\n        uint256 _numberOfChoices,\\n        bytes calldata _extraData,\\n        IERC20 _feeToken,\\n        uint256 _feeAmount\\n    ) external override returns (uint256 disputeID) {\\n        if (!currencyRates[_feeToken].feePaymentAccepted) revert TokenNotAccepted();\\n        if (_feeAmount < arbitrationCost(_extraData, _feeToken)) revert ArbitrationFeesNotEnough();\\n\\n        if (!_feeToken.safeTransferFrom(msg.sender, address(this), _feeAmount)) revert TransferFailed();\\n        return _createDispute(_numberOfChoices, _extraData, _feeToken, _feeAmount);\\n    }\\n\\n    function _createDispute(\\n        uint256 _numberOfChoices,\\n        bytes memory _extraData,\\n        IERC20 _feeToken,\\n        uint256 _feeAmount\\n    ) internal virtual returns (uint256 disputeID) {\\n        (uint96 courtID, , uint256 disputeKitID) = _extraDataToCourtIDMinJurorsDisputeKit(_extraData);\\n        if (!courts[courtID].supportedDisputeKits[disputeKitID]) revert DisputeKitNotSupportedByCourt();\\n\\n        disputeID = disputes.length;\\n        Dispute storage dispute = disputes.push();\\n        dispute.courtID = courtID;\\n        dispute.arbitrated = IArbitrableV2(msg.sender);\\n        dispute.lastPeriodChange = block.timestamp;\\n\\n        IDisputeKit disputeKit = disputeKits[disputeKitID];\\n        Court storage court = courts[courtID];\\n        Round storage round = dispute.rounds.push();\\n\\n        // Obtain the feeForJuror in the same currency as the _feeAmount\\n        uint256 feeForJuror = (_feeToken == NATIVE_CURRENCY)\\n            ? court.feeForJuror\\n            : convertEthToTokenAmount(_feeToken, court.feeForJuror);\\n        round.nbVotes = _feeAmount / feeForJuror;\\n        round.disputeKitID = disputeKitID;\\n        round.pnkAtStakePerJuror = _calculatePnkAtStake(court.minStake, court.alpha);\\n        round.totalFeesForJurors = _feeAmount;\\n        round.feeToken = IERC20(_feeToken);\\n\\n        sortitionModule.createDisputeHook(disputeID, 0); // Default round ID.\\n\\n        disputeKit.createDispute(disputeID, _numberOfChoices, _extraData, round.nbVotes);\\n        emit DisputeCreation(disputeID, IArbitrableV2(msg.sender));\\n    }\\n\\n    /// @dev Passes the period of a specified dispute.\\n    /// @param _disputeID The ID of the dispute.\\n    function passPeriod(uint256 _disputeID) external {\\n        Dispute storage dispute = disputes[_disputeID];\\n        Court storage court = courts[dispute.courtID];\\n\\n        uint256 currentRound = dispute.rounds.length - 1;\\n        Round storage round = dispute.rounds[currentRound];\\n        if (dispute.period == Period.evidence) {\\n            if (\\n                currentRound == 0 &&\\n                block.timestamp - dispute.lastPeriodChange < court.timesPerPeriod[uint256(dispute.period)]\\n            ) {\\n                revert EvidenceNotPassedAndNotAppeal();\\n            }\\n            if (round.drawnJurors.length != round.nbVotes) revert DisputeStillDrawing();\\n            dispute.period = court.hiddenVotes ? Period.commit : Period.vote;\\n        } else if (dispute.period == Period.commit) {\\n            if (\\n                block.timestamp - dispute.lastPeriodChange < court.timesPerPeriod[uint256(dispute.period)] &&\\n                !disputeKits[round.disputeKitID].areCommitsAllCast(_disputeID)\\n            ) {\\n                revert CommitPeriodNotPassed();\\n            }\\n            dispute.period = Period.vote;\\n        } else if (dispute.period == Period.vote) {\\n            if (\\n                block.timestamp - dispute.lastPeriodChange < court.timesPerPeriod[uint256(dispute.period)] &&\\n                !disputeKits[round.disputeKitID].areVotesAllCast(_disputeID)\\n            ) {\\n                revert VotePeriodNotPassed();\\n            }\\n            dispute.period = Period.appeal;\\n            emit AppealPossible(_disputeID, dispute.arbitrated);\\n        } else if (dispute.period == Period.appeal) {\\n            if (\\n                block.timestamp - dispute.lastPeriodChange < court.timesPerPeriod[uint256(dispute.period)] &&\\n                !disputeKits[round.disputeKitID].isAppealFunded(_disputeID)\\n            ) {\\n                revert AppealPeriodNotPassed();\\n            }\\n            dispute.period = Period.execution;\\n        } else if (dispute.period == Period.execution) {\\n            revert DisputePeriodIsFinal();\\n        }\\n\\n        dispute.lastPeriodChange = block.timestamp;\\n        emit NewPeriod(_disputeID, dispute.period);\\n    }\\n\\n    /// @dev Draws jurors for the dispute. Can be called in parts.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @param _iterations The number of iterations to run.\\n    /// @return nbDrawnJurors The total number of jurors drawn in the round.\\n    function draw(uint256 _disputeID, uint256 _iterations) external returns (uint256 nbDrawnJurors) {\\n        Dispute storage dispute = disputes[_disputeID];\\n        uint256 currentRound = dispute.rounds.length - 1;\\n        Round storage round = dispute.rounds[currentRound];\\n        if (dispute.period != Period.evidence) revert NotEvidencePeriod();\\n\\n        IDisputeKit disputeKit = disputeKits[round.disputeKitID];\\n\\n        uint256 startIndex = round.drawIterations; // for gas: less storage reads\\n        uint256 i;\\n        while (i < _iterations && round.drawnJurors.length < round.nbVotes) {\\n            address drawnAddress = disputeKit.draw(_disputeID, startIndex + i++);\\n            if (drawnAddress == address(0)) {\\n                continue;\\n            }\\n            sortitionModule.lockStake(drawnAddress, round.pnkAtStakePerJuror);\\n            emit Draw(drawnAddress, _disputeID, currentRound, round.drawnJurors.length);\\n            round.drawnJurors.push(drawnAddress);\\n            if (round.drawnJurors.length == round.nbVotes) {\\n                sortitionModule.postDrawHook(_disputeID, currentRound);\\n            }\\n        }\\n        round.drawIterations += i;\\n        return round.drawnJurors.length;\\n    }\\n\\n    /// @dev Appeals the ruling of a specified dispute.\\n    /// Note: Access restricted to the Dispute Kit for this `disputeID`.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @param _numberOfChoices Number of choices for the dispute. Can be required during court jump.\\n    /// @param _extraData Extradata for the dispute. Can be required during court jump.\\n    function appeal(uint256 _disputeID, uint256 _numberOfChoices, bytes memory _extraData) external payable {\\n        if (msg.value < appealCost(_disputeID)) revert AppealFeesNotEnough();\\n\\n        Dispute storage dispute = disputes[_disputeID];\\n        if (dispute.period != Period.appeal) revert DisputeNotAppealable();\\n\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n        if (msg.sender != address(disputeKits[round.disputeKitID])) revert DisputeKitOnly();\\n\\n        uint96 newCourtID = dispute.courtID;\\n        uint256 newDisputeKitID = round.disputeKitID;\\n\\n        // Warning: the extra round must be created before calling disputeKit.createDispute()\\n        Round storage extraRound = dispute.rounds.push();\\n\\n        if (round.nbVotes >= courts[newCourtID].jurorsForCourtJump) {\\n            // Jump to parent court.\\n            newCourtID = courts[newCourtID].parent;\\n\\n            if (!courts[newCourtID].supportedDisputeKits[newDisputeKitID]) {\\n                // Switch to classic dispute kit if parent court doesn't support the current one.\\n                newDisputeKitID = DISPUTE_KIT_CLASSIC;\\n            }\\n\\n            if (newCourtID != dispute.courtID) {\\n                emit CourtJump(_disputeID, dispute.rounds.length - 1, dispute.courtID, newCourtID);\\n            }\\n        }\\n\\n        dispute.courtID = newCourtID;\\n        dispute.period = Period.evidence;\\n        dispute.lastPeriodChange = block.timestamp;\\n\\n        Court storage court = courts[newCourtID];\\n        extraRound.nbVotes = msg.value / court.feeForJuror; // As many votes that can be afforded by the provided funds.\\n        extraRound.pnkAtStakePerJuror = _calculatePnkAtStake(court.minStake, court.alpha);\\n        extraRound.totalFeesForJurors = msg.value;\\n        extraRound.disputeKitID = newDisputeKitID;\\n\\n        sortitionModule.createDisputeHook(_disputeID, dispute.rounds.length - 1);\\n\\n        // Dispute kit was changed, so create a dispute in the new DK contract.\\n        if (extraRound.disputeKitID != round.disputeKitID) {\\n            emit DisputeKitJump(_disputeID, dispute.rounds.length - 1, round.disputeKitID, extraRound.disputeKitID);\\n            disputeKits[extraRound.disputeKitID].createDispute(\\n                _disputeID,\\n                _numberOfChoices,\\n                _extraData,\\n                extraRound.nbVotes\\n            );\\n        }\\n\\n        emit AppealDecision(_disputeID, dispute.arbitrated);\\n        emit NewPeriod(_disputeID, Period.evidence);\\n    }\\n\\n    /// @dev Distribute the PNKs at stake and the dispute fees for the specific round of the dispute. Can be called in parts.\\n    /// Note: Reward distributions are forbidden during pause.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @param _round The appeal round.\\n    /// @param _iterations The number of iterations to run.\\n    function execute(uint256 _disputeID, uint256 _round, uint256 _iterations) external whenNotPaused {\\n        Round storage round;\\n        {\\n            Dispute storage dispute = disputes[_disputeID];\\n            if (dispute.period != Period.execution) revert NotExecutionPeriod();\\n\\n            round = dispute.rounds[_round];\\n        } // stack too deep workaround\\n\\n        uint256 start = round.repartitions;\\n        uint256 end = round.repartitions + _iterations;\\n\\n        uint256 pnkPenaltiesInRound = round.pnkPenalties; // Keep in memory to save gas.\\n        uint256 numberOfVotesInRound = round.drawnJurors.length;\\n        uint256 feePerJurorInRound = round.totalFeesForJurors / numberOfVotesInRound;\\n        uint256 pnkAtStakePerJurorInRound = round.pnkAtStakePerJuror;\\n        uint256 coherentCount;\\n        {\\n            IDisputeKit disputeKit = disputeKits[round.disputeKitID];\\n            coherentCount = disputeKit.getCoherentCount(_disputeID, _round); // Total number of jurors that are eligible to a reward in this round.\\n        } // stack too deep workaround\\n\\n        if (coherentCount == 0) {\\n            // We loop over the votes once as there are no rewards because it is not a tie and no one in this round is coherent with the final outcome.\\n            if (end > numberOfVotesInRound) end = numberOfVotesInRound;\\n        } else {\\n            // We loop over the votes twice, first to collect the PNK penalties, and second to distribute them as rewards along with arbitration fees.\\n            if (end > numberOfVotesInRound * 2) end = numberOfVotesInRound * 2;\\n        }\\n        round.repartitions = end;\\n\\n        for (uint256 i = start; i < end; i++) {\\n            if (i < numberOfVotesInRound) {\\n                pnkPenaltiesInRound = _executePenalties(\\n                    ExecuteParams({\\n                        disputeID: _disputeID,\\n                        round: _round,\\n                        coherentCount: coherentCount,\\n                        numberOfVotesInRound: numberOfVotesInRound,\\n                        feePerJurorInRound: feePerJurorInRound,\\n                        pnkAtStakePerJurorInRound: pnkAtStakePerJurorInRound,\\n                        pnkPenaltiesInRound: pnkPenaltiesInRound,\\n                        repartition: i\\n                    })\\n                );\\n            } else {\\n                _executeRewards(\\n                    ExecuteParams({\\n                        disputeID: _disputeID,\\n                        round: _round,\\n                        coherentCount: coherentCount,\\n                        numberOfVotesInRound: numberOfVotesInRound,\\n                        feePerJurorInRound: feePerJurorInRound,\\n                        pnkAtStakePerJurorInRound: pnkAtStakePerJurorInRound,\\n                        pnkPenaltiesInRound: pnkPenaltiesInRound,\\n                        repartition: i\\n                    })\\n                );\\n            }\\n        }\\n        if (round.pnkPenalties != pnkPenaltiesInRound) {\\n            round.pnkPenalties = pnkPenaltiesInRound; // Reentrancy risk: breaks Check-Effect-Interact\\n        }\\n    }\\n\\n    /// @dev Distribute the PNKs at stake and the dispute fees for the specific round of the dispute, penalties only.\\n    /// @param _params The parameters for the execution, see `ExecuteParams`.\\n    /// @return pnkPenaltiesInRoundCache The updated penalties in round cache.\\n    function _executePenalties(ExecuteParams memory _params) internal returns (uint256) {\\n        Dispute storage dispute = disputes[_params.disputeID];\\n        Round storage round = dispute.rounds[_params.round];\\n        IDisputeKit disputeKit = disputeKits[round.disputeKitID];\\n\\n        // [0, 1] value that determines how coherent the juror was in this round, in basis points.\\n        uint256 degreeOfCoherence = disputeKit.getDegreeOfCoherence(\\n            _params.disputeID,\\n            _params.round,\\n            _params.repartition,\\n            _params.feePerJurorInRound,\\n            _params.pnkAtStakePerJurorInRound\\n        );\\n        if (degreeOfCoherence > ALPHA_DIVISOR) {\\n            // Make sure the degree doesn't exceed 1, though it should be ensured by the dispute kit.\\n            degreeOfCoherence = ALPHA_DIVISOR;\\n        }\\n\\n        // Fully coherent jurors won't be penalized.\\n        uint256 penalty = (round.pnkAtStakePerJuror * (ALPHA_DIVISOR - degreeOfCoherence)) / ALPHA_DIVISOR;\\n\\n        // Unlock the PNKs affected by the penalty\\n        address account = round.drawnJurors[_params.repartition];\\n        sortitionModule.unlockStake(account, penalty);\\n\\n        // Apply the penalty to the staked PNKs.\\n        (uint256 pnkBalance, uint256 availablePenalty) = sortitionModule.penalizeStake(account, penalty);\\n        _params.pnkPenaltiesInRound += availablePenalty;\\n        emit TokenAndETHShift(\\n            account,\\n            _params.disputeID,\\n            _params.round,\\n            degreeOfCoherence,\\n            -int256(availablePenalty),\\n            0,\\n            round.feeToken\\n        );\\n        // Unstake the juror from all courts if he was inactive or his balance can't cover penalties anymore.\\n        if (pnkBalance == 0 || !disputeKit.isVoteActive(_params.disputeID, _params.round, _params.repartition)) {\\n            sortitionModule.setJurorInactive(account);\\n        }\\n        if (_params.repartition == _params.numberOfVotesInRound - 1 && _params.coherentCount == 0) {\\n            // No one was coherent, send the rewards to the governor.\\n            _transferFeeToken(round.feeToken, payable(governor), round.totalFeesForJurors);\\n            pinakion.safeTransfer(governor, _params.pnkPenaltiesInRound);\\n            emit LeftoverRewardSent(\\n                _params.disputeID,\\n                _params.round,\\n                _params.pnkPenaltiesInRound,\\n                round.totalFeesForJurors,\\n                round.feeToken\\n            );\\n        }\\n        return _params.pnkPenaltiesInRound;\\n    }\\n\\n    /// @dev Distribute the PNKs at stake and the dispute fees for the specific round of the dispute, rewards only.\\n    /// @param _params The parameters for the execution, see `ExecuteParams`.\\n    function _executeRewards(ExecuteParams memory _params) internal {\\n        Dispute storage dispute = disputes[_params.disputeID];\\n        Round storage round = dispute.rounds[_params.round];\\n        IDisputeKit disputeKit = disputeKits[round.disputeKitID];\\n\\n        // [0, 1] value that determines how coherent the juror was in this round, in basis points.\\n        uint256 degreeOfCoherence = disputeKit.getDegreeOfCoherence(\\n            _params.disputeID,\\n            _params.round,\\n            _params.repartition % _params.numberOfVotesInRound,\\n            _params.feePerJurorInRound,\\n            _params.pnkAtStakePerJurorInRound\\n        );\\n\\n        // Make sure the degree doesn't exceed 1, though it should be ensured by the dispute kit.\\n        if (degreeOfCoherence > ALPHA_DIVISOR) {\\n            degreeOfCoherence = ALPHA_DIVISOR;\\n        }\\n\\n        address account = round.drawnJurors[_params.repartition % _params.numberOfVotesInRound];\\n        uint256 pnkLocked = _applyCoherence(round.pnkAtStakePerJuror, degreeOfCoherence);\\n\\n        // Release the rest of the PNKs of the juror for this round.\\n        sortitionModule.unlockStake(account, pnkLocked);\\n\\n        // Transfer the rewards\\n        uint256 pnkReward = _applyCoherence(_params.pnkPenaltiesInRound / _params.coherentCount, degreeOfCoherence);\\n        round.sumPnkRewardPaid += pnkReward;\\n        uint256 feeReward = _applyCoherence(round.totalFeesForJurors / _params.coherentCount, degreeOfCoherence);\\n        round.sumFeeRewardPaid += feeReward;\\n        pinakion.safeTransfer(account, pnkReward);\\n        _transferFeeToken(round.feeToken, payable(account), feeReward);\\n        emit TokenAndETHShift(\\n            account,\\n            _params.disputeID,\\n            _params.round,\\n            degreeOfCoherence,\\n            int256(pnkReward),\\n            int256(feeReward),\\n            round.feeToken\\n        );\\n\\n        // Transfer any residual rewards to the governor. It may happen due to partial coherence of the jurors.\\n        if (_params.repartition == _params.numberOfVotesInRound * 2 - 1) {\\n            uint256 leftoverPnkReward = _params.pnkPenaltiesInRound - round.sumPnkRewardPaid;\\n            uint256 leftoverFeeReward = round.totalFeesForJurors - round.sumFeeRewardPaid;\\n            if (leftoverPnkReward != 0 || leftoverFeeReward != 0) {\\n                if (leftoverPnkReward != 0) {\\n                    pinakion.safeTransfer(governor, leftoverPnkReward);\\n                }\\n                if (leftoverFeeReward != 0) {\\n                    _transferFeeToken(round.feeToken, payable(governor), leftoverFeeReward);\\n                }\\n                emit LeftoverRewardSent(\\n                    _params.disputeID,\\n                    _params.round,\\n                    leftoverPnkReward,\\n                    leftoverFeeReward,\\n                    round.feeToken\\n                );\\n            }\\n        }\\n    }\\n\\n    /// @dev Executes a specified dispute's ruling.\\n    /// @param _disputeID The ID of the dispute.\\n    function executeRuling(uint256 _disputeID) external {\\n        Dispute storage dispute = disputes[_disputeID];\\n        if (dispute.period != Period.execution) revert NotExecutionPeriod();\\n        if (dispute.ruled) revert RulingAlreadyExecuted();\\n\\n        (uint256 winningChoice, , ) = currentRuling(_disputeID);\\n        dispute.ruled = true;\\n        emit Ruling(dispute.arbitrated, _disputeID, winningChoice);\\n        dispute.arbitrated.rule(_disputeID, winningChoice);\\n    }\\n\\n    // ************************************* //\\n    // *           Public Views            * //\\n    // ************************************* //\\n\\n    /// @dev Compute the cost of arbitration denominated in ETH.\\n    ///      It is recommended not to increase it often, as it can be highly time and gas consuming for the arbitrated contracts to cope with fee augmentation.\\n    /// @param _extraData Additional info about the dispute. We use it to pass the ID of the dispute's court (first 32 bytes), the minimum number of jurors required (next 32 bytes) and the ID of the specific dispute kit (last 32 bytes).\\n    /// @return cost The arbitration cost in ETH.\\n    function arbitrationCost(bytes memory _extraData) public view override returns (uint256 cost) {\\n        (uint96 courtID, uint256 minJurors, ) = _extraDataToCourtIDMinJurorsDisputeKit(_extraData);\\n        cost = courts[courtID].feeForJuror * minJurors;\\n    }\\n\\n    /// @dev Compute the cost of arbitration denominated in `_feeToken`.\\n    ///      It is recommended not to increase it often, as it can be highly time and gas consuming for the arbitrated contracts to cope with fee augmentation.\\n    /// @param _extraData Additional info about the dispute. We use it to pass the ID of the dispute's court (first 32 bytes), the minimum number of jurors required (next 32 bytes) and the ID of the specific dispute kit (last 32 bytes).\\n    /// @param _feeToken The ERC20 token used to pay fees.\\n    /// @return cost The arbitration cost in `_feeToken`.\\n    function arbitrationCost(bytes calldata _extraData, IERC20 _feeToken) public view override returns (uint256 cost) {\\n        cost = convertEthToTokenAmount(_feeToken, arbitrationCost(_extraData));\\n    }\\n\\n    /// @dev Gets the cost of appealing a specified dispute.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @return cost The appeal cost.\\n    function appealCost(uint256 _disputeID) public view returns (uint256 cost) {\\n        Dispute storage dispute = disputes[_disputeID];\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n        Court storage court = courts[dispute.courtID];\\n        if (round.nbVotes >= court.jurorsForCourtJump) {\\n            // Jump to parent court.\\n            if (dispute.courtID == GENERAL_COURT) {\\n                // TODO: Handle the forking when appealed in General court.\\n                cost = NON_PAYABLE_AMOUNT; // Get the cost of the parent court.\\n            } else {\\n                cost = courts[court.parent].feeForJuror * ((round.nbVotes * 2) + 1);\\n            }\\n        } else {\\n            // Stay in current court.\\n            cost = court.feeForJuror * ((round.nbVotes * 2) + 1);\\n        }\\n    }\\n\\n    /// @dev Gets the start and the end of a specified dispute's current appeal period.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @return start The start of the appeal period.\\n    /// @return end The end of the appeal period.\\n    function appealPeriod(uint256 _disputeID) external view returns (uint256 start, uint256 end) {\\n        Dispute storage dispute = disputes[_disputeID];\\n        if (dispute.period == Period.appeal) {\\n            start = dispute.lastPeriodChange;\\n            end = dispute.lastPeriodChange + courts[dispute.courtID].timesPerPeriod[uint256(Period.appeal)];\\n        } else {\\n            start = 0;\\n            end = 0;\\n        }\\n    }\\n\\n    /// @dev Gets the current ruling of a specified dispute.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @return ruling The current ruling.\\n    /// @return tied Whether it's a tie or not.\\n    /// @return overridden Whether the ruling was overridden by appeal funding or not.\\n    function currentRuling(uint256 _disputeID) public view returns (uint256 ruling, bool tied, bool overridden) {\\n        Dispute storage dispute = disputes[_disputeID];\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n        IDisputeKit disputeKit = disputeKits[round.disputeKitID];\\n        (ruling, tied, overridden) = disputeKit.currentRuling(_disputeID);\\n    }\\n\\n    /// @dev Gets the round info for a specified dispute and round.\\n    /// @dev This function must not be called from a non-view function because it returns a dynamic array which might be very large, theoretically exceeding the block gas limit.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @param _round The round to get the info for.\\n    /// @return round The round info.\\n    function getRoundInfo(uint256 _disputeID, uint256 _round) external view returns (Round memory) {\\n        return disputes[_disputeID].rounds[_round];\\n    }\\n\\n    /// @dev Gets the PNK at stake per juror for a specified dispute and round.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @param _round The round to get the info for.\\n    /// @return pnkAtStakePerJuror The PNK at stake per juror.\\n    function getPnkAtStakePerJuror(uint256 _disputeID, uint256 _round) external view returns (uint256) {\\n        return disputes[_disputeID].rounds[_round].pnkAtStakePerJuror;\\n    }\\n\\n    /// @dev Gets the number of rounds for a specified dispute.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @return The number of rounds.\\n    function getNumberOfRounds(uint256 _disputeID) external view returns (uint256) {\\n        return disputes[_disputeID].rounds.length;\\n    }\\n\\n    /// @dev Checks if a given dispute kit is supported by a given court.\\n    /// @param _courtID The ID of the court to check the support for.\\n    /// @param _disputeKitID The ID of the dispute kit to check the support for.\\n    /// @return Whether the dispute kit is supported or not.\\n    function isSupported(uint96 _courtID, uint256 _disputeKitID) external view returns (bool) {\\n        return courts[_courtID].supportedDisputeKits[_disputeKitID];\\n    }\\n\\n    /// @dev Gets the timesPerPeriod array for a given court.\\n    /// @param _courtID The ID of the court to get the times from.\\n    /// @return timesPerPeriod The timesPerPeriod array for the given court.\\n    function getTimesPerPeriod(uint96 _courtID) external view returns (uint256[4] memory timesPerPeriod) {\\n        timesPerPeriod = courts[_courtID].timesPerPeriod;\\n    }\\n\\n    // ************************************* //\\n    // *   Public Views for Dispute Kits   * //\\n    // ************************************* //\\n\\n    /// @dev Gets the number of votes permitted for the specified dispute in the latest round.\\n    /// @param _disputeID The ID of the dispute.\\n    function getNumberOfVotes(uint256 _disputeID) external view returns (uint256) {\\n        Dispute storage dispute = disputes[_disputeID];\\n        return dispute.rounds[dispute.rounds.length - 1].nbVotes;\\n    }\\n\\n    /// @dev Returns true if the dispute kit will be switched to a parent DK.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @return Whether DK will be switched or not.\\n    function isDisputeKitJumping(uint256 _disputeID) external view returns (bool) {\\n        Dispute storage dispute = disputes[_disputeID];\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n        Court storage court = courts[dispute.courtID];\\n\\n        if (round.nbVotes < court.jurorsForCourtJump) {\\n            return false;\\n        }\\n\\n        // Jump if the parent court doesn't support the current DK.\\n        return !courts[court.parent].supportedDisputeKits[round.disputeKitID];\\n    }\\n\\n    function getDisputeKitsLength() external view returns (uint256) {\\n        return disputeKits.length;\\n    }\\n\\n    function convertEthToTokenAmount(IERC20 _toToken, uint256 _amountInEth) public view returns (uint256) {\\n        return (_amountInEth * 10 ** currencyRates[_toToken].rateDecimals) / currencyRates[_toToken].rateInEth;\\n    }\\n\\n    // ************************************* //\\n    // *            Internal               * //\\n    // ************************************* //\\n\\n    /// @dev Internal function to transfer fee tokens (ETH or ERC20)\\n    /// @param _feeToken The token to transfer (NATIVE_CURRENCY for ETH).\\n    /// @param _recipient The recipient address.\\n    /// @param _amount The amount to transfer.\\n    function _transferFeeToken(IERC20 _feeToken, address payable _recipient, uint256 _amount) internal {\\n        if (_feeToken == NATIVE_CURRENCY) {\\n            _recipient.safeSend(_amount, wNative);\\n        } else {\\n            _feeToken.safeTransfer(_recipient, _amount);\\n        }\\n    }\\n\\n    /// @dev Applies degree of coherence to an amount\\n    /// @param _amount The base amount to apply coherence to.\\n    /// @param _degreeOfCoherence The degree of coherence in basis points.\\n    /// @return The amount after applying the degree of coherence.\\n    function _applyCoherence(uint256 _amount, uint256 _degreeOfCoherence) internal pure returns (uint256) {\\n        return (_amount * _degreeOfCoherence) / ALPHA_DIVISOR;\\n    }\\n\\n    /// @dev Calculates PNK at stake per juror based on court parameters\\n    /// @param _minStake The minimum stake for the court.\\n    /// @param _alpha The alpha parameter for the court in basis points.\\n    /// @return The amount of PNK at stake per juror.\\n    function _calculatePnkAtStake(uint256 _minStake, uint256 _alpha) internal pure returns (uint256) {\\n        return (_minStake * _alpha) / ALPHA_DIVISOR;\\n    }\\n\\n    /// @dev Toggles the dispute kit support for a given court.\\n    /// @param _courtID The ID of the court to toggle the support for.\\n    /// @param _disputeKitID The ID of the dispute kit to toggle the support for.\\n    /// @param _enable Whether to enable or disable the support. Note that classic dispute kit should always be enabled.\\n    function _enableDisputeKit(uint96 _courtID, uint256 _disputeKitID, bool _enable) internal {\\n        courts[_courtID].supportedDisputeKits[_disputeKitID] = _enable;\\n        emit DisputeKitEnabled(_courtID, _disputeKitID, _enable);\\n    }\\n\\n    /// @dev If called only once then set _onError to Revert, otherwise set it to Return\\n    /// @param _account The account to set the stake for.\\n    /// @param _courtID The ID of the court to set the stake for.\\n    /// @param _newStake The new stake.\\n    /// @param _onError Whether to revert or return false on error.\\n    /// @return Whether the stake was successfully set or not.\\n    function _setStake(address _account, uint96 _courtID, uint256 _newStake, OnError _onError) internal returns (bool) {\\n        if (_courtID == FORKING_COURT || _courtID >= courts.length) {\\n            _stakingFailed(_onError, StakingResult.CannotStakeInThisCourt); // Staking directly into the forking court is not allowed.\\n            return false;\\n        }\\n        if (_newStake != 0 && _newStake < courts[_courtID].minStake) {\\n            _stakingFailed(_onError, StakingResult.CannotStakeLessThanMinStake); // Staking less than the minimum stake is not allowed.\\n            return false;\\n        }\\n        (uint256 pnkDeposit, uint256 pnkWithdrawal, StakingResult stakingResult) = sortitionModule.validateStake(\\n            _account,\\n            _courtID,\\n            _newStake\\n        );\\n        if (stakingResult != StakingResult.Successful && stakingResult != StakingResult.Delayed) {\\n            _stakingFailed(_onError, stakingResult);\\n            return false;\\n        } else if (stakingResult == StakingResult.Delayed) {\\n            return true;\\n        }\\n        if (pnkDeposit > 0) {\\n            if (!pinakion.safeTransferFrom(_account, address(this), pnkDeposit)) {\\n                _stakingFailed(_onError, StakingResult.StakingTransferFailed);\\n                return false;\\n            }\\n        }\\n        if (pnkWithdrawal > 0) {\\n            if (!pinakion.safeTransfer(_account, pnkWithdrawal)) {\\n                _stakingFailed(_onError, StakingResult.UnstakingTransferFailed);\\n                return false;\\n            }\\n        }\\n        sortitionModule.setStake(_account, _courtID, pnkDeposit, pnkWithdrawal, _newStake);\\n\\n        return true;\\n    }\\n\\n    /// @dev It may revert depending on the _onError parameter.\\n    function _stakingFailed(OnError _onError, StakingResult _result) internal pure virtual {\\n        if (_onError == OnError.Return) return;\\n        if (_result == StakingResult.StakingTransferFailed) revert StakingTransferFailed();\\n        if (_result == StakingResult.UnstakingTransferFailed) revert UnstakingTransferFailed();\\n        if (_result == StakingResult.CannotStakeInMoreCourts) revert StakingInTooManyCourts();\\n        if (_result == StakingResult.CannotStakeInThisCourt) revert StakingNotPossibleInThisCourt();\\n        if (_result == StakingResult.CannotStakeLessThanMinStake) revert StakingLessThanCourtMinStake();\\n        if (_result == StakingResult.CannotStakeZeroWhenNoStake) revert StakingZeroWhenNoStake();\\n    }\\n\\n    /// @dev Gets a court ID, the minimum number of jurors and an ID of a dispute kit from a specified extra data bytes array.\\n    /// Note that if extradata contains an incorrect value then this value will be switched to default.\\n    /// @param _extraData The extra data bytes array. The first 32 bytes are the court ID, the next are the minimum number of jurors and the last are the dispute kit ID.\\n    /// @return courtID The court ID.\\n    /// @return minJurors The minimum number of jurors required.\\n    /// @return disputeKitID The ID of the dispute kit.\\n    function _extraDataToCourtIDMinJurorsDisputeKit(\\n        bytes memory _extraData\\n    ) internal view returns (uint96 courtID, uint256 minJurors, uint256 disputeKitID) {\\n        // Note that if the extradata doesn't contain 32 bytes for the dispute kit ID it'll return the default 0 index.\\n        if (_extraData.length >= 64) {\\n            assembly {\\n                // solium-disable-line security/no-inline-assembly\\n                courtID := mload(add(_extraData, 0x20))\\n                minJurors := mload(add(_extraData, 0x40))\\n                disputeKitID := mload(add(_extraData, 0x60))\\n            }\\n            if (courtID == FORKING_COURT || courtID >= courts.length) {\\n                courtID = GENERAL_COURT;\\n            }\\n            if (minJurors == 0) {\\n                minJurors = DEFAULT_NB_OF_JURORS;\\n            }\\n            if (disputeKitID == NULL_DISPUTE_KIT || disputeKitID >= disputeKits.length) {\\n                disputeKitID = DISPUTE_KIT_CLASSIC; // 0 index is not used.\\n            }\\n        } else {\\n            courtID = GENERAL_COURT;\\n            minJurors = DEFAULT_NB_OF_JURORS;\\n            disputeKitID = DISPUTE_KIT_CLASSIC;\\n        }\\n    }\\n\\n    // ************************************* //\\n    // *              Errors               * //\\n    // ************************************* //\\n\\n    error GovernorOnly();\\n    error GuardianOrGovernorOnly();\\n    error DisputeKitOnly();\\n    error SortitionModuleOnly();\\n    error UnsuccessfulCall();\\n    error InvalidDisputKitParent();\\n    error MinStakeLowerThanParentCourt();\\n    error UnsupportedDisputeKit();\\n    error InvalidForkingCourtAsParent();\\n    error WrongDisputeKitIndex();\\n    error CannotDisableClassicDK();\\n    error StakingInTooManyCourts();\\n    error StakingNotPossibleInThisCourt();\\n    error StakingLessThanCourtMinStake();\\n    error StakingTransferFailed();\\n    error UnstakingTransferFailed();\\n    error ArbitrationFeesNotEnough();\\n    error DisputeKitNotSupportedByCourt();\\n    error MustSupportDisputeKitClassic();\\n    error TokenNotAccepted();\\n    error EvidenceNotPassedAndNotAppeal();\\n    error DisputeStillDrawing();\\n    error CommitPeriodNotPassed();\\n    error VotePeriodNotPassed();\\n    error AppealPeriodNotPassed();\\n    error NotEvidencePeriod();\\n    error AppealFeesNotEnough();\\n    error DisputeNotAppealable();\\n    error NotExecutionPeriod();\\n    error RulingAlreadyExecuted();\\n    error DisputePeriodIsFinal();\\n    error TransferFailed();\\n    error WhenNotPausedOnly();\\n    error WhenPausedOnly();\\n    error StakingZeroWhenNoStake();\\n}\\n\",\"keccak256\":\"0x760819e151abfb5280e00431b27d2f5b36b6c8dcb1f4c87f96769c8cbc4c99b7\",\"license\":\"MIT\"},\"src/arbitration/dispute-kits/DisputeKitClassicBase.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.24;\\n\\nimport {KlerosCore, KlerosCoreBase, IDisputeKit, ISortitionModule} from \\\"../KlerosCore.sol\\\";\\nimport {Initializable} from \\\"../../proxy/Initializable.sol\\\";\\nimport {UUPSProxiable} from \\\"../../proxy/UUPSProxiable.sol\\\";\\nimport {SafeSend} from \\\"../../libraries/SafeSend.sol\\\";\\n\\n/// @title DisputeKitClassicBase\\n/// Abstract Dispute kit classic implementation of the Kleros v1 features including:\\n/// - a drawing system: proportional to staked PNK,\\n/// - a vote aggregation system: plurality,\\n/// - an incentive system: equal split between coherent votes,\\n/// - an appeal system: fund 2 choices only, vote on any choice.\\nabstract contract DisputeKitClassicBase is IDisputeKit, Initializable, UUPSProxiable {\\n    using SafeSend for address payable;\\n\\n    // ************************************* //\\n    // *             Structs               * //\\n    // ************************************* //\\n\\n    struct Dispute {\\n        Round[] rounds; // Rounds of the dispute. 0 is the default round, and [1, ..n] are the appeal rounds.\\n        uint256 numberOfChoices; // The number of choices jurors have when voting. This does not include choice `0` which is reserved for \\\"refuse to arbitrate\\\".\\n        bool jumped; // True if dispute jumped to a parent dispute kit and won't be handled by this DK anymore.\\n        mapping(uint256 => uint256) coreRoundIDToLocal; // Maps id of the round in the core contract to the index of the round of related local dispute.\\n        bytes extraData; // Extradata for the dispute.\\n    }\\n\\n    struct Round {\\n        Vote[] votes; // Former votes[_appeal][].\\n        uint256 winningChoice; // The choice with the most votes. Note that in the case of a tie, it is the choice that reached the tied number of votes first.\\n        mapping(uint256 => uint256) counts; // The sum of votes for each choice in the form `counts[choice]`.\\n        bool tied; // True if there is a tie, false otherwise.\\n        uint256 totalVoted; // Former uint[_appeal] votesInEachRound.\\n        uint256 totalCommitted; // Former commitsInRound.\\n        mapping(uint256 choiceId => uint256) paidFees; // Tracks the fees paid for each choice in this round.\\n        mapping(uint256 choiceId => bool) hasPaid; // True if this choice was fully funded, false otherwise.\\n        mapping(address account => mapping(uint256 choiceId => uint256)) contributions; // Maps contributors to their contributions for each choice.\\n        uint256 feeRewards; // Sum of reimbursable appeal fees available to the parties that made contributions to the ruling that ultimately wins a dispute.\\n        uint256[] fundedChoices; // Stores the choices that are fully funded.\\n        uint256 nbVotes; // Maximal number of votes this dispute can get.\\n    }\\n\\n    struct Vote {\\n        address account; // The address of the juror.\\n        bytes32 commit; // The commit of the juror. For courts with hidden votes.\\n        uint256 choice; // The choice of the juror.\\n        bool voted; // True if the vote has been cast.\\n    }\\n\\n    // ************************************* //\\n    // *             Storage               * //\\n    // ************************************* //\\n\\n    uint256 public constant WINNER_STAKE_MULTIPLIER = 10000; // Multiplier of the appeal cost that the winner has to pay as fee stake for a round in basis points. Default is 1x of appeal fee.\\n    uint256 public constant LOSER_STAKE_MULTIPLIER = 20000; // Multiplier of the appeal cost that the loser has to pay as fee stake for a round in basis points. Default is 2x of appeal fee.\\n    uint256 public constant LOSER_APPEAL_PERIOD_MULTIPLIER = 5000; // Multiplier of the appeal period for the choice that wasn't voted for in the previous round, in basis points. Default is 1/2 of original appeal period.\\n    uint256 public constant ONE_BASIS_POINT = 10000; // One basis point, for scaling.\\n\\n    address public governor; // The governor of the contract.\\n    KlerosCore public core; // The Kleros Core arbitrator\\n    Dispute[] public disputes; // Array of the locally created disputes.\\n    mapping(uint256 => uint256) public coreDisputeIDToLocal; // Maps the dispute ID in Kleros Core to the local dispute ID.\\n    bool public singleDrawPerJuror; // Whether each juror can only draw once per dispute, false by default.\\n    mapping(uint256 localDisputeID => mapping(uint256 localRoundID => mapping(address drawnAddress => bool)))\\n        public alreadyDrawn; // True if the address has already been drawn, false by default. To be added to the Round struct when fully redeploying rather than upgrading.\\n    mapping(uint256 coreDisputeID => bool) public coreDisputeIDToActive; // True if this dispute kit is active for this core dispute ID.\\n    address public wNative; // The wrapped native token for safeSend().\\n\\n    // ************************************* //\\n    // *              Events               * //\\n    // ************************************* //\\n\\n    /// @dev To be emitted when a dispute is created.\\n    /// @param _coreDisputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _numberOfChoices The number of choices available in the dispute.\\n    /// @param _extraData The extra data for the dispute.\\n    event DisputeCreation(uint256 indexed _coreDisputeID, uint256 _numberOfChoices, bytes _extraData);\\n\\n    /// @dev To be emitted when a vote commitment is cast.\\n    /// @param _coreDisputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _juror The address of the juror casting the vote commitment.\\n    /// @param _voteIDs The identifiers of the votes in the dispute.\\n    /// @param _commit The commitment of the juror.\\n    event CommitCast(uint256 indexed _coreDisputeID, address indexed _juror, uint256[] _voteIDs, bytes32 _commit);\\n\\n    /// @dev To be emitted when a funding contribution is made.\\n    /// @param _coreDisputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _coreRoundID The identifier of the round in the Arbitrator contract.\\n    /// @param _choice The choice that is being funded.\\n    /// @param _contributor The address of the contributor.\\n    /// @param _amount The amount contributed.\\n    event Contribution(\\n        uint256 indexed _coreDisputeID,\\n        uint256 indexed _coreRoundID,\\n        uint256 _choice,\\n        address indexed _contributor,\\n        uint256 _amount\\n    );\\n\\n    /// @dev To be emitted when the contributed funds are withdrawn.\\n    /// @param _coreDisputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _coreRoundID The identifier of the round in the Arbitrator contract.\\n    /// @param _choice The choice that is being funded.\\n    /// @param _contributor The address of the contributor.\\n    /// @param _amount The amount withdrawn.\\n    event Withdrawal(\\n        uint256 indexed _coreDisputeID,\\n        uint256 indexed _coreRoundID,\\n        uint256 _choice,\\n        address indexed _contributor,\\n        uint256 _amount\\n    );\\n\\n    /// @dev To be emitted when a choice is fully funded for an appeal.\\n    /// @param _coreDisputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _coreRoundID The identifier of the round in the Arbitrator contract.\\n    /// @param _choice The choice that is being funded.\\n    event ChoiceFunded(uint256 indexed _coreDisputeID, uint256 indexed _coreRoundID, uint256 indexed _choice);\\n\\n    // ************************************* //\\n    // *              Modifiers            * //\\n    // ************************************* //\\n\\n    modifier onlyByGovernor() {\\n        require(governor == msg.sender, \\\"Access not allowed: Governor only.\\\");\\n        _;\\n    }\\n\\n    modifier onlyByCore() {\\n        require(address(core) == msg.sender, \\\"Access not allowed: KlerosCore only.\\\");\\n        _;\\n    }\\n\\n    modifier notJumped(uint256 _coreDisputeID) {\\n        require(!disputes[coreDisputeIDToLocal[_coreDisputeID]].jumped, \\\"Dispute jumped to a parent DK!\\\");\\n        _;\\n    }\\n\\n    // ************************************* //\\n    // *            Constructor            * //\\n    // ************************************* //\\n\\n    /// @dev Initializer.\\n    /// @param _governor The governor's address.\\n    /// @param _core The KlerosCore arbitrator.\\n    /// @param _wNative The wrapped native token address, typically wETH.\\n    function __DisputeKitClassicBase_initialize(\\n        address _governor,\\n        KlerosCore _core,\\n        address _wNative\\n    ) internal onlyInitializing {\\n        governor = _governor;\\n        core = _core;\\n        wNative = _wNative;\\n    }\\n\\n    // ************************ //\\n    // *      Governance      * //\\n    // ************************ //\\n\\n    /// @dev Allows the governor to call anything on behalf of the contract.\\n    /// @param _destination The destination of the call.\\n    /// @param _amount The value sent with the call.\\n    /// @param _data The data sent with the call.\\n    function executeGovernorProposal(\\n        address _destination,\\n        uint256 _amount,\\n        bytes memory _data\\n    ) external onlyByGovernor {\\n        (bool success, ) = _destination.call{value: _amount}(_data);\\n        require(success, \\\"Unsuccessful call\\\");\\n    }\\n\\n    /// @dev Changes the `governor` storage variable.\\n    /// @param _governor The new value for the `governor` storage variable.\\n    function changeGovernor(address payable _governor) external onlyByGovernor {\\n        governor = _governor;\\n    }\\n\\n    /// @dev Changes the `core` storage variable.\\n    /// @param _core The new value for the `core` storage variable.\\n    function changeCore(address _core) external onlyByGovernor {\\n        core = KlerosCore(_core);\\n    }\\n\\n    // ************************************* //\\n    // *         State Modifiers           * //\\n    // ************************************* //\\n\\n    /// @dev Creates a local dispute and maps it to the dispute ID in the Core contract.\\n    /// Note: Access restricted to Kleros Core only.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @param _numberOfChoices Number of choices of the dispute\\n    /// @param _extraData Additional info about the dispute, for possible use in future dispute kits.\\n    /// @param _nbVotes Number of votes for this dispute.\\n    function createDispute(\\n        uint256 _coreDisputeID,\\n        uint256 _numberOfChoices,\\n        bytes calldata _extraData,\\n        uint256 _nbVotes\\n    ) external override onlyByCore {\\n        uint256 localDisputeID = disputes.length;\\n        Dispute storage dispute = disputes.push();\\n        dispute.numberOfChoices = _numberOfChoices;\\n        dispute.extraData = _extraData;\\n        dispute.jumped = false; // Possibly true if this DK has jumped in a previous round.\\n\\n        // New round in the Core should be created before the dispute creation in DK.\\n        dispute.coreRoundIDToLocal[core.getNumberOfRounds(_coreDisputeID) - 1] = dispute.rounds.length;\\n\\n        Round storage round = dispute.rounds.push();\\n        round.nbVotes = _nbVotes;\\n        round.tied = true;\\n\\n        coreDisputeIDToLocal[_coreDisputeID] = localDisputeID;\\n        coreDisputeIDToActive[_coreDisputeID] = true;\\n        emit DisputeCreation(_coreDisputeID, _numberOfChoices, _extraData);\\n    }\\n\\n    /// @dev Draws the juror from the sortition tree. The drawn address is picked up by Kleros Core.\\n    /// Note: Access restricted to Kleros Core only.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @param _nonce Nonce of the drawing iteration.\\n    /// @return drawnAddress The drawn address.\\n    function draw(\\n        uint256 _coreDisputeID,\\n        uint256 _nonce\\n    ) external override onlyByCore notJumped(_coreDisputeID) returns (address drawnAddress) {\\n        uint256 localDisputeID = coreDisputeIDToLocal[_coreDisputeID];\\n        Dispute storage dispute = disputes[localDisputeID];\\n        uint256 localRoundID = dispute.rounds.length - 1;\\n        Round storage round = dispute.rounds[localRoundID];\\n\\n        ISortitionModule sortitionModule = core.sortitionModule();\\n        (uint96 courtID, , , , ) = core.disputes(_coreDisputeID);\\n        bytes32 key = bytes32(uint256(courtID)); // Get the ID of the tree.\\n\\n        drawnAddress = sortitionModule.draw(key, _coreDisputeID, _nonce);\\n        if (drawnAddress == address(0)) {\\n            // Sortition can return 0 address if no one has staked yet.\\n            return drawnAddress;\\n        }\\n\\n        if (_postDrawCheck(round, _coreDisputeID, drawnAddress)) {\\n            round.votes.push(Vote({account: drawnAddress, commit: bytes32(0), choice: 0, voted: false}));\\n            alreadyDrawn[localDisputeID][localRoundID][drawnAddress] = true;\\n        } else {\\n            drawnAddress = address(0);\\n        }\\n    }\\n\\n    /// @dev Sets the caller's commit for the specified votes. It can be called multiple times during the\\n    /// commit period, each call overrides the commits of the previous one.\\n    /// `O(n)` where\\n    /// `n` is the number of votes.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @param _voteIDs The IDs of the votes.\\n    /// @param _commit The commitment hash.\\n    function castCommit(uint256 _coreDisputeID, uint256[] calldata _voteIDs, bytes32 _commit) external {\\n        _castCommit(_coreDisputeID, _voteIDs, _commit);\\n    }\\n\\n    function _castCommit(\\n        uint256 _coreDisputeID,\\n        uint256[] calldata _voteIDs,\\n        bytes32 _commit\\n    ) internal notJumped(_coreDisputeID) {\\n        (, , KlerosCore.Period period, , ) = core.disputes(_coreDisputeID);\\n        require(period == KlerosCoreBase.Period.commit, \\\"The dispute should be in Commit period.\\\");\\n        require(_commit != bytes32(0), \\\"Empty commit.\\\");\\n        require(coreDisputeIDToActive[_coreDisputeID], \\\"Not active for core dispute ID\\\");\\n\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n        for (uint256 i = 0; i < _voteIDs.length; i++) {\\n            require(round.votes[_voteIDs[i]].account == msg.sender, \\\"The caller has to own the vote.\\\");\\n            round.votes[_voteIDs[i]].commit = _commit;\\n        }\\n        round.totalCommitted += _voteIDs.length;\\n        emit CommitCast(_coreDisputeID, msg.sender, _voteIDs, _commit);\\n    }\\n\\n    /// @dev Sets the caller's choices for the specified votes.\\n    /// `O(n)` where\\n    /// `n` is the number of votes.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @param _voteIDs The IDs of the votes.\\n    /// @param _choice The choice.\\n    /// @param _salt The salt for the commit if the votes were hidden.\\n    /// @param _justification Justification of the choice.\\n    function castVote(\\n        uint256 _coreDisputeID,\\n        uint256[] calldata _voteIDs,\\n        uint256 _choice,\\n        uint256 _salt,\\n        string memory _justification\\n    ) external {\\n        _castVote(_coreDisputeID, _voteIDs, _choice, _salt, _justification, msg.sender);\\n    }\\n\\n    function _castVote(\\n        uint256 _coreDisputeID,\\n        uint256[] calldata _voteIDs,\\n        uint256 _choice,\\n        uint256 _salt,\\n        string memory _justification,\\n        address _juror\\n    ) internal notJumped(_coreDisputeID) {\\n        (, , KlerosCore.Period period, , ) = core.disputes(_coreDisputeID);\\n        require(period == KlerosCoreBase.Period.vote, \\\"The dispute should be in Vote period.\\\");\\n        require(_voteIDs.length > 0, \\\"No voteID provided\\\");\\n        require(coreDisputeIDToActive[_coreDisputeID], \\\"Not active for core dispute ID\\\");\\n\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        require(_choice <= dispute.numberOfChoices, \\\"Choice out of bounds\\\");\\n\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n        {\\n            (uint96 courtID, , , , ) = core.disputes(_coreDisputeID);\\n            (, bool hiddenVotes, , , , , ) = core.courts(courtID);\\n            bytes32 voteHash = hashVote(_choice, _salt, _justification);\\n\\n            //  Save the votes.\\n            for (uint256 i = 0; i < _voteIDs.length; i++) {\\n                require(round.votes[_voteIDs[i]].account == _juror, \\\"The juror has to own the vote.\\\");\\n                require(\\n                    !hiddenVotes || round.votes[_voteIDs[i]].commit == voteHash,\\n                    \\\"The vote hash must match the commitment in courts with hidden votes.\\\"\\n                );\\n                require(!round.votes[_voteIDs[i]].voted, \\\"Vote already cast.\\\");\\n                round.votes[_voteIDs[i]].choice = _choice;\\n                round.votes[_voteIDs[i]].voted = true;\\n            }\\n        } // Workaround stack too deep\\n\\n        round.totalVoted += _voteIDs.length;\\n\\n        round.counts[_choice] += _voteIDs.length;\\n        if (_choice == round.winningChoice) {\\n            if (round.tied) round.tied = false;\\n        } else {\\n            // Voted for another choice.\\n            if (round.counts[_choice] == round.counts[round.winningChoice]) {\\n                // Tie.\\n                if (!round.tied) round.tied = true;\\n            } else if (round.counts[_choice] > round.counts[round.winningChoice]) {\\n                // New winner.\\n                round.winningChoice = _choice;\\n                round.tied = false;\\n            }\\n        }\\n        emit VoteCast(_coreDisputeID, _juror, _voteIDs, _choice, _justification);\\n    }\\n\\n    /// @dev Manages contributions, and appeals a dispute if at least two choices are fully funded.\\n    /// Note that the surplus deposit will be reimbursed.\\n    /// @param _coreDisputeID Index of the dispute in Kleros Core.\\n    /// @param _choice A choice that receives funding.\\n    function fundAppeal(uint256 _coreDisputeID, uint256 _choice) external payable notJumped(_coreDisputeID) {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        require(_choice <= dispute.numberOfChoices, \\\"There is no such ruling to fund.\\\");\\n        require(coreDisputeIDToActive[_coreDisputeID], \\\"Not active for core dispute ID\\\");\\n\\n        (uint256 appealPeriodStart, uint256 appealPeriodEnd) = core.appealPeriod(_coreDisputeID);\\n        require(block.timestamp >= appealPeriodStart && block.timestamp < appealPeriodEnd, \\\"Appeal period is over.\\\");\\n\\n        uint256 multiplier;\\n        (uint256 ruling, , ) = this.currentRuling(_coreDisputeID);\\n        if (ruling == _choice) {\\n            multiplier = WINNER_STAKE_MULTIPLIER;\\n        } else {\\n            require(\\n                block.timestamp - appealPeriodStart <\\n                    ((appealPeriodEnd - appealPeriodStart) * LOSER_APPEAL_PERIOD_MULTIPLIER) / ONE_BASIS_POINT,\\n                \\\"Appeal period is over for loser\\\"\\n            );\\n            multiplier = LOSER_STAKE_MULTIPLIER;\\n        }\\n\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n        uint256 coreRoundID = core.getNumberOfRounds(_coreDisputeID) - 1;\\n\\n        require(!round.hasPaid[_choice], \\\"Appeal fee is already paid.\\\");\\n        uint256 appealCost = core.appealCost(_coreDisputeID);\\n        uint256 totalCost = appealCost + (appealCost * multiplier) / ONE_BASIS_POINT;\\n\\n        // Take up to the amount necessary to fund the current round at the current costs.\\n        uint256 contribution;\\n        if (totalCost > round.paidFees[_choice]) {\\n            contribution = totalCost - round.paidFees[_choice] > msg.value // Overflows and underflows will be managed on the compiler level.\\n                ? msg.value\\n                : totalCost - round.paidFees[_choice];\\n            emit Contribution(_coreDisputeID, coreRoundID, _choice, msg.sender, contribution);\\n        }\\n\\n        round.contributions[msg.sender][_choice] += contribution;\\n        round.paidFees[_choice] += contribution;\\n        if (round.paidFees[_choice] >= totalCost) {\\n            round.feeRewards += round.paidFees[_choice];\\n            round.fundedChoices.push(_choice);\\n            round.hasPaid[_choice] = true;\\n            emit ChoiceFunded(_coreDisputeID, coreRoundID, _choice);\\n        }\\n\\n        if (round.fundedChoices.length > 1) {\\n            // At least two sides are fully funded.\\n            round.feeRewards = round.feeRewards - appealCost;\\n\\n            if (core.isDisputeKitJumping(_coreDisputeID)) {\\n                // Don't create a new round in case of a jump, and remove local dispute from the flow.\\n                dispute.jumped = true;\\n            } else {\\n                // Don't subtract 1 from length since both round arrays haven't been updated yet.\\n                dispute.coreRoundIDToLocal[coreRoundID + 1] = dispute.rounds.length;\\n\\n                Round storage newRound = dispute.rounds.push();\\n                newRound.nbVotes = core.getNumberOfVotes(_coreDisputeID);\\n                newRound.tied = true;\\n            }\\n            core.appeal{value: appealCost}(_coreDisputeID, dispute.numberOfChoices, dispute.extraData);\\n        }\\n\\n        if (msg.value > contribution) payable(msg.sender).safeSend(msg.value - contribution, wNative);\\n    }\\n\\n    /// @dev Allows those contributors who attempted to fund an appeal round to withdraw any reimbursable fees or rewards after the dispute gets resolved.\\n    /// Note that withdrawals are not possible if the core contract is paused.\\n    /// @param _coreDisputeID Index of the dispute in Kleros Core contract.\\n    /// @param _beneficiary The address whose rewards to withdraw.\\n    /// @param _coreRoundID The round in the Kleros Core contract the caller wants to withdraw from.\\n    /// @param _choice The ruling option that the caller wants to withdraw from.\\n    /// @return amount The withdrawn amount.\\n    function withdrawFeesAndRewards(\\n        uint256 _coreDisputeID,\\n        address payable _beneficiary,\\n        uint256 _coreRoundID,\\n        uint256 _choice\\n    ) external returns (uint256 amount) {\\n        (, , , bool isRuled, ) = core.disputes(_coreDisputeID);\\n        require(isRuled, \\\"Dispute should be resolved.\\\");\\n        require(!core.paused(), \\\"Core is paused\\\");\\n        require(coreDisputeIDToActive[_coreDisputeID], \\\"Not active for core dispute ID\\\");\\n\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Round storage round = dispute.rounds[dispute.coreRoundIDToLocal[_coreRoundID]];\\n        (uint256 finalRuling, , ) = core.currentRuling(_coreDisputeID);\\n\\n        if (!round.hasPaid[_choice]) {\\n            // Allow to reimburse if funding was unsuccessful for this ruling option.\\n            amount = round.contributions[_beneficiary][_choice];\\n        } else {\\n            // Funding was successful for this ruling option.\\n            if (_choice == finalRuling) {\\n                // This ruling option is the ultimate winner.\\n                amount = round.paidFees[_choice] > 0\\n                    ? (round.contributions[_beneficiary][_choice] * round.feeRewards) / round.paidFees[_choice]\\n                    : 0;\\n            } else if (!round.hasPaid[finalRuling]) {\\n                // The ultimate winner was not funded in this round. In this case funded ruling option(s) are reimbursed.\\n                amount =\\n                    (round.contributions[_beneficiary][_choice] * round.feeRewards) /\\n                    (round.paidFees[round.fundedChoices[0]] + round.paidFees[round.fundedChoices[1]]);\\n            }\\n        }\\n        round.contributions[_beneficiary][_choice] = 0;\\n\\n        if (amount != 0) {\\n            _beneficiary.safeSend(amount, wNative);\\n            emit Withdrawal(_coreDisputeID, _coreRoundID, _choice, _beneficiary, amount);\\n        }\\n    }\\n\\n    // ************************************* //\\n    // *           Public Views            * //\\n    // ************************************* //\\n\\n    /**\\n     * @dev Computes the hash of a vote using ABI encoding\\n     * @dev The unused parameters may be used by overriding contracts.\\n     * @param _choice The choice being voted for\\n     * @param _justification The justification for the vote\\n     * @param _salt A random salt for commitment\\n     * @return bytes32 The hash of the encoded vote parameters\\n     */\\n    function hashVote(\\n        uint256 _choice,\\n        uint256 _salt,\\n        string memory _justification\\n    ) public pure virtual returns (bytes32) {\\n        return keccak256(abi.encodePacked(_choice, _salt));\\n    }\\n\\n    function getFundedChoices(uint256 _coreDisputeID) public view returns (uint256[] memory fundedChoices) {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Round storage lastRound = dispute.rounds[dispute.rounds.length - 1];\\n        return lastRound.fundedChoices;\\n    }\\n\\n    /// @dev Gets the current ruling of a specified dispute.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @return ruling The current ruling.\\n    /// @return tied Whether it's a tie or not.\\n    /// @return overridden Whether the ruling was overridden by appeal funding or not.\\n    function currentRuling(\\n        uint256 _coreDisputeID\\n    ) external view override returns (uint256 ruling, bool tied, bool overridden) {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n        tied = round.tied;\\n        ruling = tied ? 0 : round.winningChoice;\\n        (, , KlerosCore.Period period, , ) = core.disputes(_coreDisputeID);\\n        // Override the final ruling if only one side funded the appeals.\\n        if (period == KlerosCoreBase.Period.execution) {\\n            uint256[] memory fundedChoices = getFundedChoices(_coreDisputeID);\\n            if (fundedChoices.length == 1) {\\n                ruling = fundedChoices[0];\\n                tied = false;\\n                overridden = true;\\n            }\\n        }\\n    }\\n\\n    /// @dev Gets the degree of coherence of a particular voter. This function is called by Kleros Core in order to determine the amount of the reward.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @param _coreRoundID The ID of the round in Kleros Core, not in the Dispute Kit.\\n    /// @param _voteID The ID of the vote.\\n    /// @return The degree of coherence in basis points.\\n    function getDegreeOfCoherence(\\n        uint256 _coreDisputeID,\\n        uint256 _coreRoundID,\\n        uint256 _voteID,\\n        uint256 /* _feePerJuror */,\\n        uint256 /* _pnkAtStakePerJuror */\\n    ) external view override returns (uint256) {\\n        // In this contract this degree can be either 0 or 1, but in other dispute kits this value can be something in between.\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Vote storage vote = dispute.rounds[dispute.coreRoundIDToLocal[_coreRoundID]].votes[_voteID];\\n        (uint256 winningChoice, bool tied, ) = core.currentRuling(_coreDisputeID);\\n\\n        if (vote.voted && (vote.choice == winningChoice || tied)) {\\n            return ONE_BASIS_POINT;\\n        } else {\\n            return 0;\\n        }\\n    }\\n\\n    /// @dev Gets the number of jurors who are eligible to a reward in this round.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @param _coreRoundID The ID of the round in Kleros Core, not in the Dispute Kit.\\n    /// @return The number of coherent jurors.\\n    function getCoherentCount(uint256 _coreDisputeID, uint256 _coreRoundID) external view override returns (uint256) {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Round storage currentRound = dispute.rounds[dispute.coreRoundIDToLocal[_coreRoundID]];\\n        (uint256 winningChoice, bool tied, ) = core.currentRuling(_coreDisputeID);\\n\\n        if (currentRound.totalVoted == 0 || (!tied && currentRound.counts[winningChoice] == 0)) {\\n            return 0;\\n        } else if (tied) {\\n            return currentRound.totalVoted;\\n        } else {\\n            return currentRound.counts[winningChoice];\\n        }\\n    }\\n\\n    /// @dev Returns true if all of the jurors have cast their commits for the last round.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @return Whether all of the jurors have cast their commits for the last round.\\n    function areCommitsAllCast(uint256 _coreDisputeID) external view override returns (bool) {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n        return round.totalCommitted == round.votes.length;\\n    }\\n\\n    /// @dev Returns true if all of the jurors have cast their votes for the last round.\\n    /// Note that this function is to be called directly by the core contract and is not for off-chain usage.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @return Whether all of the jurors have cast their votes for the last round.\\n    function areVotesAllCast(uint256 _coreDisputeID) external view override returns (bool) {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Round storage round = dispute.rounds[dispute.rounds.length - 1];\\n\\n        (uint96 courtID, , , , ) = core.disputes(_coreDisputeID);\\n        (, bool hiddenVotes, , , , , ) = core.courts(courtID);\\n        uint256 expectedTotalVoted = hiddenVotes ? round.totalCommitted : round.votes.length;\\n\\n        return round.totalVoted == expectedTotalVoted;\\n    }\\n\\n    /// @dev Returns true if the appeal funding is finished prematurely (e.g. when losing side didn't fund).\\n    /// Note that this function is to be called directly by the core contract and is not for off-chain usage.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @return Whether the appeal funding is finished.\\n    function isAppealFunded(uint256 _coreDisputeID) external view override returns (bool) {\\n        (uint256 appealPeriodStart, uint256 appealPeriodEnd) = core.appealPeriod(_coreDisputeID);\\n\\n        uint256[] memory fundedChoices = getFundedChoices(_coreDisputeID);\\n        // Uses block.timestamp from the current tx when called by the core contract.\\n        return (fundedChoices.length == 0 &&\\n            block.timestamp - appealPeriodStart >=\\n            ((appealPeriodEnd - appealPeriodStart) * LOSER_APPEAL_PERIOD_MULTIPLIER) / ONE_BASIS_POINT);\\n    }\\n\\n    /// @dev Returns true if the specified voter was active in this round.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @param _coreRoundID The ID of the round in Kleros Core, not in the Dispute Kit.\\n    /// @param _voteID The ID of the voter.\\n    /// @return Whether the voter was active or not.\\n    function isVoteActive(\\n        uint256 _coreDisputeID,\\n        uint256 _coreRoundID,\\n        uint256 _voteID\\n    ) external view override returns (bool) {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Vote storage vote = dispute.rounds[dispute.coreRoundIDToLocal[_coreRoundID]].votes[_voteID];\\n        return vote.voted;\\n    }\\n\\n    function getRoundInfo(\\n        uint256 _coreDisputeID,\\n        uint256 _coreRoundID,\\n        uint256 _choice\\n    )\\n        external\\n        view\\n        override\\n        returns (\\n            uint256 winningChoice,\\n            bool tied,\\n            uint256 totalVoted,\\n            uint256 totalCommited,\\n            uint256 nbVoters,\\n            uint256 choiceCount\\n        )\\n    {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Round storage round = dispute.rounds[dispute.coreRoundIDToLocal[_coreRoundID]];\\n        return (\\n            round.winningChoice,\\n            round.tied,\\n            round.totalVoted,\\n            round.totalCommitted,\\n            round.votes.length,\\n            round.counts[_choice]\\n        );\\n    }\\n\\n    /// @dev Returns the number of rounds in a dispute.\\n    /// @param _localDisputeID The ID of the dispute in the Dispute Kit.\\n    /// @return The number of rounds in the dispute.\\n    function getNumberOfRounds(uint256 _localDisputeID) external view returns (uint256) {\\n        return disputes[_localDisputeID].rounds.length;\\n    }\\n\\n    /// @dev Returns the local dispute ID and round ID for a given core dispute ID and core round ID.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @param _coreRoundID The ID of the round in Kleros Core.\\n    /// @return localDisputeID The ID of the dispute in the Dispute Kit.\\n    /// @return localRoundID The ID of the round in the Dispute Kit.\\n    function getLocalDisputeRoundID(\\n        uint256 _coreDisputeID,\\n        uint256 _coreRoundID\\n    ) external view returns (uint256 localDisputeID, uint256 localRoundID) {\\n        localDisputeID = coreDisputeIDToLocal[_coreDisputeID];\\n        localRoundID = disputes[localDisputeID].coreRoundIDToLocal[_coreRoundID];\\n    }\\n\\n    /// @dev Returns the vote information for a given vote ID.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @param _coreRoundID The ID of the round in Kleros Core.\\n    /// @param _voteID The ID of the vote.\\n    /// @return account The address of the juror who cast the vote.\\n    /// @return commit The commit of the vote.\\n    function getVoteInfo(\\n        uint256 _coreDisputeID,\\n        uint256 _coreRoundID,\\n        uint256 _voteID\\n    ) external view override returns (address account, bytes32 commit, uint256 choice, bool voted) {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        Vote storage vote = dispute.rounds[dispute.coreRoundIDToLocal[_coreRoundID]].votes[_voteID];\\n        return (vote.account, vote.commit, vote.choice, vote.voted);\\n    }\\n\\n    // ************************************* //\\n    // *            Internal               * //\\n    // ************************************* //\\n\\n    /// @dev Checks that the chosen address satisfies certain conditions for being drawn.\\n    /// Note that we don't check the minStake requirement here because of the implicit staking in parent courts.\\n    /// minStake is checked directly during staking process however it's possible for the juror to get drawn\\n    /// while having < minStake if it is later increased by governance.\\n    /// This issue is expected and harmless.\\n    /// @param _round The round in which the juror is being drawn.\\n    /// @param _coreDisputeID ID of the dispute in the core contract.\\n    /// @param _juror Chosen address.\\n    /// @return result Whether the address passes the check or not.\\n    function _postDrawCheck(\\n        Round storage _round,\\n        uint256 _coreDisputeID,\\n        address _juror\\n    ) internal view virtual returns (bool result) {\\n        if (singleDrawPerJuror) {\\n            uint256 localDisputeID = coreDisputeIDToLocal[_coreDisputeID];\\n            Dispute storage dispute = disputes[localDisputeID];\\n            uint256 localRoundID = dispute.rounds.length - 1;\\n            result = !alreadyDrawn[localDisputeID][localRoundID][_juror];\\n        } else {\\n            result = true;\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xc418b9a76802db5d16819836734ecff8b76d5f37101819aee6fd1844dfe21dd9\",\"license\":\"MIT\"},\"src/arbitration/dispute-kits/DisputeKitGatedShutter.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.24;\\n\\nimport {DisputeKitClassicBase, KlerosCore} from \\\"./DisputeKitClassicBase.sol\\\";\\n\\ninterface IBalanceHolder {\\n    /// @dev Returns the number of tokens in `owner` account.\\n    /// @dev Compatible with ERC-20 and ERC-721.\\n    /// @param owner The address of the owner.\\n    /// @return balance The number of tokens in `owner` account.\\n    function balanceOf(address owner) external view returns (uint256 balance);\\n}\\n\\ninterface IBalanceHolderERC1155 {\\n    /// @dev Returns the balance of an ERC-1155 token.\\n    /// @param account The address of the token holder\\n    /// @param id ID of the token\\n    /// @return The token balance\\n    function balanceOf(address account, uint256 id) external view returns (uint256);\\n}\\n\\n/// @title DisputeKitGatedShutter\\n/// Added functionality: shielded voting.\\n/// Dispute kit implementation adapted from DisputeKitClassic\\n/// - a drawing system: proportional to staked PNK with a non-zero balance of `tokenGate` where `tokenGate` is an ERC20, ERC721 or ERC1155\\n/// - a vote aggregation system: plurality,\\n/// - an incentive system: equal split between coherent votes,\\n/// - an appeal system: fund 2 choices only, vote on any choice.\\ncontract DisputeKitGatedShutter is DisputeKitClassicBase {\\n    string public constant override version = \\\"0.12.0\\\";\\n\\n    // ************************************* //\\n    // *              Events               * //\\n    // ************************************* //\\n\\n    /// @dev Emitted when a vote is cast.\\n    /// @param _coreDisputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _juror The address of the juror casting the vote commitment.\\n    /// @param _commit The commitment hash.\\n    /// @param _identity The Shutter identity used for encryption.\\n    /// @param _encryptedVote The Shutter encrypted vote.\\n    event CommitCastShutter(\\n        uint256 indexed _coreDisputeID,\\n        address indexed _juror,\\n        bytes32 indexed _commit,\\n        bytes32 _identity,\\n        bytes _encryptedVote\\n    );\\n\\n    // ************************************* //\\n    // *            Constructor            * //\\n    // ************************************* //\\n\\n    /// @custom:oz-upgrades-unsafe-allow constructor\\n    constructor() {\\n        _disableInitializers();\\n    }\\n\\n    /// @dev Initializer.\\n    /// @param _governor The governor's address.\\n    /// @param _core The KlerosCore arbitrator.\\n    /// @param _wNative The wrapped native token address, typically wETH.\\n    function initialize(address _governor, KlerosCore _core, address _wNative) external reinitializer(1) {\\n        __DisputeKitClassicBase_initialize(_governor, _core, _wNative);\\n    }\\n\\n    function reinitialize(address _wNative) external reinitializer(9) {\\n        wNative = _wNative;\\n    }\\n\\n    // ************************ //\\n    // *      Governance      * //\\n    // ************************ //\\n\\n    /// @dev Access Control to perform implementation upgrades (UUPS Proxiable)\\n    ///      Only the governor can perform upgrades (`onlyByGovernor`)\\n    function _authorizeUpgrade(address) internal view override onlyByGovernor {\\n        // NOP\\n    }\\n\\n    // ************************************* //\\n    // *         State Modifiers           * //\\n    // ************************************* //\\n\\n    /// @dev Sets the caller's commit for the specified votes. It can be called multiple times during the\\n    /// commit period, each call overrides the commits of the previous one.\\n    /// `O(n)` where\\n    /// `n` is the number of votes.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core.\\n    /// @param _voteIDs The IDs of the votes.\\n    /// @param _commit The commitment hash including the justification.\\n    /// @param _identity The Shutter identity used for encryption.\\n    /// @param _encryptedVote The Shutter encrypted vote.\\n    function castCommitShutter(\\n        uint256 _coreDisputeID,\\n        uint256[] calldata _voteIDs,\\n        bytes32 _commit,\\n        bytes32 _identity,\\n        bytes calldata _encryptedVote\\n    ) external notJumped(_coreDisputeID) {\\n        _castCommit(_coreDisputeID, _voteIDs, _commit);\\n        emit CommitCastShutter(_coreDisputeID, msg.sender, _commit, _identity, _encryptedVote);\\n    }\\n\\n    function castVoteShutter(\\n        uint256 _coreDisputeID,\\n        uint256[] calldata _voteIDs,\\n        uint256 _choice,\\n        uint256 _salt,\\n        string memory _justification\\n    ) external {\\n        Dispute storage dispute = disputes[coreDisputeIDToLocal[_coreDisputeID]];\\n        address juror = dispute.rounds[dispute.rounds.length - 1].votes[_voteIDs[0]].account;\\n\\n        // _castVote() ensures that all the _voteIDs do belong to `juror`\\n        _castVote(_coreDisputeID, _voteIDs, _choice, _salt, _justification, juror);\\n    }\\n\\n    // ************************************* //\\n    // *           Public Views            * //\\n    // ************************************* //\\n\\n    /**\\n     * @dev Computes the hash of a vote using ABI encoding\\n     * @param _choice The choice being voted for\\n     * @param _justification The justification for the vote\\n     * @param _salt A random salt for commitment\\n     * @return bytes32 The hash of the encoded vote parameters\\n     */\\n    function hashVote(\\n        uint256 _choice,\\n        uint256 _salt,\\n        string memory _justification\\n    ) public pure override returns (bytes32) {\\n        bytes32 justificationHash = keccak256(bytes(_justification));\\n        return keccak256(abi.encode(_choice, _salt, justificationHash));\\n    }\\n\\n    // ************************************* //\\n    // *            Internal               * //\\n    // ************************************* //\\n\\n    /// @dev Extracts token gating information from the extra data.\\n    /// @param _extraData The extra data bytes array with the following encoding:\\n    ///        - bytes 0-31: uint96 courtID, not used here\\n    ///        - bytes 32-63: uint256 minJurors, not used here\\n    ///        - bytes 64-95: uint256 disputeKitID, not used here\\n    ///        - bytes 96-127: uint256 packedTokenGateAndFlag (address tokenGate in bits 0-159, bool isERC1155 in bit 160)\\n    ///        - bytes 128-159: uint256 tokenId\\n    /// @return tokenGate The address of the token contract used for gating access.\\n    /// @return isERC1155 True if the token is an ERC-1155, false for ERC-20/ERC-721.\\n    /// @return tokenId The token ID for ERC-1155 tokens (ignored for ERC-20/ERC-721).\\n    function _extraDataToTokenInfo(\\n        bytes memory _extraData\\n    ) internal pure returns (address tokenGate, bool isERC1155, uint256 tokenId) {\\n        // Need at least 160 bytes to safely read the parameters\\n        if (_extraData.length < 160) return (address(0), false, 0);\\n\\n        assembly {\\n            // solium-disable-line security/no-inline-assembly\\n            let packedTokenGateIsERC1155 := mload(add(_extraData, 0x80)) // 4th parameter at offset 128\\n            tokenId := mload(add(_extraData, 0xA0)) // 5th parameter at offset 160 (moved up)\\n\\n            // Unpack address from lower 160 bits and bool from bit 160\\n            tokenGate := and(packedTokenGateIsERC1155, 0xffffffffffffffffffffffffffffffffffffffff)\\n            isERC1155 := and(shr(160, packedTokenGateIsERC1155), 1)\\n        }\\n    }\\n\\n    /// @inheritdoc DisputeKitClassicBase\\n    function _postDrawCheck(\\n        Round storage _round,\\n        uint256 _coreDisputeID,\\n        address _juror\\n    ) internal view override returns (bool) {\\n        if (!super._postDrawCheck(_round, _coreDisputeID, _juror)) return false;\\n\\n        // Get the local dispute and extract token info from extraData\\n        uint256 localDisputeID = coreDisputeIDToLocal[_coreDisputeID];\\n        Dispute storage dispute = disputes[localDisputeID];\\n        (address tokenGate, bool isERC1155, uint256 tokenId) = _extraDataToTokenInfo(dispute.extraData);\\n\\n        // If no token gate is specified, allow all jurors\\n        if (tokenGate == address(0)) return true;\\n\\n        // Check juror's token balance\\n        if (isERC1155) {\\n            return IBalanceHolderERC1155(tokenGate).balanceOf(_juror, tokenId) > 0;\\n        } else {\\n            return IBalanceHolder(tokenGate).balanceOf(_juror) > 0;\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xa2b7c8f0af04be5a41d5e0a3a97b359867f6e79eb98da2303d33317fe147faef\",\"license\":\"MIT\"},\"src/arbitration/interfaces/IArbitrableV2.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.24;\\n\\nimport \\\"./IArbitratorV2.sol\\\";\\n\\n/// @title IArbitrableV2\\n/// @notice Arbitrable interface.\\n/// @dev When developing arbitrable contracts, we need to:\\n/// - Define the action taken when a ruling is received by the contract.\\n/// - Allow dispute creation. For this a function must call arbitrator.createDispute{value: _fee}(_choices,_extraData);\\ninterface IArbitrableV2 {\\n    /// @dev To be emitted when a dispute is created to link the correct meta-evidence to the disputeID.\\n    /// @param _arbitrator The arbitrator of the contract.\\n    /// @param _arbitratorDisputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _externalDisputeID An identifier created outside Kleros by the protocol requesting arbitration.\\n    /// @param _templateId The identifier of the dispute template. Should not be used with _templateUri.\\n    /// @param _templateUri The URI to the dispute template. For example on IPFS: starting with '/ipfs/'. Should not be used with _templateId.\\n    event DisputeRequest(\\n        IArbitratorV2 indexed _arbitrator,\\n        uint256 indexed _arbitratorDisputeID,\\n        uint256 _externalDisputeID,\\n        uint256 _templateId,\\n        string _templateUri\\n    );\\n\\n    /// @dev To be raised when a ruling is given.\\n    /// @param _arbitrator The arbitrator giving the ruling.\\n    /// @param _disputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _ruling The ruling which was given.\\n    event Ruling(IArbitratorV2 indexed _arbitrator, uint256 indexed _disputeID, uint256 _ruling);\\n\\n    /// @dev Give a ruling for a dispute.\\n    ///      Must be called by the arbitrator.\\n    ///      The purpose of this function is to ensure that the address calling it has the right to rule on the contract.\\n    /// @param _disputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _ruling Ruling given by the arbitrator.\\n    /// Note that 0 is reserved for \\\"Not able/wanting to make a decision\\\".\\n    function rule(uint256 _disputeID, uint256 _ruling) external;\\n}\\n\",\"keccak256\":\"0x054fd09cc201ddca3d92a07169fb86b9db21a510a2a0f15ac4b6dffd900079fe\",\"license\":\"MIT\"},\"src/arbitration/interfaces/IArbitratorV2.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.24;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport \\\"./IArbitrableV2.sol\\\";\\n\\n/// @title Arbitrator\\n/// Arbitrator interface that implements the new arbitration standard.\\n/// Unlike the ERC-792 this standard is not concerned with appeals, so each arbitrator can implement an appeal system that suits it the most.\\n/// When developing arbitrator contracts we need to:\\n/// - Define the functions for dispute creation (createDispute). Don't forget to store the arbitrated contract and the disputeID (which should be unique, may nbDisputes).\\n/// - Define the functions for cost display (arbitrationCost).\\n/// - Allow giving rulings. For this a function must call arbitrable.rule(disputeID, ruling).\\ninterface IArbitratorV2 {\\n    /// @dev To be emitted when a dispute is created.\\n    /// @param _disputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _arbitrable The contract which created the dispute.\\n    event DisputeCreation(uint256 indexed _disputeID, IArbitrableV2 indexed _arbitrable);\\n\\n    /// @dev To be raised when a ruling is given.\\n    /// @param _arbitrable The arbitrable receiving the ruling.\\n    /// @param _disputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _ruling The ruling which was given.\\n    event Ruling(IArbitrableV2 indexed _arbitrable, uint256 indexed _disputeID, uint256 _ruling);\\n\\n    /// @dev To be emitted when an ERC20 token is added or removed as a method to pay fees.\\n    /// @param _token The ERC20 token.\\n    /// @param _accepted Whether the token is accepted or not.\\n    event AcceptedFeeToken(IERC20 indexed _token, bool indexed _accepted);\\n\\n    /// @dev To be emitted when the fee for a particular ERC20 token is updated.\\n    /// @param _feeToken The ERC20 token.\\n    /// @param _rateInEth The new rate of the fee token in ETH.\\n    /// @param _rateDecimals The new decimals of the fee token rate.\\n    event NewCurrencyRate(IERC20 indexed _feeToken, uint64 _rateInEth, uint8 _rateDecimals);\\n\\n    /// @dev Create a dispute and pay for the fees in the native currency, typically ETH.\\n    ///      Must be called by the arbitrable contract.\\n    ///      Must pay at least arbitrationCost(_extraData).\\n    /// @param _numberOfChoices The number of choices the arbitrator can choose from in this dispute.\\n    /// @param _extraData Additional info about the dispute. We use it to pass the ID of the dispute's court (first 32 bytes), the minimum number of jurors required (next 32 bytes) and the ID of the specific dispute kit (last 32 bytes).\\n    /// @return disputeID The identifier of the dispute created.\\n    function createDispute(\\n        uint256 _numberOfChoices,\\n        bytes calldata _extraData\\n    ) external payable returns (uint256 disputeID);\\n\\n    /// @dev Create a dispute and pay for the fees in a supported ERC20 token.\\n    ///      Must be called by the arbitrable contract.\\n    ///      Must pay at least arbitrationCost(_extraData).\\n    /// @param _numberOfChoices The number of choices the arbitrator can choose from in this dispute.\\n    /// @param _extraData Additional info about the dispute. We use it to pass the ID of the dispute's court (first 32 bytes), the minimum number of jurors required (next 32 bytes) and the ID of the specific dispute kit (last 32 bytes).\\n    /// @param _feeToken The ERC20 token used to pay fees.\\n    /// @param _feeAmount Amount of the ERC20 token used to pay fees.\\n    /// @return disputeID The identifier of the dispute created.\\n    function createDispute(\\n        uint256 _numberOfChoices,\\n        bytes calldata _extraData,\\n        IERC20 _feeToken,\\n        uint256 _feeAmount\\n    ) external returns (uint256 disputeID);\\n\\n    /// @dev Compute the cost of arbitration denominated in the native currency, typically ETH.\\n    ///      It is recommended not to increase it often, as it can be highly time and gas consuming for the arbitrated contracts to cope with fee augmentation.\\n    /// @param _extraData Additional info about the dispute. We use it to pass the ID of the dispute's court (first 32 bytes), the minimum number of jurors required (next 32 bytes) and the ID of the specific dispute kit (last 32 bytes).\\n    /// @return cost The arbitration cost in ETH.\\n    function arbitrationCost(bytes calldata _extraData) external view returns (uint256 cost);\\n\\n    /// @dev Compute the cost of arbitration denominated in `_feeToken`.\\n    ///      It is recommended not to increase it often, as it can be highly time and gas consuming for the arbitrated contracts to cope with fee augmentation.\\n    /// @param _extraData Additional info about the dispute. We use it to pass the ID of the dispute's court (first 32 bytes), the minimum number of jurors required (next 32 bytes) and the ID of the specific dispute kit (last 32 bytes).\\n    /// @param _feeToken The ERC20 token used to pay fees.\\n    /// @return cost The arbitration cost in `_feeToken`.\\n    function arbitrationCost(bytes calldata _extraData, IERC20 _feeToken) external view returns (uint256 cost);\\n\\n    /// @dev Gets the current ruling of a specified dispute.\\n    /// @param _disputeID The ID of the dispute.\\n    /// @return ruling The current ruling.\\n    /// @return tied Whether it's a tie or not.\\n    /// @return overridden Whether the ruling was overridden by appeal funding or not.\\n    function currentRuling(uint256 _disputeID) external view returns (uint256 ruling, bool tied, bool overridden);\\n}\\n\",\"keccak256\":\"0xfc7cc82c1431720da41aeb1a181171f10466b5d0d280db7aa37c451681185493\",\"license\":\"MIT\"},\"src/arbitration/interfaces/IDisputeKit.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.24;\\n\\nimport \\\"./IArbitratorV2.sol\\\";\\n\\n/// @title IDisputeKit\\n/// An abstraction of the Dispute Kits intended for interfacing with KlerosCore.\\n/// It does not intend to abstract the interactions with the user (such as voting or appeal funding) to allow for implementation-specific parameters.\\ninterface IDisputeKit {\\n    // ************************************ //\\n    // *             Events               * //\\n    // ************************************ //\\n\\n    /// @dev Emitted when casting a vote to provide the justification of juror's choice.\\n    /// @param _coreDisputeID The identifier of the dispute in the Arbitrator contract.\\n    /// @param _juror Address of the juror.\\n    /// @param _voteIDs The identifiers of the votes in the dispute.\\n    /// @param _choice The choice juror voted for.\\n    /// @param _justification Justification of the choice.\\n    event VoteCast(\\n        uint256 indexed _coreDisputeID,\\n        address indexed _juror,\\n        uint256[] _voteIDs,\\n        uint256 indexed _choice,\\n        string _justification\\n    );\\n\\n    // ************************************* //\\n    // *         State Modifiers           * //\\n    // ************************************* //\\n\\n    /// @dev Creates a local dispute and maps it to the dispute ID in the Core contract.\\n    /// Note: Access restricted to Kleros Core only.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @param _numberOfChoices Number of choices of the dispute\\n    /// @param _extraData Additional info about the dispute, for possible use in future dispute kits.\\n    /// @param _nbVotes Maximal number of votes this dispute can get. DEPRECATED as we don't need to pass it now. KC handles the count.\\n    function createDispute(\\n        uint256 _coreDisputeID,\\n        uint256 _numberOfChoices,\\n        bytes calldata _extraData,\\n        uint256 _nbVotes\\n    ) external;\\n\\n    /// @dev Draws the juror from the sortition tree. The drawn address is picked up by Kleros Core.\\n    /// Note: Access restricted to Kleros Core only.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @param _nonce Nonce.\\n    /// @return drawnAddress The drawn address.\\n    function draw(uint256 _coreDisputeID, uint256 _nonce) external returns (address drawnAddress);\\n\\n    // ************************************* //\\n    // *           Public Views            * //\\n    // ************************************* //\\n\\n    /// @dev Gets the current ruling of a specified dispute.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @return ruling The current ruling.\\n    /// @return tied Whether it's a tie or not.\\n    /// @return overridden Whether the ruling was overridden by appeal funding or not.\\n    function currentRuling(uint256 _coreDisputeID) external view returns (uint256 ruling, bool tied, bool overridden);\\n\\n    /// @dev Gets the degree of coherence of a particular voter. This function is called by Kleros Core in order to determine the amount of the reward.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @param _coreRoundID The ID of the round in Kleros Core, not in the Dispute Kit.\\n    /// @param _voteID The ID of the vote.\\n    /// @param _feePerJuror The fee per juror.\\n    /// @param _pnkAtStakePerJuror The PNK at stake per juror.\\n    /// @return The degree of coherence in basis points.\\n    function getDegreeOfCoherence(\\n        uint256 _coreDisputeID,\\n        uint256 _coreRoundID,\\n        uint256 _voteID,\\n        uint256 _feePerJuror,\\n        uint256 _pnkAtStakePerJuror\\n    ) external view returns (uint256);\\n\\n    /// @dev Gets the number of jurors who are eligible to a reward in this round.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @param _coreRoundID The ID of the round in Kleros Core, not in the Dispute Kit.\\n    /// @return The number of coherent jurors.\\n    function getCoherentCount(uint256 _coreDisputeID, uint256 _coreRoundID) external view returns (uint256);\\n\\n    /// @dev Returns true if all of the jurors have cast their commits for the last round.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @return Whether all of the jurors have cast their commits for the last round.\\n    function areCommitsAllCast(uint256 _coreDisputeID) external view returns (bool);\\n\\n    /// @dev Returns true if all of the jurors have cast their votes for the last round.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @return Whether all of the jurors have cast their votes for the last round.\\n    function areVotesAllCast(uint256 _coreDisputeID) external view returns (bool);\\n\\n    /// @dev Returns true if the appeal funding is finished prematurely (e.g. when losing side didn't fund).\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @return Whether the appeal funding is finished.\\n    function isAppealFunded(uint256 _coreDisputeID) external view returns (bool);\\n\\n    /// @dev Returns true if the specified voter was active in this round.\\n    /// @param _coreDisputeID The ID of the dispute in Kleros Core, not in the Dispute Kit.\\n    /// @param _coreRoundID The ID of the round in Kleros Core, not in the Dispute Kit.\\n    /// @param _voteID The ID of the voter.\\n    /// @return Whether the voter was active or not.\\n    function isVoteActive(uint256 _coreDisputeID, uint256 _coreRoundID, uint256 _voteID) external view returns (bool);\\n\\n    function getRoundInfo(\\n        uint256 _coreDisputeID,\\n        uint256 _coreRoundID,\\n        uint256 _choice\\n    )\\n        external\\n        view\\n        returns (\\n            uint256 winningChoice,\\n            bool tied,\\n            uint256 totalVoted,\\n            uint256 totalCommited,\\n            uint256 nbVoters,\\n            uint256 choiceCount\\n        );\\n\\n    function getVoteInfo(\\n        uint256 _coreDisputeID,\\n        uint256 _coreRoundID,\\n        uint256 _voteID\\n    ) external view returns (address account, bytes32 commit, uint256 choice, bool voted);\\n}\\n\",\"keccak256\":\"0xad1cdad6c218690affcadc268f984985b20e5fe0af3242a14867879b8cf86cf9\",\"license\":\"MIT\"},\"src/arbitration/interfaces/ISortitionModule.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.24;\\n\\nimport \\\"../../libraries/Constants.sol\\\";\\n\\ninterface ISortitionModule {\\n    enum Phase {\\n        staking, // Stake sum trees can be updated. Pass after `minStakingTime` passes and there is at least one dispute without jurors.\\n        generating, // Waiting for a random number. Pass as soon as it is ready.\\n        drawing // Jurors can be drawn. Pass after all disputes have jurors or `maxDrawingTime` passes.\\n    }\\n\\n    event NewPhase(Phase _phase);\\n\\n    function createTree(bytes32 _key, bytes memory _extraData) external;\\n\\n    function validateStake(\\n        address _account,\\n        uint96 _courtID,\\n        uint256 _newStake\\n    ) external returns (uint256 pnkDeposit, uint256 pnkWithdrawal, StakingResult stakingResult);\\n\\n    function setStake(\\n        address _account,\\n        uint96 _courtID,\\n        uint256 _pnkDeposit,\\n        uint256 _pnkWithdrawal,\\n        uint256 _newStake\\n    ) external;\\n\\n    function setJurorInactive(address _account) external;\\n\\n    function lockStake(address _account, uint256 _relativeAmount) external;\\n\\n    function unlockStake(address _account, uint256 _relativeAmount) external;\\n\\n    function penalizeStake(\\n        address _account,\\n        uint256 _relativeAmount\\n    ) external returns (uint256 pnkBalance, uint256 availablePenalty);\\n\\n    function notifyRandomNumber(uint256 _drawnNumber) external;\\n\\n    function draw(bytes32 _court, uint256 _coreDisputeID, uint256 _nonce) external view returns (address);\\n\\n    function getJurorBalance(\\n        address _juror,\\n        uint96 _courtID\\n    ) external view returns (uint256 totalStaked, uint256 totalLocked, uint256 stakedInCourt, uint256 nbCourts);\\n\\n    function getJurorCourtIDs(address _juror) external view returns (uint96[] memory);\\n\\n    function isJurorStaked(address _juror) external view returns (bool);\\n\\n    function getJurorLeftoverPNK(address _juror) external view returns (uint256);\\n\\n    function createDisputeHook(uint256 _disputeID, uint256 _roundID) external;\\n\\n    function postDrawHook(uint256 _disputeID, uint256 _roundID) external;\\n\\n    function withdrawLeftoverPNK(address _account) external;\\n}\\n\",\"keccak256\":\"0xc4325f9ffdfa815b2683f897b93944d473b736f02810fb7551afea70753129bc\",\"license\":\"MIT\"},\"src/libraries/Constants.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.24;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\n\\n// Courts\\nuint96 constant FORKING_COURT = 0; // Index of the forking court.\\nuint96 constant GENERAL_COURT = 1; // Index of the default (general) court.\\n\\n// Dispute Kits\\nuint256 constant NULL_DISPUTE_KIT = 0; // Null pattern to indicate a top-level DK which has no parent. DEPRECATED, as its main purpose was to accommodate forest structure which is not used now.\\nuint256 constant DISPUTE_KIT_CLASSIC = 1; // Index of the default DK. 0 index is skipped.\\n\\n// Sortition Module\\nuint256 constant MAX_STAKE_PATHS = 4; // The maximum number of stake paths a juror can have.\\nuint256 constant DEFAULT_K = 6; // Default number of children per node.\\n\\n// Defaults\\nuint256 constant DEFAULT_NB_OF_JURORS = 3; // The default number of jurors in a dispute.\\nIERC20 constant NATIVE_CURRENCY = IERC20(address(0)); // The native currency, such as ETH on Arbitrum, Optimism and Ethereum L1.\\n\\nenum OnError {\\n    Revert,\\n    Return\\n}\\n\\nenum StakingResult {\\n    Successful,\\n    Delayed,\\n    StakingTransferFailed,\\n    UnstakingTransferFailed,\\n    CannotStakeInMoreCourts,\\n    CannotStakeInThisCourt,\\n    CannotStakeLessThanMinStake,\\n    CannotStakeMoreThanMaxStakePerJuror,\\n    CannotStakeMoreThanMaxTotalStaked,\\n    CannotStakeZeroWhenNoStake\\n}\\n\",\"keccak256\":\"0x695244532a711d08d522f9db0e86f7824bcdacf20027beab277b330076b1cf09\",\"license\":\"MIT\"},\"src/libraries/SafeERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// Adapted from https://github.com/OpenZeppelin/openzeppelin-contracts/blob/a7a94c77463acea95d979aae1580fb0ddc3b6a1e/contracts/token/ERC20/utils/SafeERC20.sol\\n\\npragma solidity ^0.8.24;\\n\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\n\\n/// @title SafeERC20\\n/// @dev Wrappers around ERC20 operations that throw on failure (when the token\\n/// contract returns false). Tokens that return no value (and instead revert or\\n/// throw on failure) are also supported, non-reverting calls are assumed to be\\n/// successful.\\n/// To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract,\\n/// which allows you to call the safe operations as `token.safeTransfer(...)`, etc.\\nlibrary SafeERC20 {\\n    /// @dev Increases the allowance granted to `spender` by the caller.\\n    /// @param _token Token to transfer.\\n    /// @param _spender The address which will spend the funds.\\n    /// @param _addedValue The amount of tokens to increase the allowance by.\\n    function increaseAllowance(IERC20 _token, address _spender, uint256 _addedValue) internal returns (bool) {\\n        _token.approve(_spender, _token.allowance(address(this), _spender) + _addedValue);\\n        return true;\\n    }\\n\\n    /// @dev Calls transfer() without reverting.\\n    /// @param _token Token to transfer.\\n    /// @param _to Recipient address.\\n    /// @param _value Amount transferred.\\n    /// @return Whether transfer succeeded or not.\\n    function safeTransfer(IERC20 _token, address _to, uint256 _value) internal returns (bool) {\\n        (bool success, bytes memory data) = address(_token).call(abi.encodeCall(IERC20.transfer, (_to, _value)));\\n        return (success && (data.length == 0 || abi.decode(data, (bool))));\\n    }\\n\\n    /// @dev Calls transferFrom() without reverting.\\n    /// @param _token Token to transfer.\\n    /// @param _from Sender address.\\n    /// @param _to Recipient address.\\n    /// @param _value Amount transferred.\\n    /// @return Whether transfer succeeded or not.\\n    function safeTransferFrom(IERC20 _token, address _from, address _to, uint256 _value) internal returns (bool) {\\n        (bool success, bytes memory data) = address(_token).call(\\n            abi.encodeCall(IERC20.transferFrom, (_from, _to, _value))\\n        );\\n        return (success && (data.length == 0 || abi.decode(data, (bool))));\\n    }\\n}\\n\",\"keccak256\":\"0x285ebcc4de7d7266ebfa1357f579e4df064801e040efc79dcf12b0555d16c652\",\"license\":\"MIT\"},\"src/libraries/SafeSend.sol\":{\"content\":\"/**\\n * @authors: [@andreimvp]\\n * @reviewers: [@divyangchauhan, @wadader, @fcanela, @unknownunknown1]\\n * @auditors: []\\n * @bounties: []\\n * SPDX-License-Identifier: MIT\\n */\\n\\npragma solidity ^0.8.24;\\n\\ninterface WethLike {\\n    function deposit() external payable;\\n\\n    function transfer(address dst, uint256 wad) external;\\n}\\n\\nlibrary SafeSend {\\n    function safeSend(address payable _to, uint256 _value, address _wethLike) internal {\\n        if (_to.send(_value)) return;\\n\\n        WethLike(_wethLike).deposit{value: _value}();\\n        WethLike(_wethLike).transfer(_to, _value);\\n    }\\n}\\n\",\"keccak256\":\"0x5fdcdc2ccdeaabcfb80dcb3c2fe1cc749ff76a1e396d6aba6e77ec30a7c2f7f9\",\"license\":\"MIT\"},\"src/proxy/Initializable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (proxy/utils/Initializable.sol) <https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.0/contracts/proxy/utils/Initializable.sol>\\n\\npragma solidity ^0.8.24;\\n\\n/**\\n * @dev This is a base contract to aid in writing upgradeable contracts, or any kind of contract that will be deployed\\n * behind a proxy. Since proxied contracts do not make use of a constructor, it's common to move constructor logic to an\\n * external initializer function, usually called `initialize`. It then becomes necessary to protect this initializer\\n * function so it can only be called once. The {initializer} modifier provided by this contract will have this effect.\\n *\\n * The initialization functions use a version number. Once a version number is used, it is consumed and cannot be\\n * reused. This mechanism prevents re-execution of each \\\"step\\\" but allows the creation of new initialization steps in\\n * case an upgrade adds a module that needs to be initialized.\\n *\\n * For example:\\n *\\n * ```solidity\\n * contract MyToken is ERC20Upgradeable {\\n *     function initialize() initializer public {\\n *         __ERC20_init(\\\"MyToken\\\", \\\"MTK\\\");\\n *     }\\n * }\\n *\\n * contract MyTokenV2 is MyToken, ERC20PermitUpgradeable {\\n *     function initializeV2() reinitializer(2) public {\\n *         __ERC20Permit_init(\\\"MyToken\\\");\\n *     }\\n * }\\n * ```\\n *\\n * TIP: To avoid leaving the proxy in an uninitialized state, the initializer function should be called as early as\\n * possible by providing the encoded function call as the `_data` argument to the proxy constructor\\n *\\n * CAUTION: When used with inheritance, manual care must be taken to not invoke a parent initializer twice, or to ensure\\n * that all initializers are idempotent. This is not verified automatically as constructors are by Solidity.\\n *\\n * [CAUTION]\\n * ====\\n * Avoid leaving a contract uninitialized.\\n *\\n * An uninitialized contract can be taken over by an attacker. This applies to both a proxy and its implementation\\n * contract, which may impact the proxy. To prevent the implementation contract from being used, you should invoke\\n * the {_disableInitializers} function in the constructor to automatically lock it when it is deployed:\\n *\\n * ```\\n * /// @custom:oz-upgrades-unsafe-allow constructor\\n * constructor() {\\n *     _disableInitializers();\\n * }\\n * ```\\n */\\nabstract contract Initializable {\\n    /**\\n     * @dev Storage of the initializable contract.\\n     *\\n     * It's implemented on a custom ERC-7201 namespace to reduce the risk of storage collisions\\n     * when using with upgradeable contracts.\\n     *\\n     * @custom:storage-location erc7201:openzeppelin.storage.Initializable\\n     */\\n    struct InitializableStorage {\\n        /**\\n         * @dev Indicates that the contract has been initialized.\\n         */\\n        uint64 _initialized;\\n        /**\\n         * @dev Indicates that the contract is in the process of being initialized.\\n         */\\n        bool _initializing;\\n    }\\n\\n    // keccak256(abi.encode(uint256(keccak256(\\\"openzeppelin.storage.Initializable\\\")) - 1))\\n    bytes32 private constant _INITIALIZABLE_STORAGE =\\n        0xf0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0e;\\n\\n    /**\\n     * @dev The contract is already initialized.\\n     */\\n    error AlreadyInitialized();\\n\\n    /**\\n     * @dev The contract is not initializing.\\n     */\\n    error NotInitializing();\\n\\n    /**\\n     * @dev Triggered when the contract has been initialized or reinitialized.\\n     */\\n    event Initialized(uint64 version);\\n\\n    /**\\n     * @dev A modifier that defines a protected initializer function that can be invoked at most once. In its scope,\\n     * `onlyInitializing` functions can be used to initialize parent contracts.\\n     *\\n     * Similar to `reinitializer(1)`, except that functions marked with `initializer` can be nested in the context of a\\n     * constructor.\\n     *\\n     * Emits an {Initialized} event.\\n     */\\n    modifier initializer() {\\n        // solhint-disable-next-line var-name-mixedcase\\n        InitializableStorage storage $ = _getInitializableStorage();\\n\\n        bool isTopLevelCall = !$._initializing;\\n        uint64 initialized = $._initialized;\\n        if (!(isTopLevelCall && initialized < 1) && !(address(this).code.length == 0 && initialized == 1)) {\\n            revert AlreadyInitialized();\\n        }\\n        $._initialized = 1;\\n        if (isTopLevelCall) {\\n            $._initializing = true;\\n        }\\n        _;\\n        if (isTopLevelCall) {\\n            $._initializing = false;\\n            emit Initialized(1);\\n        }\\n    }\\n\\n    /**\\n     * @dev A modifier that defines a protected reinitializer function that can be invoked at most once, and only if the\\n     * contract hasn't been initialized to a greater version before. In its scope, `onlyInitializing` functions can be\\n     * used to initialize parent contracts.\\n     *\\n     * A reinitializer may be used after the original initialization step. This is essential to configure modules that\\n     * are added through upgrades and that require initialization.\\n     *\\n     * When `version` is 1, this modifier is similar to `initializer`, except that functions marked with `reinitializer`\\n     * cannot be nested. If one is invoked in the context of another, execution will revert.\\n     *\\n     * Note that versions can jump in increments greater than 1; this implies that if multiple reinitializers coexist in\\n     * a contract, executing them in the right order is up to the developer or operator.\\n     *\\n     * WARNING: setting the version to 255 will prevent any future reinitialization.\\n     *\\n     * Emits an {Initialized} event.\\n     */\\n    modifier reinitializer(uint64 version) {\\n        // solhint-disable-next-line var-name-mixedcase\\n        InitializableStorage storage $ = _getInitializableStorage();\\n\\n        if ($._initializing || $._initialized >= version) {\\n            revert AlreadyInitialized();\\n        }\\n        $._initialized = version;\\n        $._initializing = true;\\n        _;\\n        $._initializing = false;\\n        emit Initialized(version);\\n    }\\n\\n    /**\\n     * @dev Modifier to protect an initialization function so that it can only be invoked by functions with the\\n     * {initializer} and {reinitializer} modifiers, directly or indirectly.\\n     */\\n    modifier onlyInitializing() {\\n        _checkInitializing();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Reverts if the contract is not in an initializing state. See {onlyInitializing}.\\n     */\\n    function _checkInitializing() internal view virtual {\\n        if (!_isInitializing()) {\\n            revert NotInitializing();\\n        }\\n    }\\n\\n    /**\\n     * @dev Locks the contract, preventing any future reinitialization. This cannot be part of an initializer call.\\n     * Calling this in the constructor of a contract will prevent that contract from being initialized or reinitialized\\n     * to any version. It is recommended to use this to lock implementation contracts that are designed to be called\\n     * through proxies.\\n     *\\n     * Emits an {Initialized} event the first time it is successfully executed.\\n     */\\n    function _disableInitializers() internal virtual {\\n        // solhint-disable-next-line var-name-mixedcase\\n        InitializableStorage storage $ = _getInitializableStorage();\\n\\n        if ($._initializing) {\\n            revert AlreadyInitialized();\\n        }\\n        if ($._initialized != type(uint64).max) {\\n            $._initialized = type(uint64).max;\\n            emit Initialized(type(uint64).max);\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns the highest version that has been initialized. See {reinitializer}.\\n     */\\n    function _getInitializedVersion() internal view returns (uint64) {\\n        return _getInitializableStorage()._initialized;\\n    }\\n\\n    /**\\n     * @dev Returns `true` if the contract is currently initializing. See {onlyInitializing}.\\n     */\\n    function _isInitializing() internal view returns (bool) {\\n        return _getInitializableStorage()._initializing;\\n    }\\n\\n    /**\\n     * @dev Returns a pointer to the storage namespace.\\n     */\\n    // solhint-disable-next-line var-name-mixedcase\\n    function _getInitializableStorage() private pure returns (InitializableStorage storage $) {\\n        assembly {\\n            $.slot := _INITIALIZABLE_STORAGE\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x252f8c2ff9755c7b0b8db037a1c175311569f337640cac1201834b22b2c6b431\",\"license\":\"MIT\"},\"src/proxy/UUPSProxiable.sol\":{\"content\":\"//SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.24;\\n\\n/// @title UUPS Proxiable\\n/// @author Simon Malatrait <simon.malatrait@grenoble-inp.org>\\n/// @dev This contract implements an upgradeability mechanism designed for UUPS proxies.\\n/// @dev Adapted from <https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.0/contracts/proxy/utils/UUPSUpgradeable.sol>\\n/// The functions included here can perform an upgrade of an UUPS Proxy, when this contract is set as the implementation behind such a proxy.\\n///\\n/// IMPORTANT: A UUPS proxy requires its upgradeability functions to be in the implementation as opposed to the transparent proxy.\\n/// This means that if the proxy is upgraded to an implementation that does not support this interface, it will no longer be upgradeable.\\n///\\n/// A security mechanism ensures that an upgrade does not turn off upgradeability accidentally, although this risk is\\n/// reinstated if the upgrade retains upgradeability but removes the security mechanism, e.g. by replacing\\n/// `UUPSProxiable` with a custom implementation of upgrades.\\n///\\n/// The `_authorizeUpgrade` function must be overridden to include access restriction to the upgrade mechanism.\\nabstract contract UUPSProxiable {\\n    // ************************************* //\\n    // *             Event                 * //\\n    // ************************************* //\\n\\n    /// @dev Emitted when the `implementation` has been successfully upgraded.\\n    /// @param newImplementation Address of the new implementation the proxy is now forwarding calls to.\\n    event Upgraded(address indexed newImplementation);\\n\\n    // ************************************* //\\n    // *             Error                 * //\\n    // ************************************* //\\n\\n    /// @dev The call is from an unauthorized context.\\n    error UUPSUnauthorizedCallContext();\\n\\n    /// @dev The storage `slot` is unsupported as a UUID.\\n    error UUPSUnsupportedProxiableUUID(bytes32 slot);\\n\\n    /// @dev The `implementation` is not UUPS-compliant\\n    error InvalidImplementation(address implementation);\\n\\n    /// Failed Delegated call\\n    error FailedDelegateCall();\\n\\n    // ************************************* //\\n    // *             Storage               * //\\n    // ************************************* //\\n\\n    /// @dev Storage slot with the address of the current implementation.\\n    /// @dev This is the keccak-256 hash of \\\"eip1967.proxy.implementation\\\" subtracted by 1, and is\\n    /// @dev validated in the constructor.\\n    /// @dev NOTE: bytes32(uint256(keccak256('eip1967.proxy.implementation')) - 1)\\n    bytes32 private constant IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;\\n\\n    /// @dev Storage variable of the proxiable contract address.\\n    /// @dev It is used to check whether or not the current call is from the proxy.\\n    /// @custom:oz-upgrades-unsafe-allow state-variable-immutable\\n    address private immutable __self = address(this);\\n\\n    // ************************************* //\\n    // *             Governance            * //\\n    // ************************************* //\\n\\n    /// @dev Function that should revert when `msg.sender` is not authorized to upgrade the contract.\\n    /// @dev Called by {upgradeToAndCall}.\\n    function _authorizeUpgrade(address newImplementation) internal virtual;\\n\\n    // ************************************* //\\n    // *         State Modifiers           * //\\n    // ************************************* //\\n\\n    /// @dev Upgrade mechanism including access control and UUPS-compliance.\\n    /// @param newImplementation Address of the new implementation contract.\\n    /// @param data Data used in a delegate call to `newImplementation` if non-empty. This will typically be an encoded\\n    /// function call, and allows initializing the storage of the proxy like a Solidity constructor.\\n    /// @dev Reverts if the execution is not performed via delegatecall or the execution\\n    /// context is not of a proxy with an ERC1967-compliant implementation pointing to self.\\n    function upgradeToAndCall(address newImplementation, bytes memory data) public payable virtual {\\n        _authorizeUpgrade(newImplementation);\\n\\n        // Check that the execution is being performed through a delegatecall call and that the execution context is\\n        // a proxy contract with an implementation (as defined in ERC1967) pointing to self.\\n        if (address(this) == __self || _getImplementation() != __self) {\\n            revert UUPSUnauthorizedCallContext();\\n        }\\n\\n        try UUPSProxiable(newImplementation).proxiableUUID() returns (bytes32 slot) {\\n            if (slot != IMPLEMENTATION_SLOT) {\\n                revert UUPSUnsupportedProxiableUUID(slot);\\n            }\\n            // Store the new implementation address to the implementation storage slot.\\n            assembly {\\n                sstore(IMPLEMENTATION_SLOT, newImplementation)\\n            }\\n            emit Upgraded(newImplementation);\\n\\n            if (data.length != 0) {\\n                // The return data is not checked (checking, in case of success, that the newImplementation code is non-empty if the return data is empty) because the authorized callee is trusted.\\n                /// @custom:oz-upgrades-unsafe-allow delegatecall\\n                (bool success, ) = newImplementation.delegatecall(data);\\n                if (!success) {\\n                    revert FailedDelegateCall();\\n                }\\n            }\\n        } catch {\\n            revert InvalidImplementation(newImplementation);\\n        }\\n    }\\n\\n    // ************************************* //\\n    // *           Public Views            * //\\n    // ************************************* //\\n\\n    /// @dev Implementation of the ERC1822 `proxiableUUID` function. This returns the storage slot used by the\\n    /// implementation. It is used to validate the implementation's compatibility when performing an upgrade.\\n    ///\\n    /// IMPORTANT: A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks\\n    /// bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this\\n    /// function revert if invoked through a proxy. This is guaranteed by the if statement.\\n    function proxiableUUID() external view virtual returns (bytes32) {\\n        if (address(this) != __self) {\\n            // Must not be called through delegatecall\\n            revert UUPSUnauthorizedCallContext();\\n        }\\n        return IMPLEMENTATION_SLOT;\\n    }\\n\\n    /// @dev Returns the version of the implementation.\\n    /// @return Version string.\\n    function version() external view virtual returns (string memory);\\n\\n    // ************************************* //\\n    // *           Internal Views          * //\\n    // ************************************* //\\n\\n    function _getImplementation() internal view returns (address implementation) {\\n        assembly {\\n            implementation := sload(IMPLEMENTATION_SLOT)\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xa99860dabe44d80278736924130f6e1208656e29b01eeffbc1e52ac81c26b6b3\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60a06040523060805234801561001457600080fd5b5061001d610022565b6100d3565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0e805468010000000000000000900460ff16156100715760405162dc149f60e41b815260040160405180910390fd5b80546001600160401b03908116146100d05780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b60805161489e6100fc60003960008181611937015281816119600152611b4f015261489e6000f3fe6080604052600436106102465760003560e01c80636d4cd8ea11610139578063be467604116100b6578063e4c0aaf41161007a578063e4c0aaf414610753578063f2f4eb2614610773578063f32ab92714610793578063f7e7d1fd146107c8578063f8abee10146107e8578063fc6f8f161461081857600080fd5b8063be467604146106dd578063c0c53b8b146106f3578063d2b8035a14610713578063da3beb8c14610733578063e349ad30146105c557600080fd5b80638f06f112116100fd5780638f06f1121461061b578063a7cc08fe1461063b578063b34bfaa814610687578063b6ede5401461069d578063ba66fde7146106bd57600080fd5b80636d4cd8ea14610585578063751accd0146105a5578063796490f9146105c55780637c04034e146105db5780638e426460146105fb57600080fd5b80634b2f0ea0116101c75780635a155ccd1161018b5780635a155ccd1461048a5780635c92e2f6146104cb57806365540b96146104eb578063675926f61461051857806369f3f0411461053857600080fd5b80634b2f0ea0146103e15780634f1ef286146103f457806352d1902d1461040757806354fd4d501461041c578063564a565d1461045b57600080fd5b80631c3db16d1161020e5780631c3db16d1461032a5780631cc3423a146103675780632621b9a2146103875780632d68efc9146103a1578063362c3479146103c157600080fd5b80630855bbe91461024b57806309cc41b8146102805780630baa64d1146102a25780630c340a24146102c25780631200aabc146102ef575b600080fd5b34801561025757600080fd5b5061026b610266366004613bfc565b610838565b60405190151581526020015b60405180910390f35b34801561028c57600080fd5b506102a061029b366004613ca1565b610900565b005b3480156102ae57600080fd5b5061026b6102bd366004613bfc565b6109be565b3480156102ce57600080fd5b506000546102e2906001600160a01b031681565b6040516102779190613d31565b3480156102fb57600080fd5b5061031c61030a366004613bfc565b60036020526000908152604090205481565b604051908152602001610277565b34801561033657600080fd5b5061034a610345366004613bfc565b610a35565b604080519384529115156020840152151590820152606001610277565b34801561037357600080fd5b5061031c610382366004613def565b610ba3565b34801561039357600080fd5b5060045461026b9060ff1681565b3480156103ad57600080fd5b506007546102e2906001600160a01b031681565b3480156103cd57600080fd5b5061031c6103dc366004613e53565b610be3565b6102a06103ef366004613e90565b611093565b6102a0610402366004613eb2565b611923565b34801561041357600080fd5b5061031c611b42565b34801561042857600080fd5b5061044e604051806040016040528060068152602001650302e31322e360d41b81525081565b6040516102779190613f51565b34801561046757600080fd5b5061047b610476366004613bfc565b611ba0565b60405161027793929190613f64565b34801561049657600080fd5b5061026b6104a5366004613f85565b600560209081526000938452604080852082529284528284209052825290205460ff1681565b3480156104d757600080fd5b506102a06104e6366004613fbe565b611c66565b3480156104f757600080fd5b5061050b610506366004613bfc565b611c72565b6040516102779190614010565b34801561052457600080fd5b5061031c610533366004614053565b611d36565b34801561054457600080fd5b5061055861055336600461408e565b611e79565b604080519687529415156020870152938501929092526060840152608083015260a082015260c001610277565b34801561059157600080fd5b5061026b6105a0366004613bfc565b611f31565b3480156105b157600080fd5b506102a06105c03660046140ba565b6120b4565b3480156105d157600080fd5b5061031c61271081565b3480156105e757600080fd5b506102a06105f63660046140fc565b612180565b34801561060757600080fd5b506102a0610616366004614184565b612197565b34801561062757600080fd5b506102a06106363660046140fc565b6121e3565b34801561064757600080fd5b5061065b61065636600461408e565b6122a9565b604080516001600160a01b03909516855260208501939093529183015215156060820152608001610277565b34801561069357600080fd5b5061031c614e2081565b3480156106a957600080fd5b506102a06106b83660046141a1565b61236f565b3480156106c957600080fd5b5061026b6106d836600461408e565b612562565b3480156106e957600080fd5b5061031c61138881565b3480156106ff57600080fd5b506102a061070e3660046141fb565b6125fd565b34801561071f57600080fd5b506102e261072e366004613e90565b6126c7565b34801561073f57600080fd5b5061031c61074e366004613e90565b612a16565b34801561075f57600080fd5b506102a061076e366004614184565b612b69565b34801561077f57600080fd5b506001546102e2906001600160a01b031681565b34801561079f57600080fd5b506107b36107ae366004613e90565b612bb5565b60408051928352602083019190915201610277565b3480156107d457600080fd5b506102a06107e3366004614184565b612c07565b3480156107f457600080fd5b5061026b610803366004613bfc565b60066020526000908152604090205460ff1681565b34801561082457600080fd5b5061031c610833366004613bfc565b612cd9565b60015460405163afe15cfb60e01b815260048101839052600091829182916001600160a01b03169063afe15cfb906024016040805180830381865afa158015610885573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108a9919061423b565b9150915060006108b885611c72565b9050805160001480156108f757506127106113886108d68585614275565b6108e09190614288565b6108ea919061429f565b6108f48442614275565b10155b95945050505050565b600087815260036020526040902054600280548992908110610924576109246142c1565b600091825260209091206002600590920201015460ff16156109615760405162461bcd60e51b8152600401610958906142d7565b60405180910390fd5b61096d88888888612d05565b84336001600160a01b0316897fbc1efa6396a4ba1a755245703b38c48fbe744ab5117d9f09f47d26ffc1df999e8787876040516109ac93929190614337565b60405180910390a45050505050505050565b6000818152600360205260408120546002805483929081106109e2576109e26142c1565b60009182526020822060059091020180549092508290610a0490600190614275565b81548110610a1457610a146142c1565b60009182526020909120600c90910201805460059091015414949350505050565b6000806000806002600360008781526020019081526020016000205481548110610a6157610a616142c1565b60009182526020822060059091020180549092508290610a8390600190614275565b81548110610a9357610a936142c1565b60009182526020909120600c90910201600381015460ff169450905083610abe578060010154610ac1565b60005b60015460405163564a565d60e01b8152600481018990529196506000916001600160a01b039091169063564a565d9060240160a060405180830381865afa158015610b10573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b34919061437d565b5090935060049250610b44915050565b816004811115610b5657610b566143e6565b03610b99576000610b6688611c72565b90508051600103610b975780600081518110610b8457610b846142c1565b6020026020010151965060009550600194505b505b5050509193909250565b80516020808301919091206040805180840187905280820186905260608082019390935281518082039093018352608001905280519101205b9392505050565b60015460405163564a565d60e01b81526004810186905260009182916001600160a01b039091169063564a565d9060240160a060405180830381865afa158015610c31573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c55919061437d565b50935050505080610ca85760405162461bcd60e51b815260206004820152601b60248201527f446973707574652073686f756c64206265207265736f6c7665642e00000000006044820152606401610958565b600160009054906101000a90046001600160a01b03166001600160a01b0316635c975abb6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610cfb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d1f91906143fc565b15610d5d5760405162461bcd60e51b815260206004820152600e60248201526d10dbdc99481a5cc81c185d5cd95960921b6044820152606401610958565b60008681526006602052604090205460ff16610d8b5760405162461bcd60e51b815260040161095890614417565b600086815260036020526040812054600280549091908110610daf57610daf6142c1565b60009182526020808320888452600360059093020191820190526040822054815491935083918110610de357610de36142c1565b600091825260208220600154604051631c3db16d60e01b8152600481018d9052600c9390930290910193506001600160a01b031690631c3db16d90602401606060405180830381865afa158015610e3e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e62919061444e565b5050600087815260078401602052604090205490915060ff16610eac576001600160a01b038816600090815260088301602090815260408083208984529091529020549450610ff1565b808603610f21576000868152600683016020526040902054610ecf576000610f1a565b600086815260068301602090815260408083205460098601546001600160a01b038d1685526008870184528285208b8652909352922054610f109190614288565b610f1a919061429f565b9450610ff1565b600081815260078301602052604090205460ff16610ff15781600601600083600a01600181548110610f5557610f556142c1565b906000526020600020015481526020019081526020016000205482600601600084600a01600081548110610f8b57610f8b6142c1565b9060005260206000200154815260200190815260200160002054610faf919061448a565b60098301546001600160a01b038a16600090815260088501602090815260408083208b8452909152902054610fe49190614288565b610fee919061429f565b94505b6001600160a01b03881660009081526008830160209081526040808320898452909152812055841561108757600754611038906001600160a01b038a811691889116613068565b876001600160a01b0316878a7f54b3cab3cb5c4aca3209db1151caff092e878011202e43a36782d4ebe0b963ae898960405161107e929190918252602082015260400190565b60405180910390a45b50505050949350505050565b6000828152600360205260409020546002805484929081106110b7576110b76142c1565b600091825260209091206002600590920201015460ff16156110eb5760405162461bcd60e51b8152600401610958906142d7565b60008381526003602052604081205460028054909190811061110f5761110f6142c1565b9060005260206000209060050201905080600101548311156111735760405162461bcd60e51b815260206004820181905260248201527f5468657265206973206e6f20737563682072756c696e6720746f2066756e642e6044820152606401610958565b60008481526006602052604090205460ff166111a15760405162461bcd60e51b815260040161095890614417565b60015460405163afe15cfb60e01b81526004810186905260009182916001600160a01b039091169063afe15cfb906024016040805180830381865afa1580156111ee573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611212919061423b565b9150915081421015801561122557508042105b61126a5760405162461bcd60e51b815260206004820152601660248201527520b83832b0b6103832b934b7b21034b99037bb32b91760511b6044820152606401610958565b604051631c3db16d60e01b81526004810187905260009081903090631c3db16d90602401606060405180830381865afa1580156112ab573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112cf919061444e565b505090508681036112e4576127109150611365565b6127106113886112f48686614275565b6112fe9190614288565b611308919061429f565b6113128542614275565b1061135f5760405162461bcd60e51b815260206004820152601f60248201527f41707065616c20706572696f64206973206f76657220666f72206c6f736572006044820152606401610958565b614e2091505b8454600090869061137890600190614275565b81548110611388576113886142c1565b60009182526020822060018054604051637e37c78b60e11b8152600481018f9052600c949094029092019450916001600160a01b039091169063fc6f8f1690602401602060405180830381865afa1580156113e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061140b919061449d565b6114159190614275565b60008a815260078401602052604090205490915060ff16156114795760405162461bcd60e51b815260206004820152601b60248201527f41707065616c2066656520697320616c726561647920706169642e00000000006044820152606401610958565b600154604051632cf6413f60e11b8152600481018c90526000916001600160a01b0316906359ec827e90602401602060405180830381865afa1580156114c3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114e7919061449d565b905060006127106114f88784614288565b611502919061429f565b61150c908361448a565b60008c8152600686016020526040812054919250908211156115bd5760008c815260068601602052604090205434906115459084614275565b1161156a5760008c81526006860160205260409020546115659083614275565b61156c565b345b9050336001600160a01b0316848e7fcae597f39a3ad75c2e10d46b031f023c5c2babcd58ca0491b122acda3968d4c08f856040516115b4929190918252602082015260400190565b60405180910390a45b33600090815260088601602090815260408083208f8452909152812080548392906115e990849061448a565b909155505060008c81526006860160205260408120805483929061160e90849061448a565b909155505060008c815260068601602052604090205482116116e05760008c81526006860160205260408120546009870180549192909161165090849061448a565b9250508190555084600a018c908060018154018082558091505060019003906000526020600020016000909190919091505560018560070160008e815260200190815260200160002060006101000a81548160ff0219169083151502179055508b848e7fed764996238e4c1c873ae3af7ae2f00f1f6f4f10b9ac7d4bbea4a764c5dea00960405160405180910390a45b600a850154600110156118eb578285600901546116fd9190614275565b60098601556001546040516319b8152960e01b8152600481018f90526001600160a01b03909116906319b8152990602401602060405180830381865afa15801561174b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061176f91906143fc565b156117885760028a01805460ff1916600117905561186b565b895460038b01600061179b87600161448a565b81526020019081526020016000208190555060008a6000016001816001815401808255809150500390600052602060002090600c02019050600160009054906101000a90046001600160a01b03166001600160a01b031663c71f42538f6040518263ffffffff1660e01b815260040161181691815260200190565b602060405180830381865afa158015611833573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611857919061449d565b600b820155600301805460ff191660011790555b600160009054906101000a90046001600160a01b03166001600160a01b031663c3569902848f8d600101548e6004016040518563ffffffff1660e01b81526004016118b8939291906144f0565b6000604051808303818588803b1580156118d157600080fd5b505af11580156118e5573d6000803e3d6000fd5b50505050505b80341115611914576119146119008234614275565b6007543391906001600160a01b0316613068565b50505050505050505050505050565b61192c82613153565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614806119aa57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031661199e6000805160206148498339815191525490565b6001600160a01b031614155b156119c85760405163703e46dd60e11b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015611a22575060408051601f3d908101601f19168201909252611a1f9181019061449d565b60015b611a415781604051630c76093760e01b81526004016109589190613d31565b6000805160206148498339815191528114611a7257604051632a87526960e21b815260048101829052602401610958565b6000805160206148498339815191528390556040516001600160a01b038416907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a2815115611b3d576000836001600160a01b031683604051611ad9919061458a565b600060405180830381855af49150503d8060008114611b14576040519150601f19603f3d011682016040523d82523d6000602084013e611b19565b606091505b5050905080611b3b576040516339b21b5d60e11b815260040160405180910390fd5b505b505050565b6000306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611b8d5760405163703e46dd60e11b815260040160405180910390fd5b5060008051602061484983398151915290565b60028181548110611bb057600080fd5b600091825260209091206005909102016001810154600282015460048301805492945060ff9091169291611be3906144b6565b80601f0160208091040260200160405190810160405280929190818152602001828054611c0f906144b6565b8015611c5c5780601f10611c3157610100808354040283529160200191611c5c565b820191906000526020600020905b815481529060010190602001808311611c3f57829003601f168201915b5050505050905083565b611b3b84848484612d05565b6000818152600360205260408120546002805460609392908110611c9857611c986142c1565b60009182526020822060059091020180549092508290611cba90600190614275565b81548110611cca57611cca6142c1565b90600052602060002090600c0201905080600a01805480602002602001604051908101604052809291908181526020018280548015611d2857602002820191906000526020600020905b815481526020019060010190808311611d14575b505050505092505050919050565b600085815260036020526040812054600280548392908110611d5a57611d5a6142c1565b60009182526020808320898452600360059093020191820190526040822054815491935083918110611d8e57611d8e6142c1565b90600052602060002090600c02016000018681548110611db057611db06142c1565b600091825260208220600154604051631c3db16d60e01b815260048082018e905293909302909101935082916001600160a01b0390911690631c3db16d90602401606060405180830381865afa158015611e0e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e32919061444e565b506003850154919350915060ff168015611e5657508183600201541480611e565750805b15611e69576127109450505050506108f7565b5060009998505050505050505050565b60008060008060008060006002600360008c81526020019081526020016000205481548110611eaa57611eaa6142c1565b600091825260208083208c8452600360059093020191820190526040822054815491935083918110611ede57611ede6142c1565b600091825260208083206001600c909302019182015460038301546004840154600585015485549f87526002909501909352604090942054909f60ff9094169e50909c50909a9950975095505050505050565b600081815260036020526040812054600280548392908110611f5557611f556142c1565b60009182526020822060059091020180549092508290611f7790600190614275565b81548110611f8757611f876142c1565b60009182526020822060015460405163564a565d60e01b815260048101899052600c9390930290910193506001600160a01b03169063564a565d9060240160a060405180830381865afa158015611fe2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612006919061437d565b5050600154604051630fad06e960e11b81526001600160601b03851660048201529394506000936001600160a01b039091169250631f5a0dd2915060240160e060405180830381865afa158015612061573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061208591906145a6565b505050505091505060008161209b5783546120a1565b83600501545b6004909401549093149695505050505050565b6000546001600160a01b031633146120de5760405162461bcd60e51b815260040161095890614612565b6000836001600160a01b031683836040516120f9919061458a565b60006040518083038185875af1925050503d8060008114612136576040519150601f19603f3d011682016040523d82523d6000602084013e61213b565b606091505b5050905080611b3b5760405162461bcd60e51b8152602060048201526011602482015270155b9cdd58d8d95cdcd99d5b0818d85b1b607a1b6044820152606401610958565b61218f86868686868633613180565b505050505050565b6000546001600160a01b031633146121c15760405162461bcd60e51b815260040161095890614612565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b600086815260036020526040812054600280549091908110612207576122076142c1565b6000918252602082206005909102018054909250829061222990600190614275565b81548110612239576122396142c1565b90600052602060002090600c02016000018787600081811061225d5761225d6142c1565b9050602002013581548110612274576122746142c1565b60009182526020909120600490910201546001600160a01b0316905061229f88888888888887613180565b5050505050505050565b60008060008060006002600360008a815260200190815260200160002054815481106122d7576122d76142c1565b600091825260208083208a845260036005909302019182019052604082205481549193508391811061230b5761230b6142c1565b90600052602060002090600c0201600001878154811061232d5761232d6142c1565b600091825260209091206004909102018054600182015460028301546003909301546001600160a01b039092169c909b5091995060ff16975095505050505050565b6001546001600160a01b031633146123995760405162461bcd60e51b815260040161095890614654565b60028054600181018255600091909152600581027f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf81018690557f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace8101907f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ad2016124248587836146e6565b5060028101805460ff19169055805460018054604051637e37c78b60e11b8152600481018b9052600385019260009290916001600160a01b039091169063fc6f8f1690602401602060405180830381865afa158015612487573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124ab919061449d565b6124b59190614275565b81526020808201929092526040908101600090812093909355835460018082018655858552838520600c909202909101600b81018890556003808201805460ff1990811685179091558d87529085528386208890556006909452938290208054909316179091555188907fd3106f74c2d30a4b9230e756a3e78bde53865d40f6af4c479bb010ebaab5810890612550908a908a908a90614337565b60405180910390a25050505050505050565b600083815260036020526040812054600280548392908110612586576125866142c1565b600091825260208083208784526003600590930201918201905260408220548154919350839181106125ba576125ba6142c1565b90600052602060002090600c020160000184815481106125dc576125dc6142c1565b600091825260209091206004909102016003015460ff169695505050505050565b600160006126096138b1565b8054909150600160401b900460ff1680612630575080546001600160401b03808416911610155b1561264d5760405162dc149f60e41b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b1781556126798585856138d5565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15050505050565b6001546000906001600160a01b031633146126f45760405162461bcd60e51b815260040161095890614654565b600083815260036020526040902054600280548592908110612718576127186142c1565b600091825260209091206002600590920201015460ff161561274c5760405162461bcd60e51b8152600401610958906142d7565b6000848152600360205260408120546002805491929183908110612772576127726142c1565b600091825260208220600590910201805490925061279290600190614275565b905060008260000182815481106127ab576127ab6142c1565b90600052602060002090600c020190506000600160009054906101000a90046001600160a01b03166001600160a01b0316632e1daf2f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612810573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061283491906147a5565b60015460405163564a565d60e01b8152600481018c90529192506000916001600160a01b039091169063564a565d9060240160a060405180830381865afa158015612883573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128a7919061437d565b5050604051632638506b60e11b81526001600160601b03841660048201819052602482018f9052604482018e90529394506001600160a01b0386169250634c70a0d69150606401602060405180830381865afa15801561290b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061292f91906147a5565b98506001600160a01b03891661294b5750505050505050612a0f565b612956848c8b61391c565b15612a0257604080516080810182526001600160a01b03808c1680835260006020808501828152858701838152606087018481528c5460018181018f558e8752858720995160049092029099018054919098166001600160a01b0319909116178755915186880155516002860155516003909401805494151560ff199586161790558c8252600581528582208b8352815285822092825291909152929092208054909216179055612a07565b600098505b505050505050505b5092915050565b600082815260036020526040812054600280548392908110612a3a57612a3a6142c1565b60009182526020808320868452600360059093020191820190526040822054815491935083918110612a6e57612a6e6142c1565b600091825260208220600154604051631c3db16d60e01b8152600481018a9052600c93909302909101935082916001600160a01b0390911690631c3db16d90602401606060405180830381865afa158015612acd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612af1919061444e565b5091509150826004015460001480612b20575080158015612b2057506000828152600284016020526040902054155b15612b32576000945050505050612b63565b8015612b47575050600401549150612b639050565b506000908152600290910160205260409020549150612b639050565b92915050565b6000546001600160a01b03163314612b935760405162461bcd60e51b815260040161095890614612565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000828152600360205260408120546002805491929183908110612bdb57612bdb6142c1565b906000526020600020906005020160030160008481526020019081526020016000205490509250929050565b60096000612c136138b1565b8054909150600160401b900460ff1680612c3a575080546001600160401b03808416911610155b15612c575760405162dc149f60e41b815260040160405180910390fd5b8054600160401b6001600160401b03841668ffffffffffffffffff199092168217178255600780546001600160a01b0319166001600160a01b038616179055815460ff60401b191682556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a1505050565b600060028281548110612cee57612cee6142c1565b600091825260209091206005909102015492915050565b600084815260036020526040902054600280548692908110612d2957612d296142c1565b600091825260209091206002600590920201015460ff1615612d5d5760405162461bcd60e51b8152600401610958906142d7565b60015460405163564a565d60e01b8152600481018790526000916001600160a01b03169063564a565d9060240160a060405180830381865afa158015612da7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612dcb919061437d565b5090935060019250612ddb915050565b816004811115612ded57612ded6143e6565b14612e4a5760405162461bcd60e51b815260206004820152602760248201527f54686520646973707574652073686f756c6420626520696e20436f6d6d6974206044820152663832b934b7b21760c91b6064820152608401610958565b82612e875760405162461bcd60e51b815260206004820152600d60248201526c22b6b83a3c9031b7b6b6b4ba1760991b6044820152606401610958565b60008681526006602052604090205460ff16612eb55760405162461bcd60e51b815260040161095890614417565b600086815260036020526040812054600280549091908110612ed957612ed96142c1565b60009182526020822060059091020180549092508290612efb90600190614275565b81548110612f0b57612f0b6142c1565b90600052602060002090600c0201905060005b86811015613001573382898984818110612f3a57612f3a6142c1565b9050602002013581548110612f5157612f516142c1565b60009182526020909120600490910201546001600160a01b031614612fb85760405162461bcd60e51b815260206004820152601f60248201527f5468652063616c6c65722068617320746f206f776e2074686520766f74652e006044820152606401610958565b8582898984818110612fcc57612fcc6142c1565b9050602002013581548110612fe357612fe36142c1565b60009182526020909120600160049092020181019190915501612f1e565b5086869050816005016000828254613019919061448a565b9091555050604051339089907f05cc2f1c94966f1c961b410a50f3d3ffb64501346753a258177097ea23707f0890613056908b908b908b906147f4565b60405180910390a35050505050505050565b6040516001600160a01b0384169083156108fc029084906000818181858888f193505050501561309757505050565b806001600160a01b031663d0e30db0836040518263ffffffff1660e01b81526004016000604051808303818588803b1580156130d257600080fd5b505af11580156130e6573d6000803e3d6000fd5b505060405163a9059cbb60e01b81526001600160a01b038781166004830152602482018790528516935063a9059cbb92506044019050600060405180830381600087803b15801561313657600080fd5b505af115801561314a573d6000803e3d6000fd5b50505050505050565b6000546001600160a01b0316331461317d5760405162461bcd60e51b815260040161095890614612565b50565b6000878152600360205260409020546002805489929081106131a4576131a46142c1565b600091825260209091206002600590920201015460ff16156131d85760405162461bcd60e51b8152600401610958906142d7565b60015460405163564a565d60e01b8152600481018a90526000916001600160a01b03169063564a565d9060240160a060405180830381865afa158015613222573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613246919061437d565b5090935060029250613256915050565b816004811115613268576132686143e6565b146132c35760405162461bcd60e51b815260206004820152602560248201527f54686520646973707574652073686f756c6420626520696e20566f74652070656044820152643934b7b21760d91b6064820152608401610958565b866133055760405162461bcd60e51b8152602060048201526012602482015271139bc81d9bdd195251081c1c9bdd9a59195960721b6044820152606401610958565b60008981526006602052604090205460ff166133335760405162461bcd60e51b815260040161095890614417565b600089815260036020526040812054600280549091908110613357576133576142c1565b9060005260206000209060050201905080600101548711156133b25760405162461bcd60e51b815260206004820152601460248201527343686f696365206f7574206f6620626f756e647360601b6044820152606401610958565b805460009082906133c590600190614275565b815481106133d5576133d56142c1565b60009182526020822060015460405163564a565d60e01b8152600c90930290910193506001600160a01b03169063564a565d9061341a908f9060040190815260200190565b60a060405180830381865afa158015613437573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061345b919061437d565b5050600154604051630fad06e960e11b81526001600160601b03851660048201529394506000936001600160a01b039091169250631f5a0dd2915060240160e060405180830381865afa1580156134b6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134da91906145a6565b505050505091505060006134ef8b8b8b610ba3565b905060005b8c811015613776576001600160a01b038916858f8f84818110613519576135196142c1565b9050602002013581548110613530576135306142c1565b60009182526020909120600490910201546001600160a01b0316146135975760405162461bcd60e51b815260206004820152601e60248201527f546865206a75726f722068617320746f206f776e2074686520766f74652e00006044820152606401610958565b8215806135de575081858f8f848181106135b3576135b36142c1565b90506020020135815481106135ca576135ca6142c1565b906000526020600020906004020160010154145b61365e5760405162461bcd60e51b8152602060048201526044602482018190527f54686520766f74652068617368206d757374206d617463682074686520636f6d908201527f6d69746d656e7420696e20636f7572747320776974682068696464656e20766f6064820152633a32b99760e11b608482015260a401610958565b848e8e83818110613671576136716142c1565b9050602002013581548110613688576136886142c1565b600091825260209091206003600490920201015460ff16156136e15760405162461bcd60e51b81526020600482015260126024820152712b37ba329030b63932b0b23c9031b0b9ba1760711b6044820152606401610958565b8b858f8f848181106136f5576136f56142c1565b905060200201358154811061370c5761370c6142c1565b60009182526020909120600260049092020101556001858f8f84818110613735576137356142c1565b905060200201358154811061374c5761374c6142c1565b60009182526020909120600490910201600301805460ff19169115159190911790556001016134f4565b5050506004820180548b925060009061379090849061448a565b90915550506000888152600282016020526040812080548b92906137b590849061448a565b9091555050600181015488036137e457600381015460ff16156137df5760038101805460ff191690555b61385d565b60018101546000908152600282016020526040808220548a83529120540361382657600381015460ff166137df5760038101805460ff1916600117905561385d565b60018101546000908152600282016020526040808220548a8352912054111561385d576001810188905560038101805460ff191690555b87856001600160a01b03168c7fa000893c71384499023d2d7b21234f7b9e80c78e0330f357dcd667ff578bd3a48d8d8b60405161389c93929190614818565b60405180910390a45050505050505050505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0e90565b6138dd613ade565b600080546001600160a01b039485166001600160a01b031991821617909155600180549385169382169390931790925560078054919093169116179055565b6000613929848484613b05565b61393557506000610bdc565b600083815260036020526040812054600280549192918390811061395b5761395b6142c1565b906000526020600020906005020190506000806000613a05846004018054613982906144b6565b80601f01602080910402602001604051908101604052809291908181526020018280546139ae906144b6565b80156139fb5780601f106139d0576101008083540402835291602001916139fb565b820191906000526020600020905b8154815290600101906020018083116139de57829003601f168201915b5050505050613b9d565b919450925090506001600160a01b038316613a2857600195505050505050610bdc565b8115613aaf57604051627eeac760e11b81526001600160a01b038881166004830152602482018390526000919085169062fdd58e906044015b602060405180830381865afa158015613a7e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613aa2919061449d565b1195505050505050610bdc565b6040516370a0823160e01b81526000906001600160a01b038516906370a0823190613a61908b90600401613d31565b613ae6613be2565b613b0357604051631afcd79f60e31b815260040160405180910390fd5b565b60045460009060ff1615613b93576000838152600360205260408120546002805491929183908110613b3957613b396142c1565b6000918252602082206005909102018054909250613b5990600190614275565b60009384526005602090815260408086209286529181528185206001600160a01b038816865290529092205460ff16159250610bdc915050565b5060019392505050565b600080600060a084511015613bba57506000915081905080613bdb565b505050608081015160a0808301516001600160a01b0383169290911c600116905b9193909250565b6000613bec6138b1565b54600160401b900460ff16919050565b600060208284031215613c0e57600080fd5b5035919050565b60008083601f840112613c2757600080fd5b5081356001600160401b03811115613c3e57600080fd5b6020830191508360208260051b8501011115613c5957600080fd5b9250929050565b60008083601f840112613c7257600080fd5b5081356001600160401b03811115613c8957600080fd5b602083019150836020828501011115613c5957600080fd5b600080600080600080600060a0888a031215613cbc57600080fd5b8735965060208801356001600160401b03811115613cd957600080fd5b613ce58a828b01613c15565b909750955050604088013593506060880135925060808801356001600160401b03811115613d1257600080fd5b613d1e8a828b01613c60565b989b979a50959850939692959293505050565b6001600160a01b0391909116815260200190565b634e487b7160e01b600052604160045260246000fd5b600082601f830112613d6c57600080fd5b8135602083016000806001600160401b03841115613d8c57613d8c613d45565b50604051601f19601f85018116603f011681018181106001600160401b0382111715613dba57613dba613d45565b604052838152905080828401871015613dd257600080fd5b838360208301376000602085830101528094505050505092915050565b600080600060608486031215613e0457600080fd5b833592506020840135915060408401356001600160401b03811115613e2857600080fd5b613e3486828701613d5b565b9150509250925092565b6001600160a01b038116811461317d57600080fd5b60008060008060808587031215613e6957600080fd5b843593506020850135613e7b81613e3e565b93969395505050506040820135916060013590565b60008060408385031215613ea357600080fd5b50508035926020909101359150565b60008060408385031215613ec557600080fd5b8235613ed081613e3e565b915060208301356001600160401b03811115613eeb57600080fd5b613ef785828601613d5b565b9150509250929050565b60005b83811015613f1c578181015183820152602001613f04565b50506000910152565b60008151808452613f3d816020860160208601613f01565b601f01601f19169290920160200192915050565b602081526000610bdc6020830184613f25565b83815282151560208201526060604082015260006108f76060830184613f25565b600080600060608486031215613f9a57600080fd5b83359250602084013591506040840135613fb381613e3e565b809150509250925092565b60008060008060608587031215613fd457600080fd5b8435935060208501356001600160401b03811115613ff157600080fd5b613ffd87828801613c15565b9598909750949560400135949350505050565b602080825282518282018190526000918401906040840190835b8181101561404857835183526020938401939092019160010161402a565b509095945050505050565b600080600080600060a0868803121561406b57600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b6000806000606084860312156140a357600080fd5b505081359360208301359350604090920135919050565b6000806000606084860312156140cf57600080fd5b83356140da81613e3e565b92506020840135915060408401356001600160401b03811115613e2857600080fd5b60008060008060008060a0878903121561411557600080fd5b8635955060208701356001600160401b0381111561413257600080fd5b61413e89828a01613c15565b909650945050604087013592506060870135915060808701356001600160401b0381111561416b57600080fd5b61417789828a01613d5b565b9150509295509295509295565b60006020828403121561419657600080fd5b8135610bdc81613e3e565b6000806000806000608086880312156141b957600080fd5b853594506020860135935060408601356001600160401b038111156141dd57600080fd5b6141e988828901613c60565b96999598509660600135949350505050565b60008060006060848603121561421057600080fd5b833561421b81613e3e565b9250602084013561422b81613e3e565b91506040840135613fb381613e3e565b6000806040838503121561424e57600080fd5b505080516020909101519092909150565b634e487b7160e01b600052601160045260246000fd5b81810381811115612b6357612b6361425f565b8082028115828204841417612b6357612b6361425f565b6000826142bc57634e487b7160e01b600052601260045260246000fd5b500490565b634e487b7160e01b600052603260045260246000fd5b6020808252601e908201527f44697370757465206a756d70656420746f206120706172656e7420444b210000604082015260600190565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b8381526040602082015260006108f760408301848661430e565b80516001600160601b038116811461436857600080fd5b919050565b8051801515811461436857600080fd5b600080600080600060a0868803121561439557600080fd5b61439e86614351565b945060208601516143ae81613e3e565b6040870151909450600581106143c357600080fd5b92506143d16060870161436d565b60809690960151949793965091949392915050565b634e487b7160e01b600052602160045260246000fd5b60006020828403121561440e57600080fd5b610bdc8261436d565b6020808252601e908201527f4e6f742061637469766520666f7220636f726520646973707574652049440000604082015260600190565b60008060006060848603121561446357600080fd5b835192506144736020850161436d565b91506144816040850161436d565b90509250925092565b80820180821115612b6357612b6361425f565b6000602082840312156144af57600080fd5b5051919050565b600181811c908216806144ca57607f821691505b6020821081036144ea57634e487b7160e01b600052602260045260246000fd5b50919050565b83815282602082015260606040820152600080835461450e816144b6565b806060860152600182166000811461452d57600181146145495761457d565b60ff1983166080870152608082151560051b870101935061457d565b86600052602060002060005b8381101561457457815488820160800152600190910190602001614555565b87016080019450505b5091979650505050505050565b6000825161459c818460208701613f01565b9190910192915050565b600080600080600080600060e0888a0312156145c157600080fd5b6145ca88614351565b96506145d86020890161436d565b604089015160608a015160808b015160a08c015193995091975095509350915061460460c0890161436d565b905092959891949750929550565b60208082526022908201527f416363657373206e6f7420616c6c6f7765643a20476f7665726e6f72206f6e6c6040820152613c9760f11b606082015260800190565b60208082526024908201527f416363657373206e6f7420616c6c6f7765643a204b6c65726f73436f7265206f60408201526337363c9760e11b606082015260800190565b601f821115611b3d57806000526020600020601f840160051c810160208510156146bf5750805b601f840160051c820191505b818110156146df57600081556001016146cb565b5050505050565b6001600160401b038311156146fd576146fd613d45565b6147118361470b83546144b6565b83614698565b6000601f841160018114614745576000851561472d5750838201355b600019600387901b1c1916600186901b1783556146df565b600083815260209020601f19861690835b828110156147765786850135825560209485019460019092019101614756565b50868210156147935760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b6000602082840312156147b757600080fd5b8151610bdc81613e3e565b81835260006001600160fb1b038311156147db57600080fd5b8260051b80836020870137939093016020019392505050565b6040815260006148086040830185876147c2565b9050826020830152949350505050565b60408152600061482c6040830185876147c2565b828103602084015261483e8185613f25565b969550505050505056fe360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbca2646970667358221220cd5d3742f8c0524170b60f04c4a752d412f4c6d549337356905de2b1c28294eb64736f6c634300081c0033",
  "deployedBytecode": "0x6080604052600436106102465760003560e01c80636d4cd8ea11610139578063be467604116100b6578063e4c0aaf41161007a578063e4c0aaf414610753578063f2f4eb2614610773578063f32ab92714610793578063f7e7d1fd146107c8578063f8abee10146107e8578063fc6f8f161461081857600080fd5b8063be467604146106dd578063c0c53b8b146106f3578063d2b8035a14610713578063da3beb8c14610733578063e349ad30146105c557600080fd5b80638f06f112116100fd5780638f06f1121461061b578063a7cc08fe1461063b578063b34bfaa814610687578063b6ede5401461069d578063ba66fde7146106bd57600080fd5b80636d4cd8ea14610585578063751accd0146105a5578063796490f9146105c55780637c04034e146105db5780638e426460146105fb57600080fd5b80634b2f0ea0116101c75780635a155ccd1161018b5780635a155ccd1461048a5780635c92e2f6146104cb57806365540b96146104eb578063675926f61461051857806369f3f0411461053857600080fd5b80634b2f0ea0146103e15780634f1ef286146103f457806352d1902d1461040757806354fd4d501461041c578063564a565d1461045b57600080fd5b80631c3db16d1161020e5780631c3db16d1461032a5780631cc3423a146103675780632621b9a2146103875780632d68efc9146103a1578063362c3479146103c157600080fd5b80630855bbe91461024b57806309cc41b8146102805780630baa64d1146102a25780630c340a24146102c25780631200aabc146102ef575b600080fd5b34801561025757600080fd5b5061026b610266366004613bfc565b610838565b60405190151581526020015b60405180910390f35b34801561028c57600080fd5b506102a061029b366004613ca1565b610900565b005b3480156102ae57600080fd5b5061026b6102bd366004613bfc565b6109be565b3480156102ce57600080fd5b506000546102e2906001600160a01b031681565b6040516102779190613d31565b3480156102fb57600080fd5b5061031c61030a366004613bfc565b60036020526000908152604090205481565b604051908152602001610277565b34801561033657600080fd5b5061034a610345366004613bfc565b610a35565b604080519384529115156020840152151590820152606001610277565b34801561037357600080fd5b5061031c610382366004613def565b610ba3565b34801561039357600080fd5b5060045461026b9060ff1681565b3480156103ad57600080fd5b506007546102e2906001600160a01b031681565b3480156103cd57600080fd5b5061031c6103dc366004613e53565b610be3565b6102a06103ef366004613e90565b611093565b6102a0610402366004613eb2565b611923565b34801561041357600080fd5b5061031c611b42565b34801561042857600080fd5b5061044e604051806040016040528060068152602001650302e31322e360d41b81525081565b6040516102779190613f51565b34801561046757600080fd5b5061047b610476366004613bfc565b611ba0565b60405161027793929190613f64565b34801561049657600080fd5b5061026b6104a5366004613f85565b600560209081526000938452604080852082529284528284209052825290205460ff1681565b3480156104d757600080fd5b506102a06104e6366004613fbe565b611c66565b3480156104f757600080fd5b5061050b610506366004613bfc565b611c72565b6040516102779190614010565b34801561052457600080fd5b5061031c610533366004614053565b611d36565b34801561054457600080fd5b5061055861055336600461408e565b611e79565b604080519687529415156020870152938501929092526060840152608083015260a082015260c001610277565b34801561059157600080fd5b5061026b6105a0366004613bfc565b611f31565b3480156105b157600080fd5b506102a06105c03660046140ba565b6120b4565b3480156105d157600080fd5b5061031c61271081565b3480156105e757600080fd5b506102a06105f63660046140fc565b612180565b34801561060757600080fd5b506102a0610616366004614184565b612197565b34801561062757600080fd5b506102a06106363660046140fc565b6121e3565b34801561064757600080fd5b5061065b61065636600461408e565b6122a9565b604080516001600160a01b03909516855260208501939093529183015215156060820152608001610277565b34801561069357600080fd5b5061031c614e2081565b3480156106a957600080fd5b506102a06106b83660046141a1565b61236f565b3480156106c957600080fd5b5061026b6106d836600461408e565b612562565b3480156106e957600080fd5b5061031c61138881565b3480156106ff57600080fd5b506102a061070e3660046141fb565b6125fd565b34801561071f57600080fd5b506102e261072e366004613e90565b6126c7565b34801561073f57600080fd5b5061031c61074e366004613e90565b612a16565b34801561075f57600080fd5b506102a061076e366004614184565b612b69565b34801561077f57600080fd5b506001546102e2906001600160a01b031681565b34801561079f57600080fd5b506107b36107ae366004613e90565b612bb5565b60408051928352602083019190915201610277565b3480156107d457600080fd5b506102a06107e3366004614184565b612c07565b3480156107f457600080fd5b5061026b610803366004613bfc565b60066020526000908152604090205460ff1681565b34801561082457600080fd5b5061031c610833366004613bfc565b612cd9565b60015460405163afe15cfb60e01b815260048101839052600091829182916001600160a01b03169063afe15cfb906024016040805180830381865afa158015610885573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108a9919061423b565b9150915060006108b885611c72565b9050805160001480156108f757506127106113886108d68585614275565b6108e09190614288565b6108ea919061429f565b6108f48442614275565b10155b95945050505050565b600087815260036020526040902054600280548992908110610924576109246142c1565b600091825260209091206002600590920201015460ff16156109615760405162461bcd60e51b8152600401610958906142d7565b60405180910390fd5b61096d88888888612d05565b84336001600160a01b0316897fbc1efa6396a4ba1a755245703b38c48fbe744ab5117d9f09f47d26ffc1df999e8787876040516109ac93929190614337565b60405180910390a45050505050505050565b6000818152600360205260408120546002805483929081106109e2576109e26142c1565b60009182526020822060059091020180549092508290610a0490600190614275565b81548110610a1457610a146142c1565b60009182526020909120600c90910201805460059091015414949350505050565b6000806000806002600360008781526020019081526020016000205481548110610a6157610a616142c1565b60009182526020822060059091020180549092508290610a8390600190614275565b81548110610a9357610a936142c1565b60009182526020909120600c90910201600381015460ff169450905083610abe578060010154610ac1565b60005b60015460405163564a565d60e01b8152600481018990529196506000916001600160a01b039091169063564a565d9060240160a060405180830381865afa158015610b10573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b34919061437d565b5090935060049250610b44915050565b816004811115610b5657610b566143e6565b03610b99576000610b6688611c72565b90508051600103610b975780600081518110610b8457610b846142c1565b6020026020010151965060009550600194505b505b5050509193909250565b80516020808301919091206040805180840187905280820186905260608082019390935281518082039093018352608001905280519101205b9392505050565b60015460405163564a565d60e01b81526004810186905260009182916001600160a01b039091169063564a565d9060240160a060405180830381865afa158015610c31573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c55919061437d565b50935050505080610ca85760405162461bcd60e51b815260206004820152601b60248201527f446973707574652073686f756c64206265207265736f6c7665642e00000000006044820152606401610958565b600160009054906101000a90046001600160a01b03166001600160a01b0316635c975abb6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610cfb573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d1f91906143fc565b15610d5d5760405162461bcd60e51b815260206004820152600e60248201526d10dbdc99481a5cc81c185d5cd95960921b6044820152606401610958565b60008681526006602052604090205460ff16610d8b5760405162461bcd60e51b815260040161095890614417565b600086815260036020526040812054600280549091908110610daf57610daf6142c1565b60009182526020808320888452600360059093020191820190526040822054815491935083918110610de357610de36142c1565b600091825260208220600154604051631c3db16d60e01b8152600481018d9052600c9390930290910193506001600160a01b031690631c3db16d90602401606060405180830381865afa158015610e3e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e62919061444e565b5050600087815260078401602052604090205490915060ff16610eac576001600160a01b038816600090815260088301602090815260408083208984529091529020549450610ff1565b808603610f21576000868152600683016020526040902054610ecf576000610f1a565b600086815260068301602090815260408083205460098601546001600160a01b038d1685526008870184528285208b8652909352922054610f109190614288565b610f1a919061429f565b9450610ff1565b600081815260078301602052604090205460ff16610ff15781600601600083600a01600181548110610f5557610f556142c1565b906000526020600020015481526020019081526020016000205482600601600084600a01600081548110610f8b57610f8b6142c1565b9060005260206000200154815260200190815260200160002054610faf919061448a565b60098301546001600160a01b038a16600090815260088501602090815260408083208b8452909152902054610fe49190614288565b610fee919061429f565b94505b6001600160a01b03881660009081526008830160209081526040808320898452909152812055841561108757600754611038906001600160a01b038a811691889116613068565b876001600160a01b0316878a7f54b3cab3cb5c4aca3209db1151caff092e878011202e43a36782d4ebe0b963ae898960405161107e929190918252602082015260400190565b60405180910390a45b50505050949350505050565b6000828152600360205260409020546002805484929081106110b7576110b76142c1565b600091825260209091206002600590920201015460ff16156110eb5760405162461bcd60e51b8152600401610958906142d7565b60008381526003602052604081205460028054909190811061110f5761110f6142c1565b9060005260206000209060050201905080600101548311156111735760405162461bcd60e51b815260206004820181905260248201527f5468657265206973206e6f20737563682072756c696e6720746f2066756e642e6044820152606401610958565b60008481526006602052604090205460ff166111a15760405162461bcd60e51b815260040161095890614417565b60015460405163afe15cfb60e01b81526004810186905260009182916001600160a01b039091169063afe15cfb906024016040805180830381865afa1580156111ee573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611212919061423b565b9150915081421015801561122557508042105b61126a5760405162461bcd60e51b815260206004820152601660248201527520b83832b0b6103832b934b7b21034b99037bb32b91760511b6044820152606401610958565b604051631c3db16d60e01b81526004810187905260009081903090631c3db16d90602401606060405180830381865afa1580156112ab573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906112cf919061444e565b505090508681036112e4576127109150611365565b6127106113886112f48686614275565b6112fe9190614288565b611308919061429f565b6113128542614275565b1061135f5760405162461bcd60e51b815260206004820152601f60248201527f41707065616c20706572696f64206973206f76657220666f72206c6f736572006044820152606401610958565b614e2091505b8454600090869061137890600190614275565b81548110611388576113886142c1565b60009182526020822060018054604051637e37c78b60e11b8152600481018f9052600c949094029092019450916001600160a01b039091169063fc6f8f1690602401602060405180830381865afa1580156113e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061140b919061449d565b6114159190614275565b60008a815260078401602052604090205490915060ff16156114795760405162461bcd60e51b815260206004820152601b60248201527f41707065616c2066656520697320616c726561647920706169642e00000000006044820152606401610958565b600154604051632cf6413f60e11b8152600481018c90526000916001600160a01b0316906359ec827e90602401602060405180830381865afa1580156114c3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114e7919061449d565b905060006127106114f88784614288565b611502919061429f565b61150c908361448a565b60008c8152600686016020526040812054919250908211156115bd5760008c815260068601602052604090205434906115459084614275565b1161156a5760008c81526006860160205260409020546115659083614275565b61156c565b345b9050336001600160a01b0316848e7fcae597f39a3ad75c2e10d46b031f023c5c2babcd58ca0491b122acda3968d4c08f856040516115b4929190918252602082015260400190565b60405180910390a45b33600090815260088601602090815260408083208f8452909152812080548392906115e990849061448a565b909155505060008c81526006860160205260408120805483929061160e90849061448a565b909155505060008c815260068601602052604090205482116116e05760008c81526006860160205260408120546009870180549192909161165090849061448a565b9250508190555084600a018c908060018154018082558091505060019003906000526020600020016000909190919091505560018560070160008e815260200190815260200160002060006101000a81548160ff0219169083151502179055508b848e7fed764996238e4c1c873ae3af7ae2f00f1f6f4f10b9ac7d4bbea4a764c5dea00960405160405180910390a45b600a850154600110156118eb578285600901546116fd9190614275565b60098601556001546040516319b8152960e01b8152600481018f90526001600160a01b03909116906319b8152990602401602060405180830381865afa15801561174b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061176f91906143fc565b156117885760028a01805460ff1916600117905561186b565b895460038b01600061179b87600161448a565b81526020019081526020016000208190555060008a6000016001816001815401808255809150500390600052602060002090600c02019050600160009054906101000a90046001600160a01b03166001600160a01b031663c71f42538f6040518263ffffffff1660e01b815260040161181691815260200190565b602060405180830381865afa158015611833573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611857919061449d565b600b820155600301805460ff191660011790555b600160009054906101000a90046001600160a01b03166001600160a01b031663c3569902848f8d600101548e6004016040518563ffffffff1660e01b81526004016118b8939291906144f0565b6000604051808303818588803b1580156118d157600080fd5b505af11580156118e5573d6000803e3d6000fd5b50505050505b80341115611914576119146119008234614275565b6007543391906001600160a01b0316613068565b50505050505050505050505050565b61192c82613153565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614806119aa57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031661199e6000805160206148498339815191525490565b6001600160a01b031614155b156119c85760405163703e46dd60e11b815260040160405180910390fd5b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015611a22575060408051601f3d908101601f19168201909252611a1f9181019061449d565b60015b611a415781604051630c76093760e01b81526004016109589190613d31565b6000805160206148498339815191528114611a7257604051632a87526960e21b815260048101829052602401610958565b6000805160206148498339815191528390556040516001600160a01b038416907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a2815115611b3d576000836001600160a01b031683604051611ad9919061458a565b600060405180830381855af49150503d8060008114611b14576040519150601f19603f3d011682016040523d82523d6000602084013e611b19565b606091505b5050905080611b3b576040516339b21b5d60e11b815260040160405180910390fd5b505b505050565b6000306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614611b8d5760405163703e46dd60e11b815260040160405180910390fd5b5060008051602061484983398151915290565b60028181548110611bb057600080fd5b600091825260209091206005909102016001810154600282015460048301805492945060ff9091169291611be3906144b6565b80601f0160208091040260200160405190810160405280929190818152602001828054611c0f906144b6565b8015611c5c5780601f10611c3157610100808354040283529160200191611c5c565b820191906000526020600020905b815481529060010190602001808311611c3f57829003601f168201915b5050505050905083565b611b3b84848484612d05565b6000818152600360205260408120546002805460609392908110611c9857611c986142c1565b60009182526020822060059091020180549092508290611cba90600190614275565b81548110611cca57611cca6142c1565b90600052602060002090600c0201905080600a01805480602002602001604051908101604052809291908181526020018280548015611d2857602002820191906000526020600020905b815481526020019060010190808311611d14575b505050505092505050919050565b600085815260036020526040812054600280548392908110611d5a57611d5a6142c1565b60009182526020808320898452600360059093020191820190526040822054815491935083918110611d8e57611d8e6142c1565b90600052602060002090600c02016000018681548110611db057611db06142c1565b600091825260208220600154604051631c3db16d60e01b815260048082018e905293909302909101935082916001600160a01b0390911690631c3db16d90602401606060405180830381865afa158015611e0e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e32919061444e565b506003850154919350915060ff168015611e5657508183600201541480611e565750805b15611e69576127109450505050506108f7565b5060009998505050505050505050565b60008060008060008060006002600360008c81526020019081526020016000205481548110611eaa57611eaa6142c1565b600091825260208083208c8452600360059093020191820190526040822054815491935083918110611ede57611ede6142c1565b600091825260208083206001600c909302019182015460038301546004840154600585015485549f87526002909501909352604090942054909f60ff9094169e50909c50909a9950975095505050505050565b600081815260036020526040812054600280548392908110611f5557611f556142c1565b60009182526020822060059091020180549092508290611f7790600190614275565b81548110611f8757611f876142c1565b60009182526020822060015460405163564a565d60e01b815260048101899052600c9390930290910193506001600160a01b03169063564a565d9060240160a060405180830381865afa158015611fe2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612006919061437d565b5050600154604051630fad06e960e11b81526001600160601b03851660048201529394506000936001600160a01b039091169250631f5a0dd2915060240160e060405180830381865afa158015612061573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061208591906145a6565b505050505091505060008161209b5783546120a1565b83600501545b6004909401549093149695505050505050565b6000546001600160a01b031633146120de5760405162461bcd60e51b815260040161095890614612565b6000836001600160a01b031683836040516120f9919061458a565b60006040518083038185875af1925050503d8060008114612136576040519150601f19603f3d011682016040523d82523d6000602084013e61213b565b606091505b5050905080611b3b5760405162461bcd60e51b8152602060048201526011602482015270155b9cdd58d8d95cdcd99d5b0818d85b1b607a1b6044820152606401610958565b61218f86868686868633613180565b505050505050565b6000546001600160a01b031633146121c15760405162461bcd60e51b815260040161095890614612565b600180546001600160a01b0319166001600160a01b0392909216919091179055565b600086815260036020526040812054600280549091908110612207576122076142c1565b6000918252602082206005909102018054909250829061222990600190614275565b81548110612239576122396142c1565b90600052602060002090600c02016000018787600081811061225d5761225d6142c1565b9050602002013581548110612274576122746142c1565b60009182526020909120600490910201546001600160a01b0316905061229f88888888888887613180565b5050505050505050565b60008060008060006002600360008a815260200190815260200160002054815481106122d7576122d76142c1565b600091825260208083208a845260036005909302019182019052604082205481549193508391811061230b5761230b6142c1565b90600052602060002090600c0201600001878154811061232d5761232d6142c1565b600091825260209091206004909102018054600182015460028301546003909301546001600160a01b039092169c909b5091995060ff16975095505050505050565b6001546001600160a01b031633146123995760405162461bcd60e51b815260040161095890614654565b60028054600181018255600091909152600581027f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5acf81018690557f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace8101907f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ad2016124248587836146e6565b5060028101805460ff19169055805460018054604051637e37c78b60e11b8152600481018b9052600385019260009290916001600160a01b039091169063fc6f8f1690602401602060405180830381865afa158015612487573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906124ab919061449d565b6124b59190614275565b81526020808201929092526040908101600090812093909355835460018082018655858552838520600c909202909101600b81018890556003808201805460ff1990811685179091558d87529085528386208890556006909452938290208054909316179091555188907fd3106f74c2d30a4b9230e756a3e78bde53865d40f6af4c479bb010ebaab5810890612550908a908a908a90614337565b60405180910390a25050505050505050565b600083815260036020526040812054600280548392908110612586576125866142c1565b600091825260208083208784526003600590930201918201905260408220548154919350839181106125ba576125ba6142c1565b90600052602060002090600c020160000184815481106125dc576125dc6142c1565b600091825260209091206004909102016003015460ff169695505050505050565b600160006126096138b1565b8054909150600160401b900460ff1680612630575080546001600160401b03808416911610155b1561264d5760405162dc149f60e41b815260040160405180910390fd5b805468ffffffffffffffffff19166001600160401b03831617600160401b1781556126798585856138d5565b805460ff60401b191681556040516001600160401b03831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15050505050565b6001546000906001600160a01b031633146126f45760405162461bcd60e51b815260040161095890614654565b600083815260036020526040902054600280548592908110612718576127186142c1565b600091825260209091206002600590920201015460ff161561274c5760405162461bcd60e51b8152600401610958906142d7565b6000848152600360205260408120546002805491929183908110612772576127726142c1565b600091825260208220600590910201805490925061279290600190614275565b905060008260000182815481106127ab576127ab6142c1565b90600052602060002090600c020190506000600160009054906101000a90046001600160a01b03166001600160a01b0316632e1daf2f6040518163ffffffff1660e01b8152600401602060405180830381865afa158015612810573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061283491906147a5565b60015460405163564a565d60e01b8152600481018c90529192506000916001600160a01b039091169063564a565d9060240160a060405180830381865afa158015612883573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906128a7919061437d565b5050604051632638506b60e11b81526001600160601b03841660048201819052602482018f9052604482018e90529394506001600160a01b0386169250634c70a0d69150606401602060405180830381865afa15801561290b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061292f91906147a5565b98506001600160a01b03891661294b5750505050505050612a0f565b612956848c8b61391c565b15612a0257604080516080810182526001600160a01b03808c1680835260006020808501828152858701838152606087018481528c5460018181018f558e8752858720995160049092029099018054919098166001600160a01b0319909116178755915186880155516002860155516003909401805494151560ff199586161790558c8252600581528582208b8352815285822092825291909152929092208054909216179055612a07565b600098505b505050505050505b5092915050565b600082815260036020526040812054600280548392908110612a3a57612a3a6142c1565b60009182526020808320868452600360059093020191820190526040822054815491935083918110612a6e57612a6e6142c1565b600091825260208220600154604051631c3db16d60e01b8152600481018a9052600c93909302909101935082916001600160a01b0390911690631c3db16d90602401606060405180830381865afa158015612acd573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612af1919061444e565b5091509150826004015460001480612b20575080158015612b2057506000828152600284016020526040902054155b15612b32576000945050505050612b63565b8015612b47575050600401549150612b639050565b506000908152600290910160205260409020549150612b639050565b92915050565b6000546001600160a01b03163314612b935760405162461bcd60e51b815260040161095890614612565b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000828152600360205260408120546002805491929183908110612bdb57612bdb6142c1565b906000526020600020906005020160030160008481526020019081526020016000205490509250929050565b60096000612c136138b1565b8054909150600160401b900460ff1680612c3a575080546001600160401b03808416911610155b15612c575760405162dc149f60e41b815260040160405180910390fd5b8054600160401b6001600160401b03841668ffffffffffffffffff199092168217178255600780546001600160a01b0319166001600160a01b038616179055815460ff60401b191682556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a1505050565b600060028281548110612cee57612cee6142c1565b600091825260209091206005909102015492915050565b600084815260036020526040902054600280548692908110612d2957612d296142c1565b600091825260209091206002600590920201015460ff1615612d5d5760405162461bcd60e51b8152600401610958906142d7565b60015460405163564a565d60e01b8152600481018790526000916001600160a01b03169063564a565d9060240160a060405180830381865afa158015612da7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190612dcb919061437d565b5090935060019250612ddb915050565b816004811115612ded57612ded6143e6565b14612e4a5760405162461bcd60e51b815260206004820152602760248201527f54686520646973707574652073686f756c6420626520696e20436f6d6d6974206044820152663832b934b7b21760c91b6064820152608401610958565b82612e875760405162461bcd60e51b815260206004820152600d60248201526c22b6b83a3c9031b7b6b6b4ba1760991b6044820152606401610958565b60008681526006602052604090205460ff16612eb55760405162461bcd60e51b815260040161095890614417565b600086815260036020526040812054600280549091908110612ed957612ed96142c1565b60009182526020822060059091020180549092508290612efb90600190614275565b81548110612f0b57612f0b6142c1565b90600052602060002090600c0201905060005b86811015613001573382898984818110612f3a57612f3a6142c1565b9050602002013581548110612f5157612f516142c1565b60009182526020909120600490910201546001600160a01b031614612fb85760405162461bcd60e51b815260206004820152601f60248201527f5468652063616c6c65722068617320746f206f776e2074686520766f74652e006044820152606401610958565b8582898984818110612fcc57612fcc6142c1565b9050602002013581548110612fe357612fe36142c1565b60009182526020909120600160049092020181019190915501612f1e565b5086869050816005016000828254613019919061448a565b9091555050604051339089907f05cc2f1c94966f1c961b410a50f3d3ffb64501346753a258177097ea23707f0890613056908b908b908b906147f4565b60405180910390a35050505050505050565b6040516001600160a01b0384169083156108fc029084906000818181858888f193505050501561309757505050565b806001600160a01b031663d0e30db0836040518263ffffffff1660e01b81526004016000604051808303818588803b1580156130d257600080fd5b505af11580156130e6573d6000803e3d6000fd5b505060405163a9059cbb60e01b81526001600160a01b038781166004830152602482018790528516935063a9059cbb92506044019050600060405180830381600087803b15801561313657600080fd5b505af115801561314a573d6000803e3d6000fd5b50505050505050565b6000546001600160a01b0316331461317d5760405162461bcd60e51b815260040161095890614612565b50565b6000878152600360205260409020546002805489929081106131a4576131a46142c1565b600091825260209091206002600590920201015460ff16156131d85760405162461bcd60e51b8152600401610958906142d7565b60015460405163564a565d60e01b8152600481018a90526000916001600160a01b03169063564a565d9060240160a060405180830381865afa158015613222573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613246919061437d565b5090935060029250613256915050565b816004811115613268576132686143e6565b146132c35760405162461bcd60e51b815260206004820152602560248201527f54686520646973707574652073686f756c6420626520696e20566f74652070656044820152643934b7b21760d91b6064820152608401610958565b866133055760405162461bcd60e51b8152602060048201526012602482015271139bc81d9bdd195251081c1c9bdd9a59195960721b6044820152606401610958565b60008981526006602052604090205460ff166133335760405162461bcd60e51b815260040161095890614417565b600089815260036020526040812054600280549091908110613357576133576142c1565b9060005260206000209060050201905080600101548711156133b25760405162461bcd60e51b815260206004820152601460248201527343686f696365206f7574206f6620626f756e647360601b6044820152606401610958565b805460009082906133c590600190614275565b815481106133d5576133d56142c1565b60009182526020822060015460405163564a565d60e01b8152600c90930290910193506001600160a01b03169063564a565d9061341a908f9060040190815260200190565b60a060405180830381865afa158015613437573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061345b919061437d565b5050600154604051630fad06e960e11b81526001600160601b03851660048201529394506000936001600160a01b039091169250631f5a0dd2915060240160e060405180830381865afa1580156134b6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134da91906145a6565b505050505091505060006134ef8b8b8b610ba3565b905060005b8c811015613776576001600160a01b038916858f8f84818110613519576135196142c1565b9050602002013581548110613530576135306142c1565b60009182526020909120600490910201546001600160a01b0316146135975760405162461bcd60e51b815260206004820152601e60248201527f546865206a75726f722068617320746f206f776e2074686520766f74652e00006044820152606401610958565b8215806135de575081858f8f848181106135b3576135b36142c1565b90506020020135815481106135ca576135ca6142c1565b906000526020600020906004020160010154145b61365e5760405162461bcd60e51b8152602060048201526044602482018190527f54686520766f74652068617368206d757374206d617463682074686520636f6d908201527f6d69746d656e7420696e20636f7572747320776974682068696464656e20766f6064820152633a32b99760e11b608482015260a401610958565b848e8e83818110613671576136716142c1565b9050602002013581548110613688576136886142c1565b600091825260209091206003600490920201015460ff16156136e15760405162461bcd60e51b81526020600482015260126024820152712b37ba329030b63932b0b23c9031b0b9ba1760711b6044820152606401610958565b8b858f8f848181106136f5576136f56142c1565b905060200201358154811061370c5761370c6142c1565b60009182526020909120600260049092020101556001858f8f84818110613735576137356142c1565b905060200201358154811061374c5761374c6142c1565b60009182526020909120600490910201600301805460ff19169115159190911790556001016134f4565b5050506004820180548b925060009061379090849061448a565b90915550506000888152600282016020526040812080548b92906137b590849061448a565b9091555050600181015488036137e457600381015460ff16156137df5760038101805460ff191690555b61385d565b60018101546000908152600282016020526040808220548a83529120540361382657600381015460ff166137df5760038101805460ff1916600117905561385d565b60018101546000908152600282016020526040808220548a8352912054111561385d576001810188905560038101805460ff191690555b87856001600160a01b03168c7fa000893c71384499023d2d7b21234f7b9e80c78e0330f357dcd667ff578bd3a48d8d8b60405161389c93929190614818565b60405180910390a45050505050505050505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0e90565b6138dd613ade565b600080546001600160a01b039485166001600160a01b031991821617909155600180549385169382169390931790925560078054919093169116179055565b6000613929848484613b05565b61393557506000610bdc565b600083815260036020526040812054600280549192918390811061395b5761395b6142c1565b906000526020600020906005020190506000806000613a05846004018054613982906144b6565b80601f01602080910402602001604051908101604052809291908181526020018280546139ae906144b6565b80156139fb5780601f106139d0576101008083540402835291602001916139fb565b820191906000526020600020905b8154815290600101906020018083116139de57829003601f168201915b5050505050613b9d565b919450925090506001600160a01b038316613a2857600195505050505050610bdc565b8115613aaf57604051627eeac760e11b81526001600160a01b038881166004830152602482018390526000919085169062fdd58e906044015b602060405180830381865afa158015613a7e573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190613aa2919061449d565b1195505050505050610bdc565b6040516370a0823160e01b81526000906001600160a01b038516906370a0823190613a61908b90600401613d31565b613ae6613be2565b613b0357604051631afcd79f60e31b815260040160405180910390fd5b565b60045460009060ff1615613b93576000838152600360205260408120546002805491929183908110613b3957613b396142c1565b6000918252602082206005909102018054909250613b5990600190614275565b60009384526005602090815260408086209286529181528185206001600160a01b038816865290529092205460ff16159250610bdc915050565b5060019392505050565b600080600060a084511015613bba57506000915081905080613bdb565b505050608081015160a0808301516001600160a01b0383169290911c600116905b9193909250565b6000613bec6138b1565b54600160401b900460ff16919050565b600060208284031215613c0e57600080fd5b5035919050565b60008083601f840112613c2757600080fd5b5081356001600160401b03811115613c3e57600080fd5b6020830191508360208260051b8501011115613c5957600080fd5b9250929050565b60008083601f840112613c7257600080fd5b5081356001600160401b03811115613c8957600080fd5b602083019150836020828501011115613c5957600080fd5b600080600080600080600060a0888a031215613cbc57600080fd5b8735965060208801356001600160401b03811115613cd957600080fd5b613ce58a828b01613c15565b909750955050604088013593506060880135925060808801356001600160401b03811115613d1257600080fd5b613d1e8a828b01613c60565b989b979a50959850939692959293505050565b6001600160a01b0391909116815260200190565b634e487b7160e01b600052604160045260246000fd5b600082601f830112613d6c57600080fd5b8135602083016000806001600160401b03841115613d8c57613d8c613d45565b50604051601f19601f85018116603f011681018181106001600160401b0382111715613dba57613dba613d45565b604052838152905080828401871015613dd257600080fd5b838360208301376000602085830101528094505050505092915050565b600080600060608486031215613e0457600080fd5b833592506020840135915060408401356001600160401b03811115613e2857600080fd5b613e3486828701613d5b565b9150509250925092565b6001600160a01b038116811461317d57600080fd5b60008060008060808587031215613e6957600080fd5b843593506020850135613e7b81613e3e565b93969395505050506040820135916060013590565b60008060408385031215613ea357600080fd5b50508035926020909101359150565b60008060408385031215613ec557600080fd5b8235613ed081613e3e565b915060208301356001600160401b03811115613eeb57600080fd5b613ef785828601613d5b565b9150509250929050565b60005b83811015613f1c578181015183820152602001613f04565b50506000910152565b60008151808452613f3d816020860160208601613f01565b601f01601f19169290920160200192915050565b602081526000610bdc6020830184613f25565b83815282151560208201526060604082015260006108f76060830184613f25565b600080600060608486031215613f9a57600080fd5b83359250602084013591506040840135613fb381613e3e565b809150509250925092565b60008060008060608587031215613fd457600080fd5b8435935060208501356001600160401b03811115613ff157600080fd5b613ffd87828801613c15565b9598909750949560400135949350505050565b602080825282518282018190526000918401906040840190835b8181101561404857835183526020938401939092019160010161402a565b509095945050505050565b600080600080600060a0868803121561406b57600080fd5b505083359560208501359550604085013594606081013594506080013592509050565b6000806000606084860312156140a357600080fd5b505081359360208301359350604090920135919050565b6000806000606084860312156140cf57600080fd5b83356140da81613e3e565b92506020840135915060408401356001600160401b03811115613e2857600080fd5b60008060008060008060a0878903121561411557600080fd5b8635955060208701356001600160401b0381111561413257600080fd5b61413e89828a01613c15565b909650945050604087013592506060870135915060808701356001600160401b0381111561416b57600080fd5b61417789828a01613d5b565b9150509295509295509295565b60006020828403121561419657600080fd5b8135610bdc81613e3e565b6000806000806000608086880312156141b957600080fd5b853594506020860135935060408601356001600160401b038111156141dd57600080fd5b6141e988828901613c60565b96999598509660600135949350505050565b60008060006060848603121561421057600080fd5b833561421b81613e3e565b9250602084013561422b81613e3e565b91506040840135613fb381613e3e565b6000806040838503121561424e57600080fd5b505080516020909101519092909150565b634e487b7160e01b600052601160045260246000fd5b81810381811115612b6357612b6361425f565b8082028115828204841417612b6357612b6361425f565b6000826142bc57634e487b7160e01b600052601260045260246000fd5b500490565b634e487b7160e01b600052603260045260246000fd5b6020808252601e908201527f44697370757465206a756d70656420746f206120706172656e7420444b210000604082015260600190565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b8381526040602082015260006108f760408301848661430e565b80516001600160601b038116811461436857600080fd5b919050565b8051801515811461436857600080fd5b600080600080600060a0868803121561439557600080fd5b61439e86614351565b945060208601516143ae81613e3e565b6040870151909450600581106143c357600080fd5b92506143d16060870161436d565b60809690960151949793965091949392915050565b634e487b7160e01b600052602160045260246000fd5b60006020828403121561440e57600080fd5b610bdc8261436d565b6020808252601e908201527f4e6f742061637469766520666f7220636f726520646973707574652049440000604082015260600190565b60008060006060848603121561446357600080fd5b835192506144736020850161436d565b91506144816040850161436d565b90509250925092565b80820180821115612b6357612b6361425f565b6000602082840312156144af57600080fd5b5051919050565b600181811c908216806144ca57607f821691505b6020821081036144ea57634e487b7160e01b600052602260045260246000fd5b50919050565b83815282602082015260606040820152600080835461450e816144b6565b806060860152600182166000811461452d57600181146145495761457d565b60ff1983166080870152608082151560051b870101935061457d565b86600052602060002060005b8381101561457457815488820160800152600190910190602001614555565b87016080019450505b5091979650505050505050565b6000825161459c818460208701613f01565b9190910192915050565b600080600080600080600060e0888a0312156145c157600080fd5b6145ca88614351565b96506145d86020890161436d565b604089015160608a015160808b015160a08c015193995091975095509350915061460460c0890161436d565b905092959891949750929550565b60208082526022908201527f416363657373206e6f7420616c6c6f7765643a20476f7665726e6f72206f6e6c6040820152613c9760f11b606082015260800190565b60208082526024908201527f416363657373206e6f7420616c6c6f7765643a204b6c65726f73436f7265206f60408201526337363c9760e11b606082015260800190565b601f821115611b3d57806000526020600020601f840160051c810160208510156146bf5750805b601f840160051c820191505b818110156146df57600081556001016146cb565b5050505050565b6001600160401b038311156146fd576146fd613d45565b6147118361470b83546144b6565b83614698565b6000601f841160018114614745576000851561472d5750838201355b600019600387901b1c1916600186901b1783556146df565b600083815260209020601f19861690835b828110156147765786850135825560209485019460019092019101614756565b50868210156147935760001960f88860031b161c19848701351681555b505060018560011b0183555050505050565b6000602082840312156147b757600080fd5b8151610bdc81613e3e565b81835260006001600160fb1b038311156147db57600080fd5b8260051b80836020870137939093016020019392505050565b6040815260006148086040830185876147c2565b9050826020830152949350505050565b60408152600061482c6040830185876147c2565b828103602084015261483e8185613f25565b969550505050505056fe360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbca2646970667358221220cd5d3742f8c0524170b60f04c4a752d412f4c6d549337356905de2b1c28294eb64736f6c634300081c0033",
  "devdoc": {
    "errors": {
      "AlreadyInitialized()": [
        {
          "details": "The contract is already initialized."
        }
      ],
      "InvalidImplementation(address)": [
        {
          "details": "The `implementation` is not UUPS-compliant"
        }
      ],
      "NotInitializing()": [
        {
          "details": "The contract is not initializing."
        }
      ],
      "UUPSUnauthorizedCallContext()": [
        {
          "details": "The call is from an unauthorized context."
        }
      ],
      "UUPSUnsupportedProxiableUUID(bytes32)": [
        {
          "details": "The storage `slot` is unsupported as a UUID."
        }
      ]
    },
    "events": {
      "ChoiceFunded(uint256,uint256,uint256)": {
        "details": "To be emitted when a choice is fully funded for an appeal.",
        "params": {
          "_choice": "The choice that is being funded.",
          "_coreDisputeID": "The identifier of the dispute in the Arbitrator contract.",
          "_coreRoundID": "The identifier of the round in the Arbitrator contract."
        }
      },
      "CommitCast(uint256,address,uint256[],bytes32)": {
        "details": "To be emitted when a vote commitment is cast.",
        "params": {
          "_commit": "The commitment of the juror.",
          "_coreDisputeID": "The identifier of the dispute in the Arbitrator contract.",
          "_juror": "The address of the juror casting the vote commitment.",
          "_voteIDs": "The identifiers of the votes in the dispute."
        }
      },
      "CommitCastShutter(uint256,address,bytes32,bytes32,bytes)": {
        "details": "Emitted when a vote is cast.",
        "params": {
          "_commit": "The commitment hash.",
          "_coreDisputeID": "The identifier of the dispute in the Arbitrator contract.",
          "_encryptedVote": "The Shutter encrypted vote.",
          "_identity": "The Shutter identity used for encryption.",
          "_juror": "The address of the juror casting the vote commitment."
        }
      },
      "Contribution(uint256,uint256,uint256,address,uint256)": {
        "details": "To be emitted when a funding contribution is made.",
        "params": {
          "_amount": "The amount contributed.",
          "_choice": "The choice that is being funded.",
          "_contributor": "The address of the contributor.",
          "_coreDisputeID": "The identifier of the dispute in the Arbitrator contract.",
          "_coreRoundID": "The identifier of the round in the Arbitrator contract."
        }
      },
      "DisputeCreation(uint256,uint256,bytes)": {
        "details": "To be emitted when a dispute is created.",
        "params": {
          "_coreDisputeID": "The identifier of the dispute in the Arbitrator contract.",
          "_extraData": "The extra data for the dispute.",
          "_numberOfChoices": "The number of choices available in the dispute."
        }
      },
      "Initialized(uint64)": {
        "details": "Triggered when the contract has been initialized or reinitialized."
      },
      "Upgraded(address)": {
        "details": "Emitted when the `implementation` has been successfully upgraded.",
        "params": {
          "newImplementation": "Address of the new implementation the proxy is now forwarding calls to."
        }
      },
      "VoteCast(uint256,address,uint256[],uint256,string)": {
        "details": "Emitted when casting a vote to provide the justification of juror's choice.",
        "params": {
          "_choice": "The choice juror voted for.",
          "_coreDisputeID": "The identifier of the dispute in the Arbitrator contract.",
          "_juror": "Address of the juror.",
          "_justification": "Justification of the choice.",
          "_voteIDs": "The identifiers of the votes in the dispute."
        }
      },
      "Withdrawal(uint256,uint256,uint256,address,uint256)": {
        "details": "To be emitted when the contributed funds are withdrawn.",
        "params": {
          "_amount": "The amount withdrawn.",
          "_choice": "The choice that is being funded.",
          "_contributor": "The address of the contributor.",
          "_coreDisputeID": "The identifier of the dispute in the Arbitrator contract.",
          "_coreRoundID": "The identifier of the round in the Arbitrator contract."
        }
      }
    },
    "kind": "dev",
    "methods": {
      "areCommitsAllCast(uint256)": {
        "details": "Returns true if all of the jurors have cast their commits for the last round.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core."
        },
        "returns": {
          "_0": "Whether all of the jurors have cast their commits for the last round."
        }
      },
      "areVotesAllCast(uint256)": {
        "details": "Returns true if all of the jurors have cast their votes for the last round. Note that this function is to be called directly by the core contract and is not for off-chain usage.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core."
        },
        "returns": {
          "_0": "Whether all of the jurors have cast their votes for the last round."
        }
      },
      "castCommit(uint256,uint256[],bytes32)": {
        "details": "Sets the caller's commit for the specified votes. It can be called multiple times during the commit period, each call overrides the commits of the previous one. `O(n)` where `n` is the number of votes.",
        "params": {
          "_commit": "The commitment hash.",
          "_coreDisputeID": "The ID of the dispute in Kleros Core.",
          "_voteIDs": "The IDs of the votes."
        }
      },
      "castCommitShutter(uint256,uint256[],bytes32,bytes32,bytes)": {
        "details": "Sets the caller's commit for the specified votes. It can be called multiple times during the commit period, each call overrides the commits of the previous one. `O(n)` where `n` is the number of votes.",
        "params": {
          "_commit": "The commitment hash including the justification.",
          "_coreDisputeID": "The ID of the dispute in Kleros Core.",
          "_encryptedVote": "The Shutter encrypted vote.",
          "_identity": "The Shutter identity used for encryption.",
          "_voteIDs": "The IDs of the votes."
        }
      },
      "castVote(uint256,uint256[],uint256,uint256,string)": {
        "details": "Sets the caller's choices for the specified votes. `O(n)` where `n` is the number of votes.",
        "params": {
          "_choice": "The choice.",
          "_coreDisputeID": "The ID of the dispute in Kleros Core.",
          "_justification": "Justification of the choice.",
          "_salt": "The salt for the commit if the votes were hidden.",
          "_voteIDs": "The IDs of the votes."
        }
      },
      "changeCore(address)": {
        "details": "Changes the `core` storage variable.",
        "params": {
          "_core": "The new value for the `core` storage variable."
        }
      },
      "changeGovernor(address)": {
        "details": "Changes the `governor` storage variable.",
        "params": {
          "_governor": "The new value for the `governor` storage variable."
        }
      },
      "constructor": {
        "custom:oz-upgrades-unsafe-allow": "constructor"
      },
      "createDispute(uint256,uint256,bytes,uint256)": {
        "details": "Creates a local dispute and maps it to the dispute ID in the Core contract. Note: Access restricted to Kleros Core only.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core.",
          "_extraData": "Additional info about the dispute, for possible use in future dispute kits.",
          "_nbVotes": "Number of votes for this dispute.",
          "_numberOfChoices": "Number of choices of the dispute"
        }
      },
      "currentRuling(uint256)": {
        "details": "Gets the current ruling of a specified dispute.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core."
        },
        "returns": {
          "overridden": "Whether the ruling was overridden by appeal funding or not.",
          "ruling": "The current ruling.",
          "tied": "Whether it's a tie or not."
        }
      },
      "draw(uint256,uint256)": {
        "details": "Draws the juror from the sortition tree. The drawn address is picked up by Kleros Core. Note: Access restricted to Kleros Core only.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core.",
          "_nonce": "Nonce of the drawing iteration."
        },
        "returns": {
          "drawnAddress": "The drawn address."
        }
      },
      "executeGovernorProposal(address,uint256,bytes)": {
        "details": "Allows the governor to call anything on behalf of the contract.",
        "params": {
          "_amount": "The value sent with the call.",
          "_data": "The data sent with the call.",
          "_destination": "The destination of the call."
        }
      },
      "fundAppeal(uint256,uint256)": {
        "details": "Manages contributions, and appeals a dispute if at least two choices are fully funded. Note that the surplus deposit will be reimbursed.",
        "params": {
          "_choice": "A choice that receives funding.",
          "_coreDisputeID": "Index of the dispute in Kleros Core."
        }
      },
      "getCoherentCount(uint256,uint256)": {
        "details": "Gets the number of jurors who are eligible to a reward in this round.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core, not in the Dispute Kit.",
          "_coreRoundID": "The ID of the round in Kleros Core, not in the Dispute Kit."
        },
        "returns": {
          "_0": "The number of coherent jurors."
        }
      },
      "getDegreeOfCoherence(uint256,uint256,uint256,uint256,uint256)": {
        "details": "Gets the degree of coherence of a particular voter. This function is called by Kleros Core in order to determine the amount of the reward.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core, not in the Dispute Kit.",
          "_coreRoundID": "The ID of the round in Kleros Core, not in the Dispute Kit.",
          "_voteID": "The ID of the vote."
        },
        "returns": {
          "_0": "The degree of coherence in basis points."
        }
      },
      "getLocalDisputeRoundID(uint256,uint256)": {
        "details": "Returns the local dispute ID and round ID for a given core dispute ID and core round ID.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core.",
          "_coreRoundID": "The ID of the round in Kleros Core."
        },
        "returns": {
          "localDisputeID": "The ID of the dispute in the Dispute Kit.",
          "localRoundID": "The ID of the round in the Dispute Kit."
        }
      },
      "getNumberOfRounds(uint256)": {
        "details": "Returns the number of rounds in a dispute.",
        "params": {
          "_localDisputeID": "The ID of the dispute in the Dispute Kit."
        },
        "returns": {
          "_0": "The number of rounds in the dispute."
        }
      },
      "getVoteInfo(uint256,uint256,uint256)": {
        "details": "Returns the vote information for a given vote ID.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core.",
          "_coreRoundID": "The ID of the round in Kleros Core.",
          "_voteID": "The ID of the vote."
        },
        "returns": {
          "account": "The address of the juror who cast the vote.",
          "commit": "The commit of the vote."
        }
      },
      "hashVote(uint256,uint256,string)": {
        "details": "Computes the hash of a vote using ABI encoding",
        "params": {
          "_choice": "The choice being voted for",
          "_justification": "The justification for the vote",
          "_salt": "A random salt for commitment"
        },
        "returns": {
          "_0": "bytes32 The hash of the encoded vote parameters"
        }
      },
      "initialize(address,address,address)": {
        "details": "Initializer.",
        "params": {
          "_core": "The KlerosCore arbitrator.",
          "_governor": "The governor's address.",
          "_wNative": "The wrapped native token address, typically wETH."
        }
      },
      "isAppealFunded(uint256)": {
        "details": "Returns true if the appeal funding is finished prematurely (e.g. when losing side didn't fund). Note that this function is to be called directly by the core contract and is not for off-chain usage.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core, not in the Dispute Kit."
        },
        "returns": {
          "_0": "Whether the appeal funding is finished."
        }
      },
      "isVoteActive(uint256,uint256,uint256)": {
        "details": "Returns true if the specified voter was active in this round.",
        "params": {
          "_coreDisputeID": "The ID of the dispute in Kleros Core, not in the Dispute Kit.",
          "_coreRoundID": "The ID of the round in Kleros Core, not in the Dispute Kit.",
          "_voteID": "The ID of the voter."
        },
        "returns": {
          "_0": "Whether the voter was active or not."
        }
      },
      "proxiableUUID()": {
        "details": "Implementation of the ERC1822 `proxiableUUID` function. This returns the storage slot used by the implementation. It is used to validate the implementation's compatibility when performing an upgrade. IMPORTANT: A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this function revert if invoked through a proxy. This is guaranteed by the if statement."
      },
      "upgradeToAndCall(address,bytes)": {
        "details": "Upgrade mechanism including access control and UUPS-compliance.Reverts if the execution is not performed via delegatecall or the execution context is not of a proxy with an ERC1967-compliant implementation pointing to self.",
        "params": {
          "data": "Data used in a delegate call to `newImplementation` if non-empty. This will typically be an encoded function call, and allows initializing the storage of the proxy like a Solidity constructor.",
          "newImplementation": "Address of the new implementation contract."
        }
      },
      "withdrawFeesAndRewards(uint256,address,uint256,uint256)": {
        "details": "Allows those contributors who attempted to fund an appeal round to withdraw any reimbursable fees or rewards after the dispute gets resolved. Note that withdrawals are not possible if the core contract is paused.",
        "params": {
          "_beneficiary": "The address whose rewards to withdraw.",
          "_choice": "The ruling option that the caller wants to withdraw from.",
          "_coreDisputeID": "Index of the dispute in Kleros Core contract.",
          "_coreRoundID": "The round in the Kleros Core contract the caller wants to withdraw from."
        },
        "returns": {
          "amount": "The withdrawn amount."
        }
      }
    },
    "stateVariables": {
      "version": {
        "details": "Returns the version of the implementation.",
        "return": "Version string.",
        "returns": {
          "_0": "Version string."
        }
      }
    },
    "title": "DisputeKitGatedShutter Added functionality: shielded voting. Dispute kit implementation adapted from DisputeKitClassic - a drawing system: proportional to staked PNK with a non-zero balance of `tokenGate` where `tokenGate` is an ERC20, ERC721 or ERC1155 - a vote aggregation system: plurality, - an incentive system: equal split between coherent votes, - an appeal system: fund 2 choices only, vote on any choice.",
    "version": 1
  },
  "userdoc": {
    "errors": {
      "FailedDelegateCall()": [
        {
          "notice": "Failed Delegated call"
        }
      ]
    },
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 6613,
        "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
        "label": "governor",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 6616,
        "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
        "label": "core",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(KlerosCore)303"
      },
      {
        "astId": 6620,
        "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
        "label": "disputes",
        "offset": 0,
        "slot": "2",
        "type": "t_array(t_struct(Dispute)6552_storage)dyn_storage"
      },
      {
        "astId": 6624,
        "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
        "label": "coreDisputeIDToLocal",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_uint256,t_uint256)"
      },
      {
        "astId": 6626,
        "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
        "label": "singleDrawPerJuror",
        "offset": 0,
        "slot": "4",
        "type": "t_bool"
      },
      {
        "astId": 6634,
        "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
        "label": "alreadyDrawn",
        "offset": 0,
        "slot": "5",
        "type": "t_mapping(t_uint256,t_mapping(t_uint256,t_mapping(t_address,t_bool)))"
      },
      {
        "astId": 6638,
        "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
        "label": "coreDisputeIDToActive",
        "offset": 0,
        "slot": "6",
        "type": "t_mapping(t_uint256,t_bool)"
      },
      {
        "astId": 6640,
        "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
        "label": "wNative",
        "offset": 0,
        "slot": "7",
        "type": "t_address"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_struct(Dispute)6552_storage)dyn_storage": {
        "base": "t_struct(Dispute)6552_storage",
        "encoding": "dynamic_array",
        "label": "struct DisputeKitClassicBase.Dispute[]",
        "numberOfBytes": "32"
      },
      "t_array(t_struct(Round)6590_storage)dyn_storage": {
        "base": "t_struct(Round)6590_storage",
        "encoding": "dynamic_array",
        "label": "struct DisputeKitClassicBase.Round[]",
        "numberOfBytes": "32"
      },
      "t_array(t_struct(Vote)6599_storage)dyn_storage": {
        "base": "t_struct(Vote)6599_storage",
        "encoding": "dynamic_array",
        "label": "struct DisputeKitClassicBase.Vote[]",
        "numberOfBytes": "32"
      },
      "t_array(t_uint256)dyn_storage": {
        "base": "t_uint256",
        "encoding": "dynamic_array",
        "label": "uint256[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_bytes_storage": {
        "encoding": "bytes",
        "label": "bytes",
        "numberOfBytes": "32"
      },
      "t_contract(KlerosCore)303": {
        "encoding": "inplace",
        "label": "contract KlerosCore",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_bool)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_address,t_mapping(t_uint256,t_uint256))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(uint256 => uint256))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_uint256,t_uint256)"
      },
      "t_mapping(t_uint256,t_bool)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_mapping(t_uint256,t_mapping(t_address,t_bool))": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => mapping(address => bool))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_address,t_bool)"
      },
      "t_mapping(t_uint256,t_mapping(t_uint256,t_mapping(t_address,t_bool)))": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => mapping(uint256 => mapping(address => bool)))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_uint256,t_mapping(t_address,t_bool))"
      },
      "t_mapping(t_uint256,t_uint256)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_struct(Dispute)6552_storage": {
        "encoding": "inplace",
        "label": "struct DisputeKitClassicBase.Dispute",
        "members": [
          {
            "astId": 6541,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "rounds",
            "offset": 0,
            "slot": "0",
            "type": "t_array(t_struct(Round)6590_storage)dyn_storage"
          },
          {
            "astId": 6543,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "numberOfChoices",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 6545,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "jumped",
            "offset": 0,
            "slot": "2",
            "type": "t_bool"
          },
          {
            "astId": 6549,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "coreRoundIDToLocal",
            "offset": 0,
            "slot": "3",
            "type": "t_mapping(t_uint256,t_uint256)"
          },
          {
            "astId": 6551,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "extraData",
            "offset": 0,
            "slot": "4",
            "type": "t_bytes_storage"
          }
        ],
        "numberOfBytes": "160"
      },
      "t_struct(Round)6590_storage": {
        "encoding": "inplace",
        "label": "struct DisputeKitClassicBase.Round",
        "members": [
          {
            "astId": 6556,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "votes",
            "offset": 0,
            "slot": "0",
            "type": "t_array(t_struct(Vote)6599_storage)dyn_storage"
          },
          {
            "astId": 6558,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "winningChoice",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 6562,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "counts",
            "offset": 0,
            "slot": "2",
            "type": "t_mapping(t_uint256,t_uint256)"
          },
          {
            "astId": 6564,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "tied",
            "offset": 0,
            "slot": "3",
            "type": "t_bool"
          },
          {
            "astId": 6566,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "totalVoted",
            "offset": 0,
            "slot": "4",
            "type": "t_uint256"
          },
          {
            "astId": 6568,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "totalCommitted",
            "offset": 0,
            "slot": "5",
            "type": "t_uint256"
          },
          {
            "astId": 6572,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "paidFees",
            "offset": 0,
            "slot": "6",
            "type": "t_mapping(t_uint256,t_uint256)"
          },
          {
            "astId": 6576,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "hasPaid",
            "offset": 0,
            "slot": "7",
            "type": "t_mapping(t_uint256,t_bool)"
          },
          {
            "astId": 6582,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "contributions",
            "offset": 0,
            "slot": "8",
            "type": "t_mapping(t_address,t_mapping(t_uint256,t_uint256))"
          },
          {
            "astId": 6584,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "feeRewards",
            "offset": 0,
            "slot": "9",
            "type": "t_uint256"
          },
          {
            "astId": 6587,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "fundedChoices",
            "offset": 0,
            "slot": "10",
            "type": "t_array(t_uint256)dyn_storage"
          },
          {
            "astId": 6589,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "nbVotes",
            "offset": 0,
            "slot": "11",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "384"
      },
      "t_struct(Vote)6599_storage": {
        "encoding": "inplace",
        "label": "struct DisputeKitClassicBase.Vote",
        "members": [
          {
            "astId": 6592,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "account",
            "offset": 0,
            "slot": "0",
            "type": "t_address"
          },
          {
            "astId": 6594,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "commit",
            "offset": 0,
            "slot": "1",
            "type": "t_bytes32"
          },
          {
            "astId": 6596,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "choice",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 6598,
            "contract": "src/arbitration/dispute-kits/DisputeKitGatedShutter.sol:DisputeKitGatedShutter",
            "label": "voted",
            "offset": 0,
            "slot": "3",
            "type": "t_bool"
          }
        ],
        "numberOfBytes": "128"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}
