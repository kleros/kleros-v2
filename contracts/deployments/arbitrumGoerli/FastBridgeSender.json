{
  "address": "0x4d18b9792e0D8F5aF696E71dBEDff8fcBEed6e8C",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_epochPeriod",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_safeBridgeReceiver",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "batchID",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "batchSize",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "epoch",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "batchMerkleRoot",
          "type": "bytes32"
        }
      ],
      "name": "BatchOutgoing",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "fastMessage",
          "type": "bytes"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "fastMessageHash",
          "type": "bytes32"
        }
      ],
      "name": "MessageReceived",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "epoch",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "canonicalBridgeMessageID",
          "type": "bytes32"
        }
      ],
      "name": "SentSafe",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "ARB_SYS",
      "outputs": [
        {
          "internalType": "contract IArbSys",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "batch",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "batchSize",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "currentBatchID",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "epochPeriod",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "fastOutbox",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "safeBridgeReceiver",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "sendBatch",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_receiver",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "_calldata",
          "type": "bytes"
        }
      ],
      "name": "sendFast",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_epoch",
          "type": "uint256"
        }
      ],
      "name": "sendSafeFallback",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    }
  ],
  "transactionHash": "0xe4c048ee5af0b12e0dc028369e449d427a2988cf2a946d7c59c75be27efbbdd8",
  "receipt": {
    "to": null,
    "from": "0xF50E77f2A2B6138D16c6c7511562E5C33c4B15A3",
    "contractAddress": "0x4d18b9792e0D8F5aF696E71dBEDff8fcBEed6e8C",
    "transactionIndex": 1,
    "gasUsed": "12809360",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x1b4abe1aaf35db9c76b508bdcd5189ad6a5b01d0da4cbea33a658aced4b5794f",
    "transactionHash": "0xe4c048ee5af0b12e0dc028369e449d427a2988cf2a946d7c59c75be27efbbdd8",
    "logs": [],
    "blockNumber": 998358,
    "cumulativeGasUsed": "12809360",
    "status": 1,
    "byzantium": true
  },
  "args": [
    86400,
    "0x8F53f533531a40BdaA832254e282ed1b21D83F71"
  ],
  "numDeployments": 1,
  "solcInputHash": "f57208d12ea18de1e79aa93372bf0e19",
  "metadata": "{\"compiler\":{\"version\":\"0.8.9+commit.e5eed63a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_epochPeriod\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_safeBridgeReceiver\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"batchID\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"batchSize\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"epoch\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"batchMerkleRoot\",\"type\":\"bytes32\"}],\"name\":\"BatchOutgoing\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"fastMessage\",\"type\":\"bytes\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"fastMessageHash\",\"type\":\"bytes32\"}],\"name\":\"MessageReceived\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"epoch\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"canonicalBridgeMessageID\",\"type\":\"bytes32\"}],\"name\":\"SentSafe\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"ARB_SYS\",\"outputs\":[{\"internalType\":\"contract IArbSys\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"batch\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"batchSize\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentBatchID\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"epochPeriod\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"fastOutbox\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"safeBridgeReceiver\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"sendBatch\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_receiver\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"sendFast\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_epoch\",\"type\":\"uint256\"}],\"name\":\"sendSafeFallback\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"constructor\":{\"details\":\"Constructor.\",\"params\":{\"_epochPeriod\":\"The duration between epochs.\",\"_safeBridgeReceiver\":\"The the Safe Bridge Router on Ethereum to the receiving chain.\"}},\"sendFast(address,bytes)\":{\"details\":\"Sends an arbitrary message to Ethereum using the Fast Bridge.\",\"params\":{\"_calldata\":\"The receiving domain encoded message data / function arguments.\",\"_receiver\":\"The address of the contract on Ethereum which receives the calldata.\"}},\"sendSafeFallback(uint256)\":{\"details\":\"Sends the merkle root state for _epoch to Ethereum using the Safe Bridge, which relies on Arbitrum's canonical bridge. It is unnecessary during normal operations but essential only in case of challenge.\",\"params\":{\"_epoch\":\"The blocknumber of the batch\"}}},\"version\":1},\"userdoc\":{\"events\":{\"BatchOutgoing(uint256,uint256,uint256,bytes32)\":{\"notice\":\"The bridgers need to watch for these events and relay the batchMerkleRoot on the FastBridgeReceiver.\"}},\"kind\":\"user\",\"methods\":{\"sendBatch()\":{\"notice\":\"Sends a batch of arbitrary message from one domain to another via the fast bridge mechanism.\"}},\"notice\":\"Fast Bridge Sender Counterpart of `FastBridgeReceiver`\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/bridge/FastBridgeSender.sol\":\"FastBridgeSender\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":100},\"remappings\":[]},\"sources\":{\"src/bridge/FastBridgeSender.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\n/**\\n *  @authors: [@jaybuidl, @shotaronowhere]\\n *  @reviewers: []\\n *  @auditors: []\\n *  @bounties: []\\n *  @deployments: []\\n */\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./interfaces/IFastBridgeSender.sol\\\";\\nimport \\\"./interfaces/ISafeBridgeSender.sol\\\";\\nimport \\\"./interfaces/ISafeBridgeReceiver.sol\\\";\\nimport \\\"./canonical/arbitrum/IArbSys.sol\\\"; // Arbitrum sender specific\\n\\n/**\\n * Fast Bridge Sender\\n * Counterpart of `FastBridgeReceiver`\\n */\\ncontract FastBridgeSender is IFastBridgeSender, ISafeBridgeSender {\\n    // **************************************** //\\n    // *                                      * //\\n    // *     Arbitrum Sender Specific         * //\\n    // *                                      * //\\n    // **************************************** //\\n\\n    // ************************************* //\\n    // *             Storage               * //\\n    // ************************************* //\\n\\n    IArbSys public constant ARB_SYS = IArbSys(address(100));\\n\\n    /**\\n     * @dev Sends the merkle root state for _epoch to Ethereum using the Safe Bridge, which relies on Arbitrum's canonical bridge. It is unnecessary during normal operations but essential only in case of challenge.\\n     * @param _epoch The blocknumber of the batch\\n     */\\n    function sendSafeFallback(uint256 _epoch) external payable override {\\n        require(_epoch <= currentBatchID, \\\"Invalid epoch.\\\");\\n        bytes32 batchMerkleRoot = fastOutbox[_epoch];\\n\\n        // Safe Bridge message envelope\\n        bytes4 methodSelector = ISafeBridgeReceiver.verifySafeBatch.selector;\\n        bytes memory safeMessageData = abi.encodeWithSelector(methodSelector, _epoch, batchMerkleRoot);\\n\\n        bytes32 ticketID = _sendSafe(safeBridgeReceiver, safeMessageData);\\n        emit SentSafe(_epoch, ticketID);\\n    }\\n\\n    function _sendSafe(address _receiver, bytes memory _calldata) internal override returns (bytes32) {\\n        uint256 ticketID = ARB_SYS.sendTxToL1(_receiver, _calldata);\\n\\n        return bytes32(ticketID);\\n    }\\n\\n    /**\\n     * @dev Constructor.\\n     * @param _epochPeriod The duration between epochs.\\n     * @param _safeBridgeReceiver The the Safe Bridge Router on Ethereum to the receiving chain.\\n     */\\n    constructor(uint256 _epochPeriod, address _safeBridgeReceiver) {\\n        epochPeriod = _epochPeriod;\\n        safeBridgeReceiver = _safeBridgeReceiver;\\n        unchecked {\\n            currentBatchID = block.timestamp / _epochPeriod - 1;\\n        }\\n    }\\n\\n    // ************************************** //\\n    // *                                    * //\\n    // *         General Sender             * //\\n    // *                                    * //\\n    // ************************************** //\\n\\n    // ************************************* //\\n    // *             Storage               * //\\n    // ************************************* //\\n\\n    uint256 public immutable epochPeriod; // Epochs mark the period between potential batches of messages.\\n    uint256 public currentBatchID;\\n    mapping(uint256 => bytes32) public fastOutbox; // epoch count => merkle root of batched messages\\n    address public immutable safeBridgeReceiver;\\n\\n    // merkle tree representation of a batch of messages\\n    // supports 2^64 messages.\\n    bytes32[64] public batch;\\n    uint256 public batchSize;\\n\\n    // ************************************* //\\n    // *         State Modifiers           * //\\n    // ************************************* //\\n\\n    /**\\n     * @dev Sends an arbitrary message to Ethereum using the Fast Bridge.\\n     * @param _receiver The address of the contract on Ethereum which receives the calldata.\\n     * @param _calldata The receiving domain encoded message data / function arguments.\\n     */\\n    function sendFast(address _receiver, bytes memory _calldata) external override {\\n        (bytes32 fastMessageHash, bytes memory fastMessage) = _encode(_receiver, _calldata);\\n        emit MessageReceived(fastMessage, fastMessageHash);\\n        appendMessage(fastMessageHash); // add message to merkle tree\\n    }\\n\\n    /**\\n     * Sends a batch of arbitrary message from one domain to another via the fast bridge mechanism.\\n     */\\n    function sendBatch() external override {\\n        uint256 epoch = block.timestamp / epochPeriod;\\n        require(fastOutbox[epoch] == 0, \\\"Batch already sent for the current epoch.\\\");\\n        require(batchSize > 0, \\\"No messages to send.\\\");\\n\\n        // set merkle root in outbox\\n        bytes32 batchMerkleRoot = getMerkleRoot();\\n        fastOutbox[epoch] = batchMerkleRoot;\\n        emit BatchOutgoing(currentBatchID, batchSize, epoch, batchMerkleRoot);\\n\\n        // reset\\n        batchSize = 0;\\n        currentBatchID = epoch;\\n    }\\n\\n    // ************************ //\\n    // *       Internal       * //\\n    // ************************ //\\n\\n    function _encode(address _receiver, bytes memory _calldata)\\n        internal\\n        view\\n        returns (bytes32 fastMessageHash, bytes memory fastMessage)\\n    {\\n        // Encode the receiver address with the function signature + arguments i.e calldata\\n        bytes32 sender = bytes32(bytes20(msg.sender));\\n        bytes32 receiver = bytes32(bytes20(_receiver));\\n        uint256 nonce = batchSize;\\n        // add sender and receiver with proper function selector formatting\\n        // [length][nonce][receiver: 1 slot padded][offset][function selector: 4 bytes no padding][msg.sender: 1 slot padded][function arguments: 1 slot padded]\\n        assembly {\\n            fastMessage := mload(0x40) // free memory pointer\\n            let lengthCalldata := mload(_calldata) // calldata length\\n            let lengthFastMesssageCalldata := add(lengthCalldata, 0x20) // add msg.sender\\n            let lengthEncodedMessage := add(lengthFastMesssageCalldata, 0x80) // 1 offsets, receiver, and lengthFastMesssageCalldata\\n            mstore(fastMessage, lengthEncodedMessage) // bytes length\\n            mstore(add(fastMessage, 0x20), nonce) // nonce\\n            mstore(add(fastMessage, 0x4c), receiver) // receiver\\n            mstore(add(fastMessage, 0x60), 0x60) // offset\\n            mstore(add(fastMessage, 0x80), lengthFastMesssageCalldata) // fast message length\\n            mstore(\\n                add(fastMessage, 0xa0),\\n                and(mload(add(_calldata, 0x20)), 0xFFFFFFFF00000000000000000000000000000000000000000000000000000000)\\n            ) // function selector\\n            mstore(add(fastMessage, 0xb0), sender) // sender\\n\\n            let _cursor := add(fastMessage, 0xc4) // begin copying arguments of function call\\n            let _cursorCalldata := add(_calldata, 0x24) // beginning of arguments\\n\\n            // copy all arguments\\n            for {\\n                let j := 0x00\\n            } lt(j, lengthCalldata) {\\n                j := add(j, 0x20)\\n            } {\\n                mstore(_cursor, mload(add(_cursorCalldata, j)))\\n                _cursor := add(_cursor, 0x20)\\n            }\\n            // update free pointer\\n            mstore(0x40, _cursor)\\n        }\\n        // Compute the hash over the message header (batchSize as nonce) and body (fastMessage).\\n        fastMessageHash = sha256(fastMessage);\\n    }\\n\\n    // ********************************* //\\n    // *         Merkle Tree           * //\\n    // ********************************* //\\n\\n    /**\\n     *  @dev Append data into merkle tree.\\n     *  `O(log(n))` where `n` is the number of leaves.\\n     *  Note: Although each insertion is O(log(n)), complexity of n insertions is O(n).\\n     *  Note: Inlined from `merkle/MerkleTree.sol` for performance.\\n     *  @param leaf The leaf (already hashed) to insert in the merkle tree.\\n     */\\n    function appendMessage(bytes32 leaf) internal {\\n        unchecked {\\n            // Differentiate leaves from interior nodes with different\\n            // hash functions to prevent 2nd order pre-image attack.\\n            // https://flawed.net.nz/2018/02/21/attacking-merkle-trees-with-a-second-preimage-attack/\\n            uint256 size = batchSize + 1;\\n            batchSize = size;\\n            uint256 hashBitField = (size ^ (size - 1)) & size;\\n            uint256 height;\\n            while ((hashBitField & 1) == 0) {\\n                bytes32 node = batch[height];\\n                if (node > leaf)\\n                    assembly {\\n                        // efficient hash\\n                        mstore(0x00, leaf)\\n                        mstore(0x20, node)\\n                        leaf := keccak256(0x00, 0x40)\\n                    }\\n                else\\n                    assembly {\\n                        // efficient hash\\n                        mstore(0x00, node)\\n                        mstore(0x20, leaf)\\n                        leaf := keccak256(0x00, 0x40)\\n                    }\\n                hashBitField /= 2;\\n                height++;\\n            }\\n            batch[height] = leaf;\\n        }\\n    }\\n\\n    /**\\n     * @dev Gets the current merkle root.\\n     *  `O(log(n))` where `n` is the number of leaves.\\n     *  Note: Inlined from `merkle/MerkleTree.sol` for performance.\\n     */\\n    function getMerkleRoot() internal view returns (bytes32) {\\n        unchecked {\\n            bytes32 node;\\n            uint256 size = batchSize;\\n            uint256 height = 0;\\n            bool isFirstHash = true;\\n            while (size > 0) {\\n                if ((size & 1) == 1) {\\n                    // avoid redundant calculation\\n                    if (isFirstHash) {\\n                        node = batch[height];\\n                        isFirstHash = false;\\n                    } else {\\n                        bytes32 hash = batch[height];\\n                        // efficient hash\\n                        if (hash > node)\\n                            assembly {\\n                                mstore(0x00, node)\\n                                mstore(0x20, hash)\\n                                node := keccak256(0x00, 0x40)\\n                            }\\n                        else\\n                            assembly {\\n                                mstore(0x00, hash)\\n                                mstore(0x20, node)\\n                                node := keccak256(0x00, 0x40)\\n                            }\\n                    }\\n                }\\n                size /= 2;\\n                height++;\\n            }\\n            return node;\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xbe2bc51e6bbdbef98a8721050e46c02fc133f3cb535f07467e87eb23c90435a4\",\"license\":\"MIT\"},\"src/bridge/canonical/arbitrum/IArbSys.sol\":{\"content\":\"// SPDX-License-Identifier: Apache-2.0\\n\\npragma solidity >=0.7.0;\\n\\n/**\\n * @title Precompiled contract that exists in every Arbitrum chain at address(100), 0x0000000000000000000000000000000000000064. Exposes a variety of system-level functionality.\\n */\\ninterface IArbSys {\\n    /**\\n     * @notice Get internal version number identifying an ArbOS build\\n     * @return version number as int\\n     */\\n    function arbOSVersion() external pure returns (uint256);\\n\\n    /**\\n     * @notice Get Arbitrum block number (distinct from L1 block number; Arbitrum genesis block has block number 0)\\n     * @return block number as int\\n     */\\n    function arbBlockNumber() external view returns (uint256);\\n\\n    /**\\n     * @notice Send given amount of Eth to dest from sender.\\n     * This is a convenience function, which is equivalent to calling sendTxToL1 with empty calldataForL1.\\n     * @param destination recipient address on L1\\n     * @return unique identifier for this L2-to-L1 transaction.\\n     */\\n    function withdrawEth(address destination) external payable returns (uint256);\\n\\n    /**\\n     * @notice Send a transaction to L1\\n     * @param destination recipient address on L1\\n     * @param calldataForL1 (optional) calldata for L1 contract call\\n     * @return a unique identifier for this L2-to-L1 transaction.\\n     */\\n    function sendTxToL1(address destination, bytes calldata calldataForL1) external payable returns (uint256);\\n\\n    /**\\n     * @notice get the number of transactions issued by the given external account or the account sequence number of the given contract\\n     * @param account target account\\n     * @return the number of transactions issued by the given external account or the account sequence number of the given contract\\n     */\\n    function getTransactionCount(address account) external view returns (uint256);\\n\\n    /**\\n     * @notice get the value of target L2 storage slot\\n     * This function is only callable from address 0 to prevent contracts from being able to call it\\n     * @param account target account\\n     * @param index target index of storage slot\\n     * @return stotage value for the given account at the given index\\n     */\\n    function getStorageAt(address account, uint256 index) external view returns (uint256);\\n\\n    /**\\n     * @notice check if current call is coming from l1\\n     * @return true if the caller of this was called directly from L1\\n     */\\n    function isTopLevelCall() external view returns (bool);\\n\\n    event EthWithdrawal(address indexed destAddr, uint256 amount);\\n\\n    event L2ToL1Transaction(\\n        address caller,\\n        address indexed destination,\\n        uint256 indexed uniqueId,\\n        uint256 indexed batchNumber,\\n        uint256 indexInBatch,\\n        uint256 arbBlockNum,\\n        uint256 ethBlockNum,\\n        uint256 timestamp,\\n        uint256 callvalue,\\n        bytes data\\n    );\\n}\\n\",\"keccak256\":\"0x2abbc6cf12d56c18cf4339b34747f6adea78f17a82e1813923a05d9aa7597ef3\",\"license\":\"Apache-2.0\"},\"src/bridge/interfaces/IFastBridgeSender.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\n/**\\n *  @authors: [@jaybuidl, @shotaronowhere]\\n *  @reviewers: []\\n *  @auditors: []\\n *  @bounties: []\\n *  @deployments: []\\n */\\n\\npragma solidity ^0.8.0;\\n\\ninterface IFastBridgeSender {\\n    // ************************************* //\\n    // *              Events               * //\\n    // ************************************* //\\n\\n    /**\\n     * @dev The Fast Bridge participants need to watch for these events and relay the messageHash on the FastBridgeReceiverOnEthereum.\\n     * @param fastMessage The fast message data.\\n     * @param fastMessage The hash of the fast message data encoded with the nonce.\\n     */\\n    event MessageReceived(bytes fastMessage, bytes32 fastMessageHash);\\n\\n    /**\\n     * @dev The event is emitted when messages are sent through the canonical bridge.\\n     * @param epoch The epoch of the batch requested to send.\\n     * @param canonicalBridgeMessageID The unique identifier of the safe message returned by the canonical bridge.\\n     */\\n    event SentSafe(uint256 indexed epoch, bytes32 canonicalBridgeMessageID);\\n\\n    /**\\n     * The bridgers need to watch for these events and relay the\\n     * batchMerkleRoot on the FastBridgeReceiver.\\n     */\\n    event BatchOutgoing(uint256 indexed batchID, uint256 batchSize, uint256 epoch, bytes32 batchMerkleRoot);\\n\\n    // ************************************* //\\n    // *        Function Modifiers         * //\\n    // ************************************* //\\n\\n    /**\\n     * Note: Access must be restricted by the receiving gateway by checking the sender argument.\\n     * @dev Sends an arbitrary message across domain using the Fast Bridge.\\n     * @param _receiver The cross-domain contract address which receives the calldata.\\n     * @param _calldata The receiving domain encoded message data.\\n     */\\n    function sendFast(address _receiver, bytes memory _calldata) external;\\n\\n    /**\\n     * Sends a batch of arbitrary message from one domain to another\\n     * via the fast bridge mechanism.\\n     */\\n    function sendBatch() external;\\n\\n    /**\\n     * @dev Sends a markle root representing an arbitrary batch of messages across domain using the Safe Bridge, which relies on the chain's canonical bridge. It is unnecessary during normal operations but essential only in case of challenge.\\n     * @param _epoch block number of batch\\n     */\\n    function sendSafeFallback(uint256 _epoch) external payable;\\n}\\n\",\"keccak256\":\"0xa5cb5243fff3d0eb309c88c3d93bc69a084b5ff46b5ab31967cfb6f41a2fa145\",\"license\":\"MIT\"},\"src/bridge/interfaces/ISafeBridgeReceiver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\n/**\\n *  @authors: [@jaybuidl, @shotaronowhere]\\n *  @reviewers: []\\n *  @auditors: []\\n *  @bounties: []\\n *  @deployments: []\\n */\\n\\npragma solidity ^0.8.0;\\n\\nabstract contract ISafeBridgeReceiver {\\n    /**\\n     * Note: Access restricted to the Safe Bridge.\\n     * @dev Resolves any challenge of the optimistic claim for '_epoch'.\\n     * @param _epoch The epoch associated with the _batchmerkleRoot.\\n     * @param _batchMerkleRoot The true batch merkle root for the epoch sent by the safe bridge.\\n     */\\n    function verifySafeBatch(uint256 _epoch, bytes32 _batchMerkleRoot) external virtual;\\n\\n    function isSentBySafeBridge() internal view virtual returns (bool);\\n\\n    modifier onlyFromSafeBridge() {\\n        require(isSentBySafeBridge(), \\\"Safe Bridge only.\\\");\\n        _;\\n    }\\n}\\n\",\"keccak256\":\"0xc4bee04423c73bf37e7d975fccab05767ba0e738cc753d293438c2d1ace9f804\",\"license\":\"MIT\"},\"src/bridge/interfaces/ISafeBridgeSender.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\n/**\\n *  @authors: [@jaybuidl, @shotaronowhere]\\n *  @reviewers: []\\n *  @auditors: []\\n *  @bounties: []\\n *  @deployments: []\\n */\\n\\npragma solidity ^0.8.0;\\n\\nabstract contract ISafeBridgeSender {\\n    /**\\n     * Sends an arbitrary message from one domain to another.\\n     *\\n     * @param _receiver The contract address which will receive the calldata on the receiving chain.\\n     * @param _calldata The encoded message data to send.\\n     * @return Unique id to track the message request/transaction.\\n     */\\n    function _sendSafe(address _receiver, bytes memory _calldata) internal virtual returns (bytes32);\\n}\\n\",\"keccak256\":\"0xe17476e515afdd9496b00ab122162c5700d3c6fdda947f70027d5bf6f4645c93\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60c060405234801561001057600080fd5b50604051610a97380380610a9783398101604081905261002f9161005f565b60808290526001600160a01b03811660a05260018242816100525761005261009c565b0403600055506100b29050565b6000806040838503121561007257600080fd5b825160208401519092506001600160a01b038116811461009157600080fd5b809150509250929050565b634e487b7160e01b600052601260045260246000fd5b60805160a0516109b36100e46000396000818160db015261046701526000818161018b015261027801526109b36000f3fe6080604052600436106100915760003560e01c8063b5b7a18411610059578063b5b7a18414610179578063bd0805eb146101ad578063bd8e62d6146101c3578063d8c05a3a146101d8578063f4daaba1146101eb57600080fd5b80630eaa75fe1461009657806364fccb52146100c95780637834f14e1461011557806398ec20ec14610142578063a093961b14610164575b600080fd5b3480156100a257600080fd5b506100b66100b1366004610773565b610201565b6040519081526020015b60405180910390f35b3480156100d557600080fd5b506100fd7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100c0565b34801561012157600080fd5b506100b6610130366004610773565b60016020526000908152604090205481565b34801561014e57600080fd5b5061016261015d3660046107a2565b610218565b005b34801561017057600080fd5b50610162610271565b34801561018557600080fd5b506100b67f000000000000000000000000000000000000000000000000000000000000000081565b3480156101b957600080fd5b506100b660005481565b3480156101cf57600080fd5b506100fd606481565b6101626101e6366004610773565b6103cc565b3480156101f757600080fd5b506100b660425481565b6002816040811061021157600080fd5b0154905081565b60008061022584846104cf565b915091507f184cd819d58dedfbb6e4281fbfc51de811c74320929a718c5e27f367f55dd892818360405161025a9291906108ca565b60405180910390a161026b826105be565b50505050565b600061029d7f0000000000000000000000000000000000000000000000000000000000000000426108ec565b600081815260016020526040902054909150156103135760405162461bcd60e51b815260206004820152602960248201527f426174636820616c72656164792073656e7420666f7220746865206375727265604482015268373a1032b837b1b41760b91b60648201526084015b60405180910390fd5b60006042541161035c5760405162461bcd60e51b815260206004820152601460248201527327379036b2b9b9b0b3b2b9903a379039b2b7321760611b604482015260640161030a565b6000610366610649565b600083815260016020908152604080832084905591546042548351908152918201869052918101839052919250907ff67fa0a4947381c1657490b7a5e74d1da3cd790f5ee5a6fd0020306eff024fee9060600160405180910390a2506000604281905555565b60005481111561040f5760405162461bcd60e51b815260206004820152600e60248201526d24b73b30b634b21032b837b1b41760911b604482015260640161030a565b600081815260016020908152604080832054815160248101869052604480820183905283518083039091018152606490910190925291810180516001600160e01b0316632dff2f8d60e11b908117909152919261048c7f0000000000000000000000000000000000000000000000000000000000000000836106ee565b9050847f98f86a6cdb328955823a542be2edbbc788c9cc7052e74f9f20d0ab3988a6ade7826040516104c091815260200190565b60405180910390a25050505050565b604254604051825160a0808201835260208084018590526bffffffffffffffffffffffff19606088811b8216604c87018190528187018290528386016080880152928801516001600160e01b031916938601939093523390921b90911660b08401819052600094909260c4850160248801875b8381101561055c5781810151835260209283019201610542565b505060408190526002915061057290869061090e565b602060405180830381855afa15801561058f573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906105b2919061092a565b94505050509250929050565b6042805460018101918290558118811660005b6001821661062d576000600282604081106105ee576105ee610943565b015490508481111561060e5784600052806020526040600020945061061e565b8060005284602052604060002094505b600283049250506001016105d1565b836002826040811061064157610641610943565b015550505050565b60425460009081908160015b82156106e55782600116600114156106d457801561068d576002826040811061068057610680610943565b01549350600090506106d4565b6000600283604081106106a2576106a2610943565b01549050848111156106c2578460005280602052604060002094506106d2565b8060005284602052604060002094505b505b600283049250600190910190610655565b50919392505050565b6040516349460b4d60e11b8152600090819060649063928c169a906107199087908790600401610959565b602060405180830381600087803b15801561073357600080fd5b505af1158015610747573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061076b919061092a565b949350505050565b60006020828403121561078557600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b600080604083850312156107b557600080fd5b82356001600160a01b03811681146107cc57600080fd5b9150602083013567ffffffffffffffff808211156107e957600080fd5b818501915085601f8301126107fd57600080fd5b81358181111561080f5761080f61078c565b604051601f8201601f19908116603f011681019083821181831017156108375761083761078c565b8160405282815288602084870101111561085057600080fd5b8260208601602083013760006020848301015280955050505050509250929050565b60005b8381101561088d578181015183820152602001610875565b8381111561026b5750506000910152565b600081518084526108b6816020860160208601610872565b601f01601f19169290920160200192915050565b6040815260006108dd604083018561089e565b90508260208301529392505050565b60008261090957634e487b7160e01b600052601260045260246000fd5b500490565b60008251610920818460208701610872565b9190910192915050565b60006020828403121561093c57600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6001600160a01b038316815260406020820181905260009061076b9083018461089e56fea264697066735822122040ca4ae3bbec22ee16c3d71c098f1c6a7d9af837162777fb31de1e7504d4195764736f6c63430008090033",
  "deployedBytecode": "0x6080604052600436106100915760003560e01c8063b5b7a18411610059578063b5b7a18414610179578063bd0805eb146101ad578063bd8e62d6146101c3578063d8c05a3a146101d8578063f4daaba1146101eb57600080fd5b80630eaa75fe1461009657806364fccb52146100c95780637834f14e1461011557806398ec20ec14610142578063a093961b14610164575b600080fd5b3480156100a257600080fd5b506100b66100b1366004610773565b610201565b6040519081526020015b60405180910390f35b3480156100d557600080fd5b506100fd7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100c0565b34801561012157600080fd5b506100b6610130366004610773565b60016020526000908152604090205481565b34801561014e57600080fd5b5061016261015d3660046107a2565b610218565b005b34801561017057600080fd5b50610162610271565b34801561018557600080fd5b506100b67f000000000000000000000000000000000000000000000000000000000000000081565b3480156101b957600080fd5b506100b660005481565b3480156101cf57600080fd5b506100fd606481565b6101626101e6366004610773565b6103cc565b3480156101f757600080fd5b506100b660425481565b6002816040811061021157600080fd5b0154905081565b60008061022584846104cf565b915091507f184cd819d58dedfbb6e4281fbfc51de811c74320929a718c5e27f367f55dd892818360405161025a9291906108ca565b60405180910390a161026b826105be565b50505050565b600061029d7f0000000000000000000000000000000000000000000000000000000000000000426108ec565b600081815260016020526040902054909150156103135760405162461bcd60e51b815260206004820152602960248201527f426174636820616c72656164792073656e7420666f7220746865206375727265604482015268373a1032b837b1b41760b91b60648201526084015b60405180910390fd5b60006042541161035c5760405162461bcd60e51b815260206004820152601460248201527327379036b2b9b9b0b3b2b9903a379039b2b7321760611b604482015260640161030a565b6000610366610649565b600083815260016020908152604080832084905591546042548351908152918201869052918101839052919250907ff67fa0a4947381c1657490b7a5e74d1da3cd790f5ee5a6fd0020306eff024fee9060600160405180910390a2506000604281905555565b60005481111561040f5760405162461bcd60e51b815260206004820152600e60248201526d24b73b30b634b21032b837b1b41760911b604482015260640161030a565b600081815260016020908152604080832054815160248101869052604480820183905283518083039091018152606490910190925291810180516001600160e01b0316632dff2f8d60e11b908117909152919261048c7f0000000000000000000000000000000000000000000000000000000000000000836106ee565b9050847f98f86a6cdb328955823a542be2edbbc788c9cc7052e74f9f20d0ab3988a6ade7826040516104c091815260200190565b60405180910390a25050505050565b604254604051825160a0808201835260208084018590526bffffffffffffffffffffffff19606088811b8216604c87018190528187018290528386016080880152928801516001600160e01b031916938601939093523390921b90911660b08401819052600094909260c4850160248801875b8381101561055c5781810151835260209283019201610542565b505060408190526002915061057290869061090e565b602060405180830381855afa15801561058f573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906105b2919061092a565b94505050509250929050565b6042805460018101918290558118811660005b6001821661062d576000600282604081106105ee576105ee610943565b015490508481111561060e5784600052806020526040600020945061061e565b8060005284602052604060002094505b600283049250506001016105d1565b836002826040811061064157610641610943565b015550505050565b60425460009081908160015b82156106e55782600116600114156106d457801561068d576002826040811061068057610680610943565b01549350600090506106d4565b6000600283604081106106a2576106a2610943565b01549050848111156106c2578460005280602052604060002094506106d2565b8060005284602052604060002094505b505b600283049250600190910190610655565b50919392505050565b6040516349460b4d60e11b8152600090819060649063928c169a906107199087908790600401610959565b602060405180830381600087803b15801561073357600080fd5b505af1158015610747573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061076b919061092a565b949350505050565b60006020828403121561078557600080fd5b5035919050565b634e487b7160e01b600052604160045260246000fd5b600080604083850312156107b557600080fd5b82356001600160a01b03811681146107cc57600080fd5b9150602083013567ffffffffffffffff808211156107e957600080fd5b818501915085601f8301126107fd57600080fd5b81358181111561080f5761080f61078c565b604051601f8201601f19908116603f011681019083821181831017156108375761083761078c565b8160405282815288602084870101111561085057600080fd5b8260208601602083013760006020848301015280955050505050509250929050565b60005b8381101561088d578181015183820152602001610875565b8381111561026b5750506000910152565b600081518084526108b6816020860160208601610872565b601f01601f19169290920160200192915050565b6040815260006108dd604083018561089e565b90508260208301529392505050565b60008261090957634e487b7160e01b600052601260045260246000fd5b500490565b60008251610920818460208701610872565b9190910192915050565b60006020828403121561093c57600080fd5b5051919050565b634e487b7160e01b600052603260045260246000fd5b6001600160a01b038316815260406020820181905260009061076b9083018461089e56fea264697066735822122040ca4ae3bbec22ee16c3d71c098f1c6a7d9af837162777fb31de1e7504d4195764736f6c63430008090033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "constructor": {
        "details": "Constructor.",
        "params": {
          "_epochPeriod": "The duration between epochs.",
          "_safeBridgeReceiver": "The the Safe Bridge Router on Ethereum to the receiving chain."
        }
      },
      "sendFast(address,bytes)": {
        "details": "Sends an arbitrary message to Ethereum using the Fast Bridge.",
        "params": {
          "_calldata": "The receiving domain encoded message data / function arguments.",
          "_receiver": "The address of the contract on Ethereum which receives the calldata."
        }
      },
      "sendSafeFallback(uint256)": {
        "details": "Sends the merkle root state for _epoch to Ethereum using the Safe Bridge, which relies on Arbitrum's canonical bridge. It is unnecessary during normal operations but essential only in case of challenge.",
        "params": {
          "_epoch": "The blocknumber of the batch"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "events": {
      "BatchOutgoing(uint256,uint256,uint256,bytes32)": {
        "notice": "The bridgers need to watch for these events and relay the batchMerkleRoot on the FastBridgeReceiver."
      }
    },
    "kind": "user",
    "methods": {
      "sendBatch()": {
        "notice": "Sends a batch of arbitrary message from one domain to another via the fast bridge mechanism."
      }
    },
    "notice": "Fast Bridge Sender Counterpart of `FastBridgeReceiver`",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 13293,
        "contract": "src/bridge/FastBridgeSender.sol:FastBridgeSender",
        "label": "currentBatchID",
        "offset": 0,
        "slot": "0",
        "type": "t_uint256"
      },
      {
        "astId": 13297,
        "contract": "src/bridge/FastBridgeSender.sol:FastBridgeSender",
        "label": "fastOutbox",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_uint256,t_bytes32)"
      },
      {
        "astId": 13303,
        "contract": "src/bridge/FastBridgeSender.sol:FastBridgeSender",
        "label": "batch",
        "offset": 0,
        "slot": "2",
        "type": "t_array(t_bytes32)64_storage"
      },
      {
        "astId": 13305,
        "contract": "src/bridge/FastBridgeSender.sol:FastBridgeSender",
        "label": "batchSize",
        "offset": 0,
        "slot": "66",
        "type": "t_uint256"
      }
    ],
    "types": {
      "t_array(t_bytes32)64_storage": {
        "base": "t_bytes32",
        "encoding": "inplace",
        "label": "bytes32[64]",
        "numberOfBytes": "2048"
      },
      "t_bytes32": {
        "encoding": "inplace",
        "label": "bytes32",
        "numberOfBytes": "32"
      },
      "t_mapping(t_uint256,t_bytes32)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => bytes32)",
        "numberOfBytes": "32",
        "value": "t_bytes32"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}
